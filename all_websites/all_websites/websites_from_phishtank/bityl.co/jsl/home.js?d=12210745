const A60a=['UserProfiles','reload','DomainURL','fail','disabled','keyup','success','#whatsNewId2','getFullYear','#urlOptionPwd','length','label','ajax','catch','split','addClass','url','#urlCustomOptionsBtn','endPoints','#endDate','APIToken','urlPwd','Custom\x20URL\x20name\x20is\x20available!','&testdb=','Login\x20session\x20is\x20expired,\x20please\x20login\x20again.','Copy\x20to\x20clipboard','#urlOptions','parse','dateFrom','inline-flex\x20!important','Shortening\x20your\x20link...','firestore','attr','&op21=','Custom\x20URL\x20key\x20doesn\x27t\x20seem\x20to\x20be\x20exist,\x20please\x20check.','bitlydata','notify','available','testdb','substring','Enter\x20the\x20custom\x20URL\x20name','\x27\x20target=\x27_blank\x27>','hasOwnProperty','#whatsNewId1','&s=','HomeModal','URLLimits','#sharingId2','&uid=','inline-block','SvcURL102','Enter\x20the\x20custom\x20URL\x20name.','&op1=','#startDate','warning','fadeOut','-Pwd','responseText','datepicker','search','trim','then','#urlOptionCustHash','get','css','input.form-check-input','warn','Special\x20characters\x20are\x20not\x20allowed,\x20except\x20-\x20OR\x20_','error_code','click-event','#urlCustom',':checked','url=','status_code','btn-success','location','data','<br><div\x20id=\x22sharingId2\x22\x20style=\x27text-align:\x20center;\x27></div>','#copyToClip','li.list-group-item:eq(0)','mdb','custKey','#urlOptionDate','&op3=','click','#urlCustomKeyCheckBtn','Password\x20should\x20contains\x20at\x20least\x204\x20characters','prop','data=','setFDBItem','Custom\x20URL\x20name\x20should\x20contains\x20at\x20least\x204\x20characters','origin','fadeIn','#urlOptions\x20\x20input','error','li.list-group-item:eq(2)','getMainObject','?ckey=','bootstrap4','Sorry,\x20you\x20have\x20reached\x20the\x20maximum\x20limit.','#urlPwd','with-options','Security','Enter\x20the\x20password','#shorten','doc','#customBaseDomainURL','Enter\x20a\x20valid\x20FROM\x20and\x20TO\x20dates','MAX-Limit-Updated-Local','status_txt','&token=','CF_URLShortner','val','dateTo','vals','URLCreate','false','getMonth','&src=web','setMainObject','&op22=','CF_URLCustomKey','li.list-group-item:eq(1)','home.js','Checking\x20its\x20availability..','getDate','collection','Failed,\x20please\x20check\x20your\x20network\x20connecting\x20or\x20contact\x20us.','removeClass','true','fdb','#urlLong','lx.','URL\x20is\x20empty,\x20please\x20enter!'];(function(a,b){const c=function(d){while(--d){a['push'](a['shift']());}};c(++b);}(A60a,0x165));const A60b=function(a,b){a=a-0x1a7;let c=A60a[a];return c;};const A60q=A60b;var logHome=new logger(A60q(0x1c9));let customOps;$(function(){const r=A60q;curUserId=curUserId?curUserId:db[r(0x213)]('uid'),eventHandlersOfHomeJS();});function eventHandlersOfHomeJS(){const t=A60q;$(document)['on']('click','#shorten',function(a){const s=A60b;shortenURL(null,s(0x219));}),$(document)['on'](t(0x228),t(0x1ff),function(a){const u=t;$(u(0x1db))[u(0x1aa)](0x3e8);}),$(t(0x21a))[t(0x1d9)](function(){const v=t;$(this)[v(0x1f4)]('available',v(0x1c2));});}function shortenURL(a,b){const w=A60q;try{let c=$[w(0x210)]($('#urlLong')[w(0x1be)]());if(isEmpty(c))throw'URL\x20is\x20empty,\x20please\x20enter!';if(!isValidURL(c))throw'Invalid\x20URL!';c=withHttp(c);let d=w(0x21c)+encodeURIComponent(c)+w(0x1bc)+CONST[w(0x1e8)]+w(0x1c4),f=db['get']('uid');d+=isEmpty(f)?'':w(0x204)+f;let g=getQueryParamVal('s'),h=getQueryParamVal(w(0x1fa));!isEmpty(g)&&(d+=w(0x200)+g);!isEmpty(h)&&(d+=w(0x1eb)+h);try{!isEmpty(a)&&(d+=isEmpty(a[w(0x225)])?'':w(0x208)+a[w(0x225)][w(0x210)](),d+=isEmpty(a[w(0x1f0)])?'':w(0x1f5)+a[w(0x1f0)],d+=isEmpty(a['dateTo'])?'':w(0x1c6)+a[w(0x1bf)],d+=isEmpty(a[w(0x1e9)])?'':w(0x227)+a['urlPwd'][w(0x210)]());}catch(j){}d=w(0x22c)+btoa(d);if(isUSerLoggedIn()){const k=uldb[w(0x1ae)]();if(!isEmpty(k)){if(k['fdb']['l']>k[w(0x1d0)]['lm']){loading(w(0x1f2),w(0x216)),gaEvent(gaVals[w(0x1df)][w(0x1c1)]+'['+curUserId+']',gaVals[w(0x1df)][w(0x202)],'MAX-Limit-Reached'),setTimeout(function(){checkAndUpdateUserLimits();},0x3e8);return;}}}let i=window[w(0x21f)][w(0x1a9)]+CONST['endPoints'][w(0x1bd)]+'?'+d;loading(w(0x1f2),w(0x216)),$[w(0x1e0)]({'url':i,'success':function(l){const x=w;loadingDone();let m=l[x(0x1f7)]['data'][x(0x1e4)];$(x(0x1d1))['val'](''),showShortURL(m),resetURLOptions(),isEmpty(customOps)?gaEvent(gaVals['label']['URLCreate']+'['+curUserId+']',gaVals['vals'][x(0x1da)],getHashIdFromURL(m)):(gaEvent(gaVals[x(0x1df)]['URLCreate']+'['+curUserId+']'+'['+customOps+']',gaVals[x(0x1c0)][x(0x1da)],getHashIdFromURL(m)),customOps='');},'error':function(l,m,n){const y=w;loadingDone(),$('#urlCustomOptionsBtn')['removeClass'](y(0x1d8));if(isEmpty(l[y(0x20d)])){$['notify'](y(0x1cd),y(0x1ac));return;}const o=JSON[y(0x1ef)](l[y(0x20d)]);$[y(0x1f8)](o['bitlydata'][y(0x1bb)],y(0x1ac));if(o[y(0x1f7)][y(0x21d)]===0x193){let p=o[y(0x1f7)][y(0x1fe)](y(0x218))?o['bitlydata'][y(0x218)]:null;(p&&p==='SvcURL101'||p===y(0x206))&&(gaEvent(gaVals[y(0x1df)]['URLCreate']+'['+curUserId+']',gaVals[y(0x1df)][y(0x1b4)],o[y(0x1f7)]['status_txt']),location[y(0x1d5)]());}else o[y(0x1f7)][y(0x21d)]===0x191?(uldb[y(0x1a7)]('l',o['urlData'][y(0x224)]),gaEvent(gaVals[y(0x1df)][y(0x1c1)]+'['+curUserId+']',gaVals[y(0x1df)]['URLLimits'],y(0x1ba))):gaEvent(gaVals[y(0x1df)]['URLCreate']+'['+curUserId+']',gaVals[y(0x1c0)][y(0x1d7)],n);}});}catch(l){loadingDone(),$('#urlCustomOptionsBtn')[w(0x1ce)](w(0x1d8)),$[w(0x1f8)](l,w(0x1ac)),$(w(0x222))['hide'](),logHome[w(0x1ac)](l),gaEvent(gaVals['label']['URLCreate']+'['+curUserId+']',gaVals['vals'][w(0x1d7)],l);}}function checkAndUpdateUserLimits(){const z=A60q;try{if(isEmpty(udb))return;let a=firebase[z(0x1f3)]();a[z(0x1cc)](z(0x1d4))[z(0x1b7)](udb[z(0x1d0)]['o'])['get']()[z(0x211)](function(b){const A=z;loadingDone();let c=b[A(0x220)]();if(!isEmpty(c)){let d=uldb['getMainObject']();d[A(0x1d0)]=c,udb=d,uldb[A(0x1c5)](d),c['l']<c['lm']?($[A(0x1f8)]('URL\x20limits\x20seems\x20to\x20have\x20either\x20reset\x20or\x20upgraded.\x20You\x20may\x20create\x20new\x20shortlinks,\x20please\x20retry',A(0x1da)),gaEvent(gaVals['label'][A(0x1c1)]+'['+curUserId+']',gaVals[A(0x1df)][A(0x202)],'Renewed/Available')):$[A(0x1f8)](A(0x1b1),A(0x1ac));}})[z(0x1e1)](function(b){const B=z;loadingDone(),logHome[B(0x1ac)](b);});}catch(b){logHome[z(0x1ac)](b);}}function showShortURL(a){const C=A60q;let b='Here\x20is\x20your\x20short\x20URL:\x20<br><br><h4\x20style=\x27text-align:\x20center;\x27\x20id=\x27modalShortURL\x27><a\x20href=\x27'+a+C(0x1fd)+a+'</a></h4>';b+=C(0x221),bootbox['confirm']({'message':b,'buttons':{'confirm':{'label':C(0x1ed),'className':C(0x21e)}},'callback':function(c){const E=C;c&&setTimeout(function(){const D=A60b;copyToClipboard(a,D(0x201));},0xc8),$(E(0x1d1))['focus']();}}),shareLinks(a,C(0x203));}$(function(){const F=A60q;renderDatePickerComponent(),$('div.form-check')['click'](function(){validateCustomOptionSelections();}),$(F(0x1e5))[F(0x228)](function(){validateAndSubmitCustomOptions();}),$(F(0x229))[F(0x228)](function(){checkCustomKeyExist();});});function renderDatePickerComponent(){setInterval(function(){const G=A60b;var a=new Date(new Date()['getFullYear'](),new Date()[G(0x1c3)](),new Date()[G(0x1cb)]());$(G(0x209))[G(0x20e)]({'uiLibrary':G(0x1b0),'iconsLibrary':'fontawesome','minDate':a,'maxDate':function(){const H=G;return $('#endDate')[H(0x1be)]();}}),$(G(0x1e7))['datepicker']({'uiLibrary':'bootstrap4','iconsLibrary':'fontawesome','minDate':function(){const I=G;return $('#startDate')[I(0x1be)]();}}),$(G(0x209))['css']({'display':'inline-flex\x20!important'}),$(G(0x1e7))[G(0x214)]({'display':G(0x1f1)});},0x3e8);}function validateCustomOptionSelections(){const J=A60q;$(J(0x1b8))['text'](CONST[J(0x1d6)]),$(J(0x212))['is'](J(0x21b))||$(J(0x226))['is'](J(0x21b))||$('#urlOptionPwd')['is'](J(0x21b))?($(J(0x1ee))['fadeIn'](0x3e8),$('#urlCustomOptionsBtn')[J(0x1ce)](J(0x1d8)),$(J(0x1ee))[J(0x214)]('display',J(0x205)),$(J(0x1b6))['addClass'](J(0x1d8))):($('#urlOptions')[J(0x20b)](0x3e8),$(J(0x1b6))[J(0x1ce)](J(0x1d8))),$('#urlOptionCustHash')['is'](':checked')?$(J(0x223))[J(0x1aa)](0x3e8):$('li.list-group-item:eq(0)')[J(0x20b)](0x3e8),$('#urlOptionDate')['is'](J(0x21b))?$(J(0x1c8))[J(0x1aa)](0x3e8):$('li.list-group-item:eq(1)')[J(0x20b)](0x3e8),$(J(0x1dd))['is'](':checked')?$(J(0x1ad))[J(0x1aa)](0x3e8):$(J(0x1ad))[J(0x20b)](0x3e8);}function validateAndSubmitCustomOptions(){const K=A60q;let a,b,c,d;customOps='';let e=$[K(0x210)]($(K(0x1d1))[K(0x1be)]());if(isEmpty(e)){$[K(0x1f8)](K(0x1d3),K(0x1ac));return;}if($(K(0x212))['is'](K(0x21b))){a=$(K(0x21a))[K(0x1be)]();if(isEmpty(a)){$[K(0x1f8)]('Enter\x20the\x20custom\x20URL\x20name',K(0x1ac));return;}if(a[K(0x1de)]<0x4){$[K(0x1f8)]('Custom\x20URL\x20name\x20should\x20contains\x20at\x20least\x204\x20characters','error');return;}if(a[K(0x20f)](/^[a-zA-Z0-9-_]+$/)===-0x1){$['notify'](K(0x217),'error');return;}if($(K(0x21a))[K(0x1f4)]('available')!==K(0x1cf)){$[K(0x1f8)](K(0x1f6),K(0x1ac));return;}customOps='CustURL';}if($(K(0x226))['is'](':checked')){b=$(K(0x209))[K(0x1be)](),c=$('#endDate')[K(0x1be)]();if(isEmpty(b)||isEmpty(c)){$[K(0x1f8)](K(0x1b9),K(0x1ac));return;}let g=''+new Date()[K(0x1dc)]();b=b['split']('/'),b=g[K(0x1fb)](0x2)+b[0x0]+b[0x1],c=c[K(0x1e2)]('/'),c=g[K(0x1fb)](0x2)+c[0x0]+c[0x1],customOps+='-Dates';}if($('#urlOptionPwd')['is'](':checked')){d=$(K(0x1b2))[K(0x1be)]();if(isEmpty(d)){$[K(0x1f8)](K(0x1b5),'error');return;}if(d['length']<0x4){$[K(0x1f8)](K(0x22a),K(0x1ac));return;}customOps+=K(0x20c);}let f={'custKey':a,'dateFrom':b,'dateTo':c,'urlPwd':d};$(K(0x1e5))[K(0x1e3)](K(0x1d8)),shortenURL(f,K(0x1b3));}function resetURLOptions(){const L=A60q;$(L(0x215))[L(0x22b)]('checked',![]),$(L(0x1ab))[L(0x1be)](''),$(L(0x1ee))[L(0x20b)](0x1f4);}function checkCustomKeyExist(){const M=A60q;try{let a=$('#urlCustom')['val']();$('#urlCustom')[M(0x1f4)](M(0x1f9),M(0x1c2));if(isEmpty(a)){$['notify'](M(0x1fc),'error');return;}if(a[M(0x1de)]<0x4){$[M(0x1f8)]('Minimum\x204\x20characters\x20are\x20needed\x20for\x20custom\x20URL\x20name',M(0x1ac));return;}if(a[M(0x20f)](/^[a-zA-Z0-9-_]+$/)===-0x1){$[M(0x1f8)](M(0x217),M(0x1ac));return;}if(isEmpty(a))throw new Error(M(0x207));else{if(a[M(0x1de)]<0x4)throw new Error(M(0x1a8));}let b=window[M(0x21f)][M(0x1a9)]+CONST[M(0x1e6)][M(0x1c7)]+M(0x1af)+a;loading(M(0x1ca),M(0x20a)),$[M(0x1e0)]({'url':b,'success':function(c){const N=M;loadingDone(),$[N(0x1f8)](N(0x1ea),N(0x1da)),$('#urlCustom')['attr'](N(0x1f9),'true');},'error':function(c,d,f){const O=M;loadingDone(),$(this)[O(0x1f4)](O(0x1f9),O(0x1c2)),$[O(0x1f8)]('Custom\x20URL\x20name\x20is\x20unavailable.\x20Try\x20another!',O(0x1ac));}});}catch(c){loadingDone(),$(this)['attr']('available',M(0x1c2)),$[M(0x1f8)](c,M(0x1ac));}}function saveURLToUserProfile(a){const P=A60q;try{if(!isUSerLoggedIn())return;let b=udb['fdb']['o'];if(isEmpty(b)){$[P(0x1f8)](P(0x1ec),P(0x216));return;}let c=a[P(0x1fb)](a['lastIndexOf']('/')+0x1,a[P(0x1de)]),d=firebase[P(0x1f3)](),f=P(0x1d2)+c+'.c',g={};g[f]=0x0,d[P(0x1cc)]('UserProfiles')['doc'](b)['update'](g);}catch(h){$[P(0x1f8)]('Unable\x20to\x20save\x20this\x20short\x20link\x20to\x20profile.\x20Error:\x20'+h,P(0x1ac));}}