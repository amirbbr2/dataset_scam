const A70a=['&token=','oid','Sign-in','fdb','warn','hasOwnProperty','APIToken','uid','success','oid=','udb','currentUser','Failed\x20to\x20login,\x20please\x20refresh\x20the\x20page\x20and\x20retry!','set','data','-Login','signOut','Wrong\x20password.','includes','stringify','Unable\x20to\x20register','Twitter','Facebook','#loginFb','auth','#loginEmail','ajax','Home','We\x20are\x20still\x20working\x20on\x20it\x20and\x20need\x201-2\x20weeks\x20of\x20time\x20to\x20enable\x20it\x20back.','getMainObject','label','message','notify','GoogleAuthProvider','You\x20have\x20already\x20signed\x20up\x20with\x20a\x20different\x20auth\x20provider\x20for\x20that\x20email.','status','login','#loginTw','https://www.googleapis.com/auth/plus.login','Google','location','User\x20registration\x20is\x20successfully!','pathname','setMainObject','info','Profile\x20update\x20is\x20failed:\x20','Logout\x20is\x20failed:\x20','data=','logout','CFUpdate','signInWithPopup','Logout\x20is\x20successful','click','catch','email','code','endPoints','error','then','auth/account-exists-with-different-credential','CF_RegisterUSer','UIActions'];(function(a,b){const c=function(d){while(--d){a['push'](a['shift']());}};c(++b);}(A70a,0x12a));const A70b=function(a,b){a=a-0x7b;let c=A70a[a];return c;};var logLogin=new logger('login.js');$(function(){eventHandlersOfLoginJS();});function eventHandlersOfLoginJS(){const h=A70b;$('#loginGoogle')['on'](h(0x7d),function(a){const i=h;gaEvent(gaVals[i(0xa5)][i(0x86)]+i(0x96),i(0x89),i(0xae)),signIn();}),$(h(0x9e))['on'](h(0x7d),function(a){const j=h;gaEvent(gaVals[j(0xa5)][j(0x86)]+j(0x96),j(0x89),j(0x9d)),$[j(0xa7)](j(0xa3),'info');}),$(h(0xac))['on'](h(0x7d),function(a){const k=h;gaEvent(gaVals[k(0xa5)]['UIActions']+k(0x96),k(0x89),k(0x9c)),$[k(0xa7)](k(0xa3),k(0xb3));}),$(h(0xa0))['on'](h(0x7d),function(a){const l=h;gaEvent(gaVals[l(0xa5)]['UIActions']+l(0x96),l(0x89),'Email'),$['notify'](l(0xa3),l(0xb3));});if(window[h(0xaf)][h(0xb1)][h(0x99)]('login.html')){if(isUSerLoggedIn()){window[h(0xaf)]=CONST[h(0x81)][h(0xa2)];return;}firebase['auth']()['onAuthStateChanged'](function(a){const m=h;a?(persistUserStatus(m(0xab),{'id':a[m(0x8e)]}),registerUser(a)):persistUserStatus(m(0xb7),{});});}}function registerUser(a){const n=A70b;try{let b=n(0x90)+a[n(0x8e)]+'&email='+a[n(0x7f)]+n(0x87)+CONST[n(0x8d)];b=n(0xb6)+btoa(b);let c=window['location']['origin']+CONST[n(0x81)][n(0x85)]+'?'+b;$[n(0xa1)]({'url':c,'success':function(d){const o=n;$['notify'](o(0xb0),o(0x8f)),persistUserStatus(o(0xb8),d),window[o(0xaf)]=CONST[o(0x81)][o(0xa2)];},'error':function(d,f,g){const p=n;$[p(0xa7)](p(0x93),p(0x82));}});}catch(d){$[n(0xa7)](n(0x9b),'error');}}function signIn(){const q=A70b;if(!firebase[q(0x9f)]()[q(0x92)]){let a=new firebase[(q(0x9f))][(q(0xa8))]();a['addScope'](q(0xad)),firebase['auth']()[q(0x7b)](a)[q(0x83)](function(b){const r=q;$[r(0xa7)]('Login\x20session\x20is\x20renewed',r(0x8f)),gaEvent(gaVals[r(0xa5)][r(0x86)]+r(0x96),gaVals['vals'][r(0x8f)]);})[q(0x7e)](function(b){const s=q;gaEvent(gaVals[s(0xa5)][s(0x86)]+s(0x96),gaVals['vals']['error']),b['code']===s(0x84)?$[s(0xa7)](s(0xa9),s(0x8b)):$[s(0xa7)](b,'error');});}}function signOut(){const t=A70b;firebase[t(0x9f)]()[t(0x97)]()[t(0x83)](function(){const u=t;persistUserStatus(u(0xb7),{}),$['notify'](u(0x7c),u(0x8f)),db['delete'](u(0x8e));let a=window[u(0xaf)]['pathname'];!a[u(0x99)](CONST['endPoints']['Home'])&&(window[u(0xaf)]=CONST[u(0x81)][u(0xa2)]);})[t(0x7e)](function(a){const v=t;$[v(0xa7)](v(0xb5)+a,v(0x82));});}function loginByEmail(){const w=A70b;firebase[w(0x9f)]()['signInWithEmailAndPassword'](email,password)[w(0x7e)](function(a){const x=w;let b=a[x(0x80)];b==='auth/wrong-password'?$[x(0xa7)](x(0x98),x(0x8b)):logLogin[x(0x82)](a[x(0xa6)]);});}function persistUserStatus(a,b){const y=A70b;let c={};try{c=uldb[y(0xa4)](),c=isEmpty(c)?{}:c;if(a===y(0xab))c[y(0x88)]=c[y(0x8c)]('id')?c['id']:b[y(0x95)]['o'],c[y(0xaa)]=y(0xab);else{if(a==='logout')c[y(0xaa)]=y(0xb7);else a===y(0xb8)&&(c['status']='login',c[y(0x88)]=c[y(0x8c)]('id')?c['id']:b['data']['o'],c[y(0x8a)]=b['data'],db['set'](y(0x8e),b[y(0x95)]['i']));}uldb[y(0xb2)](c);}catch(d){c={};}finally{udb=c;}}function persistUserStatusOLDTOBEDELETED(a,b){const z=A70b;let c={};try{c=db['get']('udb'),c=isEmpty(c)?{}:JSON['parse'](c);if(a===z(0xab))c['oid']=c[z(0x8c)]('id')?c['id']:b['id'],c['status']=z(0xab);else{if(a===z(0xb7))c[z(0xaa)]=z(0xb7);else a===z(0xb8)&&(c[z(0xaa)]=z(0xab),c[z(0x88)]=c[z(0x8c)]('id')?c['id']:b['id'],c[z(0x8a)]=b['data'],db[z(0x94)]('uid',b[z(0x95)]['i']));}db[z(0x94)](z(0x91),JSON[z(0x9a)](c));}catch(d){c={},$['notify'](z(0xb4)+d,z(0x8b));}finally{udb=c;}}