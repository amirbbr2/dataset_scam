(function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],d=0,u=[];d<o.length;d++)s=o[d],r[s]&&u.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);m&&m(e);while(u.length)u.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(i=!1)}i&&(n.splice(e--,1),t=c(c.s=a[0]))}return t}var i={},s={main:0},r={main:0},n=[];function o(t){return c.p+"js/"+({forum:"forum",lists:"lists","settings~submissions":"settings~submissions",settings:"settings",submissions:"submissions",staff:"staff",stats:"stats"}[t]||t)+"."+{forum:"35cc45df",lists:"151621b0","settings~submissions":"33adc7c7",settings:"d4a8fc4f",submissions:"5703fe45",staff:"9ccb572f",stats:"f6124817"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={forum:1,lists:1,settings:1,submissions:1,staff:1,stats:1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise(function(e,a){for(var i="css/"+({forum:"forum",lists:"lists","settings~submissions":"settings~submissions",settings:"settings",submissions:"submissions",staff:"staff",stats:"stats"}[t]||t)+"."+{forum:"34355547",lists:"40df297e","settings~submissions":"31d6cfe0",settings:"c5846ae2",submissions:"981d1e1d",staff:"6ef7a657",stats:"eb85b690"}[t]+".css",r=c.p+i,n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var l=n[o],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===i||d===r))return e()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){l=u[o],d=l.getAttribute("data-href");if(d===i||d===r)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var i=e&&e.target&&e.target.src||r,n=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=i,delete s[t],m.parentNode.removeChild(m),a(n)},m.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(m)}).then(function(){s[t]=0}));var i=r[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise(function(e,a){i=r[t]=[e,a]});e.push(i[2]=n);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=o(t),l=function(e){d.onerror=d.onload=null,clearTimeout(u);var a=r[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,n=new Error("Loading chunk "+t+" failed.\n("+i+": "+s+")");n.type=i,n.request=s,a[1](n)}r[t]=void 0}};var u=setTimeout(function(){l({type:"timeout",target:d})},12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(a,i,function(e){return t[e]}.bind(null,i));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var m=d;n.push(["a949","chunk-vendors"]),a()})({"0084":function(t,e,a){"use strict";var i=a("95f1"),s=a.n(i);s.a},"00b7":function(t,e,a){"use strict";a.d(e,"a",function(){return o});a("ac6a");var i=a("ade3");a("a481"),a("28a5");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const n={includedGenres:t=>({genres:t.split(",")}),excludedGenres:t=>({excludeGenres:t.split(",")}),includedTags:t=>({genres:t.split(",")}),excludedTags:t=>({excludeGenres:t.split(",")}),year:t=>({year:Number(String(t).replace(/\D/g,""))}),yearGreater:(t,e)=>({"year range":[t,e.yearLesser]}),licensedBy:t=>({"streaming on":t.split(",")}),status:(t,e,a)=>({["anime"===a.toLowerCase()?"airing status":"publishing status"]:t}),source:t=>({"source material":t}),countryOfOrigin:t=>({"country of origin":t}),isAdult:t=>({hentai:t}),onList:(t,e,a)=>{const i="true"===t?"only show my":"hide my";return{[`${i} ${a.toLowerCase()}`]:t}}};function o(t,e){for(const a in t)n[a]&&(t=r({},t,{},n[a](t[a],t,e)));return t}},"00e2":function(t,e,a){"use strict";var i=a("21c1"),s=a.n(i);s.a},"017b":function(t,e,a){"use strict";var i=a("2abd"),s=a.n(i);s.a},"022f":function(t,e,a){var i=a("3d67"),s=["fetch"];t.exports=function(){var t=new Worker(a.p+"b1a3107d3ca41c0d3808.worker.js",{name:"[hash].worker.js"});return i(t,s),t}},"03ca":function(t,e,a){},"03ed":function(t,e,a){},"065b":function(t,e,a){"use strict";var i=a("0b28"),s=a.n(i);s.a},"0675":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"user-card",attrs:{to:t.userLink}},[t.loading?[a("div",{staticClass:"avatar loading"}),t._v(" "),a("div",{staticClass:"name loading"})]:[t.user.avatar?a("div",{staticClass:"avatar"},[a("img",{staticClass:"image",class:{loaded:t.avatarImageLoaded},attrs:{src:t.user.avatar.large},on:{load:t.onImageLoad}})]):t._e(),t._v(" "),t.user.name?a("div",{staticClass:"name"},[t._v("\n\t\t\t"+t._s(t.user.name)+"\n\t\t")]):t._e()]],2)},s=[],r={props:["entityId"],data(){return{avatarImageLoaded:!1}},computed:{user(){return this.$store.getters.entity("user",this.entityId)},loading(){return"loading"===this.entityId},userLink(){return this.user.name?{name:"UserOverview",params:this.formatUserUrl(this.user)}:{}}},methods:{onImageLoad(){this.avatarImageLoaded=!0}}},n=r,o=(a("e326"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"55df8376",null);e["a"]=c.exports},"06b2":function(t,e,a){"use strict";var i=a("4727"),s=a.n(i);s.a},"078f":function(t,e,a){},"09ba":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"sense-wrap"},[t.isAmazonAd?[a("div",{attrs:{id:"amzn-assoc-ad-2f0b6fb1-416c-449e-9819-56199580dba9"}}),t._v(" "),a("script2",{attrs:{async:"",src:"//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=2f0b6fb1-416c-449e-9819-56199580dba9&uu="+t.rand}})]:a("Adsense",{attrs:{"data-ad-client":t.adsense[t.type].client,"data-ad-slot":t.adsense[t.type].slot}})],2):t._e()},s=[],r=a("a189"),n={props:{type:{type:String,default:"responsive"}},mixins:[r["a"]],data(){return{adCount:0,adsense:{media:{client:"ca-pub-2100847942938873",slot:"9272947493"},"media-footer":{client:"ca-pub-2100847942938873",slot:"7641551297"},"media-aside":{client:"ca-pub-2100847942938873",slot:"3467028992"},"article-header":{client:"ca-pub-2100847942938873",slot:"2497440442"},"article-matched":{client:"ca-pub-2100847942938873",slot:"9168636484"},staff:{client:"ca-pub-2100847942938873",slot:"2672822077"},forum:{client:"ca-pub-2100847942938873",slot:"4121635112"},home:{client:"ca-pub-2100847942938873",slot:"9154469946"}}}},computed:{show(){return(!this.auth||1===this.auth.id||!(this.isDataMod()||this.auth.donatorTier>1))&&this.$store.state.displayAds},isAmazonAd(){return"media"===this.type&&this.adCount>2},rand(){return Math.random()}},mounted(){this.adCount=this.$store.state.adCount,this.show&&this.$store.commit("incrementAdCount")}},o=n,c=(a("30aa"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"f938e9ea",null);e["a"]=l.exports},"0aa0":function(t,e,a){"use strict";a.d(e,"a",function(){return p}),a.d(e,"d",function(){return v}),a.d(e,"c",function(){return f}),a.d(e,"b",function(){return b});a("ac6a"),a("a481");var i=a("ade3"),s=a("1da1"),r=a("6edf"),n=a.n(r),o=a("c707"),c=a.n(o),l=a("4360");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const m=["Action","Adventure","Comedy","Drama","Ecchi","Fantasy","Horror","Mahou Shoujo","Mecha","Music","Mystery","Psychological","Romance","Sci-Fi","Slice of Life","Sports","Supernatural","Thriller"];function p(t){return t?[...m,"Hentai"]:m}function v(t){const e=p(!0);return e.includes(t)}function h(t){return g.apply(this,arguments)}function g(){return g=Object(s["a"])(function*(t){let e=l["a"].state.tags;return e||(yield l["a"].dispatch("fetchTags"),e=l["a"].state.tags),t?e:e.filter(t=>!t.isAdult)}),g.apply(this,arguments)}function f(t){return y.apply(this,arguments)}function y(){return y=Object(s["a"])(function*(t){const e=yield h(t);return e.map(t=>t.name)}),y.apply(this,arguments)}function b(t){return _.apply(this,arguments)}function _(){return _=Object(s["a"])(function*(t){const e=yield h(t),a=c()(e,"category"),i=u({Genres:p(t).map(t=>({name:t}))},n()(a,t=>t.category.replace("Sci-Fi","Sci Fi")));if(!t)return i;const s=[...i["Sexual Content"]];return delete i["Sexual Content"],i["Sexual Content"]=s,i}),_.apply(this,arguments)}},"0b28":function(t,e,a){},"0dae":function(t,e,a){},"0e3a":function(t,e,a){"use strict";var i=a("fe43"),s=a.n(i);s.a},"0edd":function(t,e,a){"use strict";var i=a("8b77"),s=a.n(i);s.a},"0f48":function(t,e,a){},"0f9f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mobile-nav",class:{guest:!t.auth},on:{click:function(e){return t.toggleNav()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.visible,expression:"!visible"}],staticClass:"hamburger"},[a("icon",{attrs:{icon:"bars",size:"2x","fixed-width":""}}),t._v(" "),t.unreadNotificationCount?a("div",{staticClass:"notification-dot"}):t._e()],1),t._v(" "),a("div",{staticClass:"menu",class:{visible:t.visible}},[t.auth?a("router-link",{attrs:{to:"/"}},[a("icon",{attrs:{icon:"home",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("home")])],1):t._e(),t._v(" "),t.auth?a("router-link",{attrs:{to:{name:"MediaList",params:{id:t.auth.name,type:"anime"}}}},[a("icon",{attrs:{icon:"play",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("anime list")])],1):t._e(),t._v(" "),t.auth?a("router-link",{attrs:{to:{name:"MediaList",params:{id:t.auth.name,type:"manga"}}}},[a("icon",{attrs:{icon:"book-open",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("manga list")])],1):t._e(),t._v(" "),a("router-link",{attrs:{to:"/forum/overview"}},[a("icon",{attrs:{icon:"comments",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("forum")])],1),t._v(" "),t.auth?t._e():a("router-link",{attrs:{to:"/social"}},[a("icon",{attrs:{icon:"users",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("social")])],1),t._v(" "),t.auth?a("router-link",{attrs:{to:{name:"UserOverview",params:{id:t.auth.name}}}},[a("icon",{attrs:{icon:"user",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("profile")])],1):t._e(),t._v(" "),t.auth?a("router-link",{class:{active:t.unreadNotificationCount},attrs:{to:"/notifications"}},[a("icon",{attrs:{icon:"envelope",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("notifications")])],1):t._e(),t._v(" "),t.auth?a("router-link",{attrs:{to:"/settings"}},[a("icon",{attrs:{icon:"cog",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("settings")])],1):t._e(),t._v(" "),a("router-link",{attrs:{to:"/search/anime"}},[a("icon",{attrs:{icon:"search",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("search")])],1),t._v(" "),t.auth?t._e():a("router-link",{attrs:{to:"/signup"}},[a("icon",{attrs:{icon:"user-plus",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("sign up")])],1),t._v(" "),t.auth?t._e():a("router-link",{attrs:{to:"/login"}},[a("icon",{attrs:{icon:"sign-in-alt",size:"lg","fixed-width":""}}),t._v(" "),a("span",{staticClass:"label"},[t._v("login")])],1),t._v(" "),a("icon",{attrs:{icon:"times",size:"lg","fixed-width":""}})],1)])},s=[],r=a("a189"),n={mixins:[r["a"]],data(){return{visible:!1}},methods:{toggleNav(){this.visible=!this.visible}}},o=n,c=(a("e030"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"8aeb5e9a",null);e["a"]=l.exports},"0ff7":function(t,e,a){},"10d6":function(t,e,a){"use strict";var i=a("de8e"),s=a.n(i);s.a},1207:function(t,e,a){},1334:function(t,e,a){},1465:function(t,e,a){},1481:function(t,e,a){},1547:function(t,e,a){"use strict";var i=a("cdec"),s=a.n(i);s.a},1552:function(t,e,a){},"15f5":function(t,e,a){"use strict";var i=a("b366"),s=a.n(i);s.a},1612:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"switch"},[a("div",{staticClass:"options"},t._l(t.options,function(e,i){return a("div",{key:i,staticClass:"option",class:{active:t.value===e.value,icon:e.icon},on:{click:function(a){return t.change(e.value)}}},[e.icon?a("icon",{attrs:{icon:e.icon,size:"sm"}}):a("span",[t._v(t._s(e.label||e.value))])],1)}),0)])},s=[],r={props:["value","options"],methods:{change(t){this.$emit("change",t)}}},n=r,o=(a("ab3d"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"05bb5e72",null);e["a"]=c.exports},1641:function(t,e,a){"use strict";var i=a("7c43"),s=a.n(i);s.a},"16e8":function(t,e,a){},1795:function(t,e,a){"use strict";var i=a("9864"),s=a.n(i);s.a},1972:function(t,e,a){},"199c":function(t,e,a){"use strict";(function(t){var i=a("a189"),s=a("adbc"),r=a("b6b4"),n=a("c2b0"),o=a("0f9f"),c=a("fd2d"),l=a("7b8e"),d=a("4260"),u=a("e02b");e["a"]={components:{ProgressBar:r["a"],DesktopNav:n["a"],MobileNav:o["a"],SiteFooter:c["a"],ListEntryEditor:l["a"]},mixins:[i["a"],s["a"]],data(){return{refreshInterval:5,refreshMethod:"fetchNotificationCount"}},computed:{isDesktop(){return this.$store.state.screen.isDesktop},navTransparency(){return this.$store.state.navTransparency||!this.isDesktop},listEditorActive(){return this.$store.getters["medialistEditor/editor"].active}},methods:{watchScreenSize(){window.addEventListener("resize",()=>{this.$store.dispatch("updateScreenSize")})},setScrollBarWidth(){this.$store.commit("setScrollBarWidth",Object(d["e"])())},fetchNotificationCount(){this.$store.dispatch("auth/fetchViewer")},watchAdsenseStyleInject(){const t=document.getElementsByClassName("page-content")[0],e=new MutationObserver(()=>{t.style.height="",t.style.minHeight=""});e.observe(t,{attributes:!0,attributeFilter:["style"]})}},created(){t.browser&&(this.watchScreenSize(),Object(u["b"])(),this.setScrollBarWidth()),this.$store.dispatch("auth/fetchViewer",!0)},mounted(){if(t.browser)try{this.watchAdsenseStyleInject()}catch(e){}}}}).call(this,a("f28c"))},"1ae8":function(t,e,a){"use strict";var i=a("a32a"),s=a.n(i);s.a},"1c89":function(t,e,a){},"1da0":function(t,e,a){"use strict";var i=a("e559"),s=a.n(i);s.a},"1e74":function(t,e,a){"use strict";var i=a("32f8"),s=a.n(i);s.a},2095:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t.mediaId?t.media.id?[a("router-link",{staticClass:"category media",class:t.media.type,attrs:{to:{name:"ForumFeed",params:{type:"recent"},query:{media:t.media.id}}}},[t.withLink?a("router-link",{class:t.media.type,attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[a("icon",{staticClass:"icon",attrs:{icon:"chevron-circle-up",size:"sm"}})],1):t._e(),t._v("\n\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t")],1)]:t._e():[a("router-link",{staticClass:"category",style:t.background,attrs:{to:{name:"ForumFeed",params:{type:"recent"},query:{category:t.category.id}}}},[t._v("\n\t\t\t"+t._s(t.category.name)+"\n\t\t")])]],2)},s=[],r={name:"category",props:["category","mediaId","withLink"],data(){return{colors:{General:"#4ea3e6",Anime:"#0af",Manga:"#4CAF50","Release Discussion":"#673AB7","Site Announcements":"#E91E63",News:"#009688",Music:"#607D8B",Gaming:"#2424a9","Visual Novels":"#4bb3b9","Light Novels":"#4bb3b9","Forum Games":"#FF9800",Recommendations:"#b85ac7","Site Feedback":"#FB471E","Bug Reports":"#ef3051","AniList Apps":"#2b4c69",Misc:"#795548","List Customisation":"#c0c33d"}}},computed:{media(){return this.$store.getters.entity("media",this.mediaId)},background(){return{background:this.colors[this.category.name]}}}},n=r,o=(a("769f"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"51e37344",null);e["a"]=c.exports},2115:function(t,e,a){},"21c1":function(t,e,a){},"21e6":function(t,e,a){},2226:function(t,e,a){"use strict";var i=a("ddde"),s=a.n(i);s.a},"22a6":function(t,e,a){},"235f":function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("5ad4");function s(){const t="Track, discover, and share anime and manga with AniList. \n\t\tDiscover top-rated and popular shows through reviews and recommendations. \n\t\tSign up for free!";return{title:"AniList: Track, Discover, Share Anime & Manga",meta:[{property:"og:title",content:"AniList: Track, Discover, Share Anime & Manga"},{name:"description",content:t},{property:"og:description",content:t},{property:"og:image",content:"https://anilist.co/img/icons/android-chrome-512x512.png"},{property:"og:url",content:"https://anilist.co/"}],link:[{rel:"canonical",href:"https://anilist.co"}]}}function r(t,e,a){let r=t.name,n=t.fullPath;if("Landing"===r)return s();const o=a&&a.title?Object(i["capitalize"])(a.title):`Search ${Object(i["capitalize"])(e)}`,c=a&&a.description?a.description:`Search over tens of thousands of ${e.toLowerCase()} on AniList, \n\t\tthe most comprehensive ${e.toLowerCase()} database. \n\t\tFind the exact ${e.toLowerCase()} you are looking for.`;return{title:o,meta:[{property:"og:title",content:o},{name:"description",content:c},{property:"og:description",content:c},{property:"og:image",content:"https://anilist.co/img/icons/android-chrome-512x512.png"},{property:"og:url",content:`https://anilist.co${n}`}]}}},"23cb":function(t,e,a){"use strict";var i=a("fed8"),s=a.n(i);s.a},"24f8":function(t,e,a){},2521:function(t,e,a){},2547:function(t,e,a){"use strict";var i=a("afba"),s=a.n(i);s.a},"25b2":function(t,e,a){},"25c9":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.scrollType,{tag:"component"},[t._t("default")],2)},s=[],r=a("e43e"),n=r["a"],o=a("2877"),c=Object(o["a"])(n,i,s,!1,null,null,null);e["a"]=c.exports},"27f7":function(t,e,a){"use strict";var i=a("e23c"),s=a.n(i);s.a},2840:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"like-wrap",on:{mouseover:t.toggleVisible,mouseout:t.toggleVisible}},[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"users",style:t.usersWidth},t._l(t.users,function(e,i){return a("router-link",{key:i,staticClass:"user",style:t.avatar(e),attrs:{to:{name:"UserOverview",params:t.formatUserUrl(e)}}})}),1)]),t._v(" "),a("div",{staticClass:"button",class:{liked:t.isLiked},on:{click:t.toggleLike}},[t.likeCount?a("span",{staticClass:"count"},[t._v(t._s(t.likeCount))]):t._e(),t._v(" "),t._t("default")],2)],1)},s=[],r=a("1da1"),n=a("a189"),o={props:["likeable","type"],mixins:[n["a"]],data(){return{visible:!1,loading:!1,saving:!1}},computed:{likes(){return this.$store.getters.entityPagePreview(`likes-${this.type}-${this.id}`,5)},users(){return this.likeCount?this.likes.map(t=>this.$store.getters.entity("user",t)):[]},likeCount(){return this.likeable.likeCount},pagedLikeCount(){const t=this.$store.getters.entityPage(`likes-${this.type}-${this.id}`,1);return t&&t.pageInfo?t.pageInfo.total:0},isLiked(){return!!this.auth&&this.likeable.isLiked},id(){return this.likeable.id},usersWidth(){return{width:`${40*this.users.length}px`}}},methods:{toggleLike(){var t=this;return Object(r["a"])(function*(){t.auth&&!t.saving&&(t.saving=!0,yield t.$store.dispatch("like/toggleLike",{id:t.id,type:t.type}),t.saving=!1,t.fetchLikes(!0))})()},fetchLikes(){var t=arguments,e=this;return Object(r["a"])(function*(){let a=t.length>0&&void 0!==t[0]&&t[0];if(e.loading&&!a)return;const i=e.likeable.likeCount||0;!i||e.pagedLikeCount===i||e.pagedLikeCount>5||(e.loading=!0,yield e.$store.dispatch("like/fetchLikes",{id:e.id,type:e.type}),e.loading=!1)})()},avatar(t){if(t.avatar)return{"background-image":`url(${t.avatar.large})`}},toggleVisible(){this.visible=!this.visible,this.visible&&this.fetchLikes()}}},c=o,l=(a("b47d"),a("2877")),d=Object(l["a"])(c,i,s,!1,null,"b23584ce",null);e["a"]=d.exports},"2abd":function(t,e,a){},"2c49":function(t,e,a){"use strict";var i=a("84e6"),s=a.n(i);s.a},"2dc3":function(t,e,a){},"2fe1":function(t,e,a){},"309d":function(t,e,a){"use strict";(function(t){var i=a("1da1"),s=(a("ac6a"),a("18ff")),r=a.n(s),n=a("defb"),o=a.n(n),c=a("b370"),l=a.n(c),d=a("5ad4"),u=a("3185"),m=a("09ba");e["a"]={props:["media"],components:{ElDropdown:l.a,ElDropdownMenu:o.a,ElDropdownItem:r.a,Favourite:u["a"],Ad:m["a"]},data(){return{showFullDescription:!1,descriptionLimit:730}},computed:{listEntry(){return this.$store.getters.entity("listEntry",this.media.mediaListEntry)},description(){const t=this.media.description||null;return null===t||this.showFullDescription||t.length<this.descriptionLimit?t:t.substring(0,this.descriptionLimit)+"..."},showReadMoreBtn(){const t=this.media.description||null;return!this.showFullDescription&&t&&t.length>this.descriptionLimit},bannerStyle(){return!this.media.bannerImage&&this.isMobile?{"background-color":"#272c38",height:"130px"}:{"background-image":`url( ${this.media.bannerImage} )`}},coverImage(){return this.media.coverImage.extraLarge||this.media.coverImage.large},mediaParams(){return this.formatMediaUrl(this.media)},isDesktop(){return this.$store.state.screen.width>1360},isMobile(){return this.$store.state.screen.isMobile},subPages(){const t=this.media.id,e=e=>{const a=this.$store.getters.entityPagePreview(`media${e}-${t}`);return!!a[0]};return{characters:e("CharacterPreview"),staff:e("StaffPreview"),reviews:e("ReviewPreview")}},status(){const t=this.listEntry.status;return t?Object(d["capitalizeListStatus"])(t,this.media.type):"Add to List"}},methods:{positionCover(){this.$nextTick(()=>{if(this.isMobile||!t.browser)return;this.updateNavTransparency();const e=document.getElementsByClassName("container")[0],a=document.getElementsByClassName("content")[0],i=document.getElementsByClassName("sidebar")[0];let s=document.getElementsByClassName("cover")[0],r=0;Array.from(a.children).forEach(t=>{"Read More"!==t.innerHTML&&(r+=parseInt(t.clientHeight))}),s.onload=(()=>{s=document.getElementsByClassName("cover-wrap-inner")[0];const t=s.clientHeight-r;t>10&&!this.media.bannerImage?(s.style.position="absolute",i.style.marginTop=t-35+"px",e.style.minHeight=0):(s.style.position="static",i.style.marginTop=0,e.style.minHeight="250px")})})},updateNavTransparency(){this.$store.commit("setNavTransparency",!!this.media.bannerImage)},editListStatus(t){var e=this;return Object(i["a"])(function*(){if("open"==t)return void e.openListEditor();const a=e.media,i=a.id,s=a.title,r=a.type,n=yield e.$store.dispatch("medialistEditor/save",{status:t,mediaId:i});if(n){const t=Object(d["capitalizeListStatus"])(e.listEntry.status,r).toLowerCase();e.$notify({type:"success",message:`${s.userPreferred} added to ${t} list`})}})()},openListEditor(){this.$store.dispatch("medialistEditor/open",this.media.id)}}}}).call(this,a("f28c"))},"30aa":function(t,e,a){"use strict";var i=a("ef81"),s=a.n(i);s.a},"30b2":function(t,e,a){},"30bc":function(t,e,a){},3100:function(t,e,a){},"311c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-landing"},[t._l(t.landing,function(e,i){return a("div",{key:i,staticClass:"landing-section",class:e.key},[a("router-link",{staticClass:"title link",attrs:{to:"/search/"+e.path}},[a("h3",[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"expand"},[t._v("View All")])]),t._v(" "),a("div",{staticClass:"results",class:{table:t.isDesktop&&"table-card"===e.type}},t._l(e.entries,function(i,s,r){return a(t.isDesktop||"table-card"!==e.type?e.type:"cover-card",{key:r,tag:"component",attrs:{"entity-id":i,rank:"table-card"===e.type&&s+1}})}),1)],1)})],2)},s=[],r=(a("ac6a"),a("1da1")),n=a("ade3"),o=a("4260"),c=a("427e"),l=a("6bae"),d=a("de91"),u=a("c551");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var v={components:{CoverCard:c["a"],TableCard:l["a"],StaffCard:d["a"],CharacterCard:u["a"]},props:{type:{type:String,required:!0}},data(){return{sections:{anime:[{key:"trending",title:"Trending now",path:"anime/trending",type:"cover-card"},{key:"season",title:"Popular this season",path:"anime/this-season",type:"cover-card"},{key:"nextSeason",title:"Upcoming next season",path:"anime/next-season",type:"cover-card"},{key:"popular",title:"All time popular",path:"anime/popular",type:"cover-card"},{key:"top",title:"Top 100 Anime",path:"anime/top-100",type:"table-card"}],manga:[{key:"trending",title:"Trending now",path:"manga/trending",type:"cover-card"},{key:"popular",title:"All time popular",path:"manga/popular",type:"cover-card"},{key:"manhwa",title:"Popular manhwa",path:"manga/top-manhwa",type:"cover-card"},{key:"top",title:"Top 100 Manga",path:"manga/top-100",type:"table-card"}],staff:[{key:"staff",title:"Most favorited staff",path:"staff/favorites",type:"staff-card"}],characters:[{key:"characters",title:"Most favorited characters",path:"characters/favorites",type:"character-card"}]}}},computed:{landing(){const t=(this.isMediaLanding?"MEDIA":this.type).toLowerCase(),e=this.isMediaLanding?6:20,a=this.landingSections;return this.hasLanding?this.sections[this.type.toLowerCase()].map(i=>{const s=a[i.key];return p({},i,{entries:s?s[t]:new Array(e).fill("loading")})}):[]},landingSections(){return this.$store.getters["search/landing"](this.type)},hasLanding(){return this.sections[this.type.toLowerCase()]},isMediaLanding(){return"ANIME"===this.type||"MANGA"===this.type},date(){const t=new Date;return{current:Object(o["g"])(new Date(t.setMonth(t.getMonth()))),next:Object(o["g"])(new Date(t.setMonth(t.getMonth()+3)))}},isDesktop(){return this.$store.state.screen.isDesktop}},methods:{fetchLanding(){var t=this;return Object(r["a"])(function*(){t.hasLanding&&(yield t.$store.dispatch("search/fetchLanding",{type:t.type,season:t.date.current.season,seasonYear:t.date.current.year,nextSeason:t.date.next.season,nextYear:t.date.next.year}))})()}},serverPrefetch(){return this.fetchLanding()},watch:{type(t){this.fetchLanding()}},mounted(){this.fetchLanding()}},h=v,g=(a("94f2"),a("2877")),f=Object(g["a"])(h,i,s,!1,null,"518fe1ae",null);e["a"]=f.exports},3185:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"favourite",class:[{isFavourite:t.isFavourite},t.theme],on:{click:t.toggleFavourite}},[a("icon",{attrs:{icon:"heart"}}),t._v(" "),t.count?a("div",{staticClass:"count"},[t._v(t._s(t.formattedCount))]):t._e()],1)},s=[],r=a("1da1"),n={props:["id","type","isFavourite","theme","count"],data(){return{isNowFavourite:null}},computed:{formattedCount(){let t=this.count;return!0===this.isNowFavourite?t+=1:!1===this.isNowFavourite&&this.isFavourite&&(t-=1),t>999?`${(t/1e3).toFixed(1)}K`:t}},methods:{toggleFavourite(){var t=this;return Object(r["a"])(function*(){const e=yield t.$store.dispatch("user/toggleFavourite",{id:t.id,type:t.type.toLowerCase(),isFavourite:t.isFavourite});null!==e&&(t.isNowFavourite=e,t.$notify({type:"success",message:`${e?"Added to":"Removed from"} favourites`}))})()}}},o=n,c=(a("1795"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"9b6efc52",null);e["a"]=l.exports},"32f8":function(t,e,a){},3325:function(t,e,a){"use strict";var i=a("a084"),s=a.n(i);s.a},"356d":function(t,e,a){"use strict";var i=a("0dae"),s=a.n(i);s.a},"359d":function(t,e,a){"use strict";a.d(e,"a",function(){return S});var i=a("ade3"),s=(a("ac6a"),a("1da1")),r=a("4245"),n=a.n(r),o=a("b047"),c=a.n(o),l=a("ced0"),d=a("4360");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const p=20,v=new l["a"](`anilist-v${p}`,"vuex"),h=localStorage.getItem("disable-store-cache");function g(){return f.apply(this,arguments)}function f(){return f=Object(s["a"])(function*(){yield S(),h?console.info("Cache disabled"):(console.info(`Cache enabled: v${p}`),yield $(),yield y(),d["a"].subscribe(c()(_,3e4)))}),f.apply(this,arguments)}function y(){return b.apply(this,arguments)}function b(){return b=Object(s["a"])(function*(){try{const e=yield Object(l["c"])("vuex",v);e&&d["a"].replaceState(n()(e,d["a"].state))}catch(t){console.error("Failed to set store from cache.")}}),b.apply(this,arguments)}function _(t,e){return w.apply(this,arguments)}function w(){return w=Object(s["a"])(function*(t,e){try{const t={auth:e.auth,entities:m({},e.entities,{user:O(e.entities.user,e.auth),page:C(e.entities.page)}),embed:e.embed};yield Object(l["d"])("vuex",t,v)}catch(a){console.info("Failed to update cache")}}),w.apply(this,arguments)}function C(t){return Object.keys(t).map(e=>{const a=t[e],i=a.pageInfo,s=a.pageData,r=s[1];return r?{pageInfo:i,pageData:r}:void 0}).filter(Boolean)}function O(t,e){if(!e.viewerId||!t)return t||{};const a=t[e.viewerId];return m({},t,{[e.viewerId]:m({},a,{unreadNotificationCount:0})})}function $(){return k.apply(this,arguments)}function k(){return k=Object(s["a"])(function*(){const t=Date.now(),e=6048e5,a=yield Object(l["c"])("lastCacheClear",v);(!a||a<t-e)&&(yield Object(l["b"])("vuex",v),Object(l["d"])("lastCacheClear",t,v))}),k.apply(this,arguments)}function S(){return P.apply(this,arguments)}function P(){return P=Object(s["a"])(function*(){const t=[...Array(p).keys()];t.forEach(function(){var t=Object(s["a"])(function*(t){indexedDB.deleteDatabase(`anilist-v${t}`)});return function(e){return t.apply(this,arguments)}}()),indexedDB.deleteDatabase("localforage")}),P.apply(this,arguments)}e["b"]=g},3638:function(t,e,a){"use strict";var i=a("56f9"),s=a.n(i);s.a},"365c":function(t,e,a){"use strict";(function(t,i){a.d(e,"b",function(){return m});var s=a("f529"),r=a.n(s),n=(a("a481"),a("1da1")),o=a("a18c"),c=a("4360"),l=a("d619");const d=t.browser?"/graphql":"http://nginx/graphql",u=t.browser?a("022f"):()=>a("4f94"),m=function(){var e=Object(n["a"])(function*(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.browser&&i.cancelRequests)return{entities:{}};const r=u();c["a"].commit("setLoadingState",!0);try{const i=yield r.fetch(d,e,a,h(s),s);return c["a"].commit("setLoadingState",!1),t.browser&&r.terminate(),i}catch(n){t.browser&&r.terminate();const a=s.onError||{redirectOn404:!0};return g(n.message,a,e)}});return function(t,a){return e.apply(this,arguments)}}(),p=new l["GraphQLClient"](d,{redirect:"follow",credentials:"include"}),v=function(){var e=Object(n["a"])(function*(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{redirectOn404:!0};if(!t.browser&&i.cancelRequests)return{};c["a"].commit("setLoadingState",!0),p.options.headers=h(s);try{const t=yield p.request(e,a);return c["a"].commit("setLoadingState",!1),t}catch(r){return g(r,s,e)}});return function(t,a){return e.apply(this,arguments)}}();function h(e){let a=e.querySchema;return t.browser?a?{schema:a,"x-csrf-token":window.al_token}:{schema:"default","x-csrf-token":window.al_token}:{schema:"default","x-ssr-token":window.ssr_token}}function g(t,e,a){if(c["a"].commit("setLoadingState",!1),f(t))return;const i=t.response.errors[0],s=i.status,n=i.message;if(503===s&&o["a"].replace({name:"Maintenance"}),e.redirectOn404&&404===s&&o["a"].replace({name:"NotFound"}),403===s&&"Forbidden. (Use graphql subdomain)"===n){const t=a.includes("mutation")||a.includes("Viewer");if(t)throw r.a.error({duration:0,showClose:!0,message:"Session expired, please refresh"}),[];window.location.reload()}throw t.response.errors}function f(t){return!1}e["a"]=v}).call(this,a("f28c"),a("c8ba"))},3808:function(t,e,a){},"380b":function(t,e,a){"use strict";var i=a("dc89"),s=a.n(i);s.a},3851:function(t,e,a){"use strict";var i=a("22a6"),s=a.n(i);s.a},"38e7":function(t,e,a){},"396c":function(t,e,a){},"39a6":function(t,e,a){},"3a5e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{slot:"spinner"},slot:"spinner"},[a("div",{staticClass:"emoji-spinner"},[t._v(t._s(t.randomEmoji()))])])},s=[],r={data(){return{emoji:["ʕ•ᴥ•ʔ","(≧∇≦)/","ヘ（。□°）ヘ","(ﾟ⊿ﾟ)","( ◞･౪･)","Ｏ(≧∇≦)Ｏ","(ノ・∀・)ノ","(^・ω・^ )","₍•͈ᴗ•͈₎","(・◇・)","〜(￣▽￣〜)","⊙▽⊙","( ≧Д≦)","｡ﾟ･（>﹏<）･ﾟ｡","(つ﹏<)･ﾟ｡","ヽ(ﾟДﾟ)ﾉ","(ﾉ*ФωФ)ﾉ","ヽ( ★ω★)ノ","ヽ༼>ل͜<༽ﾉ","｢(ﾟﾍﾟ)","(⊙﹏⊙✿)","(๑•́ ω •̀๑)","(￣ω￣)","(*ﾟﾛﾟ)","（○□○）","(。･o･｡)","(ﾉﾟ0ﾟ)ﾉ~","ヘ(^0^)ヘ"]}},methods:{randomEmoji(){return this.emoji[Math.floor(Math.random()*this.emoji.length)]}}},n=r,o=a("2877"),c=Object(o["a"])(n,i,s,!1,null,null,null);e["a"]=c.exports},"3ae6":function(t,e,a){},"3bbd":function(t,e,a){},"3cff":function(t,e,a){},"3d05":function(t,e,a){"use strict";var i=a("fc1a"),s=a.n(i);s.a},"3d7b":function(t,e,a){"use strict";var i=a("9fae"),s=a.n(i);s.a},"3f09":function(t,e,a){"use strict";var i=a("078f"),s=a.n(i);s.a},"3f21":function(t,e,a){"use strict";var i=a("38e7"),s=a.n(i);s.a},"3f77":function(t,e,a){},"400f":function(t,e,a){},4036:function(t,e,a){"use strict";var i=a("3cff"),s=a.n(i);s.a},"408e":function(t,e,a){"use strict";e["a"]="mutation($email:String){VerifyUserEmail(email:$email)}"},4260:function(t,e,a){"use strict";(function(t){a.d(e,"h",function(){return p}),a.d(e,"g",function(){return h}),a.d(e,"c",function(){return g}),a.d(e,"d",function(){return f}),a.d(e,"i",function(){return y}),a.d(e,"f",function(){return b}),a.d(e,"a",function(){return w}),a.d(e,"j",function(){return C}),a.d(e,"b",function(){return O}),a.d(e,"e",function(){return $});var i=a("ade3"),s=a("f529"),r=a.n(s),n=(a("ac6a"),a("bfc7")),o=a.n(n),c=a("77c1"),l=a.n(c),d=a("2b0e");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const p=(t,e)=>{return 1===t?`${t} ${e}`:`${t} ${e}s`},v=t=>{if("function"!==typeof t.getMonth)return!1;const e=t.getMonth();return e>=0&&e<=2?"WINTER":e>=3&&e<=5?"SPRING":e>=6&&e<=8?"SUMMER":e>=9&&e<=11&&"FALL"},h=t=>{return{season:v(t),year:t.getFullYear()}},g=t=>{const e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let a="";if(t)return t.month&&(a+=e[t.month-1]),t.day&&(a+=` ${t.day}`),t.year&&(""!==a&&(a+=", "),a+=t.year),a},f=t=>{if(!t)return 0;let e=t.month||0,a=t.day||0;return e<10&&(e=`0${e}`),a<10&&(a=`0${a}`),parseInt(`${t.year||0}${e}${a}`,10)},y=function(t,e,a,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t[a]||d["default"].set(t,a,{pageInfo:{},pageData:{}}),t[a].pageInfo=e.pageInfo,null!==s&&(e=e[s]),d["default"].set(t[a].pageData,i,e)},b=(t,e)=>{return t?{pageInfo:t.pageInfo,pageData:l()(t.pageData,(t,a)=>e>=a&&"0"!==a)}:{}},_=t=>{const e=t[0].validation,a=[];return Object.keys(e).forEach(t=>{e[t].forEach(t=>{a.push(t)})}),a},w=t=>{t[0].validation?r.a.error({duration:5e3,showClose:!0,dangerouslyUseHTMLString:!0,message:_(t).join("<br><br>")}):r.a.error(t[0].message)},C=e=>{t.browser&&("requestIdleCallback"in window?window.requestIdleCallback(e):window.requestAnimationFrame(e))},O=function(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=m({},t);const i=o()(Object.keys(t),Object.keys(e),Object.keys(a)),s={};return i.forEach(i=>{void 0!==e[i]?s[i]=e[i]:void 0!==t[i]?s[i]=t[i]:s[i]=a[i]}),s},$=()=>{const t=document.body,e=document.createElement("div"),a=document.createElement("div");e.style.position="absolute",e.style.pointerEvents="none",e.style.bottom="0",e.style.right="0",e.style.width="100px",e.style.overflow="hidden",e.appendChild(a),t.appendChild(e);let i=0,s=0;return i=a.offsetWidth,a.style.width="100%",e.style.overflowY="scroll",s=i-a.offsetWidth,t.removeChild(e),s}}).call(this,a("f28c"))},"427e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-card",style:t.colors,on:{mouseover:t.setHoverPosition}},[t.rank&&t.rank<101&&t.rank>0?a("div",{staticClass:"rank circle"},[a("span",{staticClass:"hash"},[t._v("#")]),t._v(t._s(t.rank)+"\n\t")]):t._e(),t._v(" "),t.media.coverImage?a("router-link",{staticClass:"cover",attrs:{to:t.mediaLink}},[t.displayBackgroundColor&&"hsl(202,57%,89%)"!==t.colors["--media-background"]?a("div",{staticClass:"background-color"}):t._e(),t._v(" "),a("img",{staticClass:"image",class:{loaded:t.coverImageLoaded},attrs:{src:t.media.coverImage.extraLarge},on:{load:t.onImageLoad}}),t._v(" "),t.auth?a("list-editor-btns",{staticClass:"list-btns-wrap",attrs:{id:t.media.id}}):t._e()],1):t._e(),t._v(" "),t.media.title?a("router-link",{staticClass:"title",attrs:{to:t.mediaLink}},[t.auth&&t.listEntry.status?a("div",{staticClass:"list-status circle",attrs:{status:t._f("capitalizeListStatus")(t.listEntry.status,t.media.type)}}):t._e(),t._v("\n\t\t"+t._s(t.media.title.userPreferred)+"\n\t")]):t.loading?[a("div",{staticClass:"cover loading"}),t._v(" "),a("div",{staticClass:"title loading"})]:t._e(),t._v(" "),t.isMobile||t.loading?t._e():a("div",{ref:"hoverData",staticClass:"hover-data",class:[t.position]},[a("div",{staticClass:"header"},[t.airingCountdown?a("div",{staticClass:"date airing"},[t._v("\n\t\t\t\tEp "+t._s(t.media.nextAiringEpisode.episode)+" airing in "+t._s(t.airingCountdown)+"\n\t\t\t")]):a("div",{staticClass:"date"},[t._v(t._s(t.date))]),t._v(" "),t.media.averageScore?a("div",{staticClass:"score"},[a("icon",{staticClass:"icon",attrs:{icon:["far",t.scoreIcon.name],color:"rgb(var(--color-"+t.scoreIcon.color+"))"}}),t._v(" "),a("span",{staticClass:"percentage"},[t._v(t._s(t.media.averageScore)+"%")])],1):t._e()]),t._v(" "),t.studios?a("div",{staticClass:"studios"},[t._v(t._s(t.studios))]):t._e(),t._v(" "),a("div",{staticClass:"info"},[t.media.format?a("span",[t._v(t._s(t._f("capitalizeFormat")(t.media.format,!0)))]):t._e(),t._v(" "),t.media.format&&t.length?a("span",{staticClass:"separator"},[t._v("•")]):t._e(),t._v(" "),t.length?a("span",[t._v(t._s(t.length))]):t._e()]),t._v(" "),a("div",{staticClass:"genres"},t._l(t.media.genres,function(e,i){return a("div",{key:i,staticClass:"genre"},[t._v("\n\t\t\t\t"+t._s(e)+"\n\t\t\t")])}),0)])],2)},s=[],r=a("a189"),n=a("4260"),o=(a("ac6a"),a("aca2"));const c={"--media-text":"hsl(202,57%,40%)","--media-background":"hsl(202,57%,89%)","--media-background-text":"hsl(202,57%,25%)","--media-overlay-text":"hsl(202,80%,70%)"},l=[{background:{r:239,g:92,b:92},text:{r:255,g:244,b:247}},{background:{r:253,g:54,b:78},text:{r:255,g:235,b:235}},{background:{r:198,g:34,b:63},text:{r:255,g:241,b:242}},{background:{r:250,g:169,b:202},text:{r:107,g:37,b:66}},{background:{r:227,g:79,b:133},text:{r:255,g:226,b:237}},{background:{r:205,g:185,b:241},text:{r:60,g:17,b:121}},{background:{r:146,g:98,b:233},text:{r:235,g:222,b:254}},{background:{r:118,g:0,b:204},text:{r:224,g:207,b:255}},{background:{r:157,g:185,b:255},text:{r:40,g:42,b:123}},{background:{r:78,g:96,b:182},text:{r:222,g:227,b:255}},{background:{r:47,g:54,b:139},text:{r:217,g:228,b:255}},{background:{r:190,g:227,b:249},text:{r:39,g:58,b:75}},{background:{r:109,g:200,b:241},text:{r:28,g:74,b:117}},{background:{r:54,g:130,b:234},text:{r:242,g:249,b:253}},{background:{r:20,g:64,b:157},text:{r:222,g:240,b:255}},{background:{r:118,g:243,b:233},text:{r:27,g:96,b:109}},{background:{r:1,g:196,b:215},text:{r:239,g:253,b:255}},{background:{r:25,g:77,b:113},text:{r:211,g:237,b:252}},{background:{r:148,g:255,b:169},text:{r:37,g:100,b:46}},{background:{r:155,g:229,b:61},text:{r:37,g:84,b:20}},{background:{r:38,g:127,b:25},text:{r:240,g:248,b:232}},{background:{r:255,g:242,b:126},text:{r:174,g:78,b:24}},{background:{r:236,g:182,b:44},text:{r:136,g:43,b:15}},{background:{r:136,g:43,b:15},text:{r:254,g:244,b:196}},{background:{r:225,g:214,b:160},text:{r:76,g:64,b:35}},{background:{r:242,g:135,b:13},text:{r:94,g:43,b:12}},{background:{r:243,g:84,b:40},text:{r:255,g:232,b:224}}];var d=a("e02b");function u(t,e){t=Object(o["convert"])(t).rgb;let a,i=1/0;return e.forEach((e,s)=>{const r=e.background;let n=Math.pow(t.r-r.r,2)+Math.pow(t.g-r.g,2)+Math.pow(t.b-r.b,2);n<i&&(i=n,a=e)}),{background:Object(o["convert"])(a.background),text:Object(o["convert"])(a.text)}}function m(t){if(!t)return c;const e=Object(d["a"])(),a=u(t,l),i=a.background,s=a.text,r=i.hsl.l>s.hsl.l?s:i,n=Object(o["convert"])({h:s.hsl.h,l:70,s:80}).csshsl;return{"--media-text":"dark"===e?n:r.csshsl,"--media-background":i.csshsl,"--media-background-text":s.csshsl,"--media-overlay-text":n}}var p=a("5ad4"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap",class:{"on-list":t.listEntry.id}},[a("div",{staticClass:"btn open",attrs:{label:"Open List Editor",status:t._f("capitalizeListStatus")(t.listEntry.status,t.media.type)},on:{click:function(e){return e.preventDefault(),t.openListEditor(e)}}},[a("icon",{staticClass:"icon",attrs:{icon:t.listEntry.id?"pen":"plus"}})],1),t._v(" "),a("div",{staticClass:"quick-actions"},[t.media.status&&"NOT_YET_RELEASED"!==t.media.status?a("div",{staticClass:"btn",attrs:{label:t.labels.current},on:{click:function(e){return e.preventDefault(),t.editListStatus("CURRENT")}}},[a("icon",{staticClass:"icon",attrs:{icon:"play"}})],1):t._e(),t._v(" "),"FINISHED"===t.media.status?a("div",{staticClass:"btn",attrs:{label:t.labels.completed},on:{click:function(e){return e.preventDefault(),t.editListStatus("COMPLETED")}}},[a("icon",{staticClass:"icon",attrs:{icon:"check"}})],1):t._e(),t._v(" "),a("div",{staticClass:"btn",attrs:{label:t.labels.planning},on:{click:function(e){return e.preventDefault(),t.editListStatus("PLANNING")}}},[a("icon",{staticClass:"icon",attrs:{icon:"calendar"}})],1)])])},h=[],g=a("1da1"),f={props:["id"],data(){return{editingEntry:!1}},computed:{media(){return this.$store.getters.entity("media",this.id)},listEntry(){return this.$store.getters.entity("listEntry",this.media.mediaListEntry)},labels(){const t="ANIME"===this.media.type?"Watching":"Reading",e=this.listEntry.id?"Set":"Add";return{planning:`${e} to Planning`,current:`${e} to ${t}`,completed:`${e} to Completed`}}},methods:{openListEditor(){this.$store.dispatch("medialistEditor/open",this.media.id)},editListStatus(t){var e=this;return Object(g["a"])(function*(){if(e.editingEntry)return;e.editingEntry=!0;const a=yield e.$store.dispatch("medialistEditor/save",{status:t,mediaId:e.media.id});if(e.editingEntry=!1,a){const t=Object(p["capitalizeListStatus"])(e.listEntry.status,e.media.type).toLowerCase();e.$notify({type:"success",message:`${e.media.title.userPreferred} added to ${t} list`})}})()}}},y=f,b=(a("58e7"),a("2877")),_=Object(b["a"])(y,v,h,!1,null,"a49067d4",null),w=_.exports;const C=(new Date).getFullYear();var O={props:["entityId","rank"],mixins:[r["a"]],data(){return{position:"right",coverImageLoaded:!1,displayBackgroundColor:!1,editingListEntry:!1,airingCountdownForm:"short",scrollDescription:!1}},components:{ListEditorBtns:w},computed:{media(){return this.$store.getters.entity("media",this.entityId)},loading(){return"loading"===this.entityId},listEntry(){return this.$store.getters.entity("listEntry",this.media.mediaListEntry)},studios(){if(!this.media.studios)return null;const t=this.media.studios.edges.map(t=>t.isMain?t.node:0),e=t.filter(Boolean).map(t=>this.$store.getters.entity("studio",t).name);return e.join(", ")},date(){const t=this.media,e=t.status,a=t.type,i=t.startDate,s=t.endDate,r=t.season;return i&&i.year?"RELEASING"===e?i.year!==C?"ANIME"===a?`Airing Since ${i.year}`:`Publishing Since ${i.year}`:"ANIME"===a?"Airing":"Publishing Now":s&&s.year&&s.year>i.year+1?`${i.year} - ${s.year}`:r?`${Object(p["capitalize"])(r)} ${i.year}`:String(i.year):"CANCELLED"===e||"FINISHED"===e?Object(p["capitalize"])(e):"TBA"},length(){const t=this.media,e=t.type,a=t.format,i=t.episodes,s=t.chapters,r=t.volumes,o=(t,e)=>t?Object(n["h"])(t,e):null;return"ANIME"===e?"MOVIE"===a&&1===i?this.duration:o(i,"episode"):"NOVEL"===a?o(r,"volume"):"MANGA"===e?o(s,"chapter"):void 0},duration(){let t="";const e=Math.floor(this.media.duration/60),a=this.media.duration%60;return 0!==e&&(t+=e,t+=` hour${e>1?"s":""}`),0!==a&&(0!==e&&(t+=", "),t+=`${a} mins`),t},airingCountdown(){const t=this.media.nextAiringEpisode;if(!t)return;const e=this.timeUntil(t);if(e.days>30)return null;let a=[];return 0!==e.days&&a.push(Object(n["h"])(e.days,"day")),0!==e.hours&&a.push(Object(n["h"])(e.hours,"hour")),0===e.minutes||0!==e.days&&0!==e.hours||a.push(Object(n["h"])(e.minutes,"min")),"short"===this.airingCountdownForm?a[0]:a.join(", ")},scoreIcon(){const t=[{name:"smile",color:"green"},{name:"meh",color:"orange"},{name:"frown",color:"red"}],e=this.media.averageScore;return e>74?t[0]:e>59?t[1]:t[2]},colors(){return this.media.coverImage?m(this.media.coverImage.color):m(null)},mediaLink(){return{name:"MediaOverview",params:this.formatMediaUrl(this.media)}},isMobile(){return this.$store.state.screen.isMobile}},methods:{timeUntil(t){const e=Math.trunc((new Date).getTime()/1e3),a=t.airingAt-e;return{seconds:a%60,minutes:Math.trunc(a/60)%60,hours:Math.trunc(a/60/60)%24,days:Math.trunc(a/60/60/24)}},setHoverPosition(){const t=this.$refs.hoverData;if(!t||!window)return;const e=t.getBoundingClientRect(),a=e.right;a>window.innerWidth&&(this.position="left")},openListEditor(){this.$store.dispatch("medialistEditor/open",this.media.id)},onImageLoad(){this.coverImageLoaded=!0},enableBackgroundColor(){setTimeout(()=>{this.coverImageLoaded||(this.displayBackgroundColor=!0)},1500)}},watch:{entityId(t,e){t!==e&&(this.displayBackgroundColor=!1,this.coverImageLoaded=!1),t&&this.enableBackgroundColor()}},created(){this.enableBackgroundColor()}},$=O,k=(a("3f09"),Object(b["a"])($,i,s,!1,null,"758c163c",null));e["a"]=k.exports},4360:function(t,e,a){"use strict";var i={};a.r(i),a.d(i,"overviewQuery",function(){return L}),a.d(i,"charactersQuery",function(){return D}),a.d(i,"staffQuery",function(){return M}),a.d(i,"reviewsQuery",function(){return R}),a.d(i,"threadsQuery",function(){return N}),a.d(i,"followingQuery",function(){return F}),a.d(i,"activityQuery",function(){return U}),a.d(i,"statsQuery",function(){return V}),a.d(i,"recommendationsQuery",function(){return z}),a.d(i,"saveMediaTagVoteMutation",function(){return q}),a.d(i,"addMediaTagMutation",function(){return B}),a.d(i,"createMediaTagMutation",function(){return H}),a.d(i,"deleteMediaTagMutation",function(){return G}),a.d(i,"toggleMediaTagSpoilerMutation",function(){return W});var s=a("2b0e"),r=a("2f62"),n=a("77c1"),o=a.n(n),c={entity:t=>(e,a)=>t.entities[e][a]||{},entityPage:t=>(e,a)=>{const i=t.entities.page[e];return i?{pageInfo:i.pageInfo,pageData:o()(i.pageData,(t,e)=>a>=e&&"0"!==e)}:{}},entityPagePreview:t=>(e,a)=>{const i=t.entities.page[e];if(!i)return[];const s=i.pageData[1]||[];return a?s.slice(0,a):s}},l=a("1da1"),d=a("365c"),u="query{genres:GenreCollection tags:MediaTagCollection{name description category isAdult}}",m={updateScreenSize(t){let e=t.commit;e("setScreenSize",{width:window.innerWidth,height:window.innerHeight})},fetchTags(t){return Object(l["a"])(function*(){let e=t.commit;const a=yield Object(d["a"])(u);e("setTags",a.tags)})()}},p=(a("ac6a"),a("28a5"),a("ade3")),v=a("2411"),h=a.n(v);function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach(function(e){Object(p["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function y(t,e){const a=(t,e)=>Array.isArray(e)?e:void 0;for(const i in e){const r=Object.assign({},t.entities[i])||{};if("page"!==i){for(const t in e[i]){const s=r[t];r[t]=s?h()({},s,e[i][t],a):e[i][t]}s["default"].set(t.entities,i,r)}else for(const a in e.page)b(t,a,e.page[a])}}function b(t,e,a){const i=t.entities.page;i[e]||s["default"].set(i,e,{pageInfo:{},pageData:{}});const r=a.pageInfo&&a.pageInfo.currentPage?a.pageInfo.currentPage:1;i[e].pageInfo=a.pageInfo,s["default"].set(i[e].pageData,r,a.pageData)}var _={setEntities(t,e){y(t,e)},deleteEntity(t,e){let a=e.type,i=e.id;s["default"].delete(t.entities[a],i)},setEntityPage(t,e){let a=e.childSchema,i=e.key,r=e.pageNum,n=e.pageInfo,o=e.data;const c=t.pages;c[i]||s["default"].set(c,i,{pageInfo:{},pageData:{}}),c[i].pageInfo=n;const l=normalize(o,[a]),d=l.entities,u=l.result;y(t,d),s["default"].set(c[i].pageData,r,u)},setNavTransparency(t,e){t.navTransparency=e},setScreenSize(t,e){t.screen=f({},e,{isDesktop:e.width>1040,isMobile:window.innerWidth<760})},setLoadingState(t,e){t.loading=e},setAdDisplay(t,e){t.displayAds=e},setMarkdownEditorState(t,e){t.markdownEditorActive=e},setTags(t,e){t.tags=e},setScrollBarWidth(t,e){t.scrollBarWidth=e},incrementAdCount(t){t.adCount++},updateObject(t,e){let a=e.reference,i=e.path,r=e.value;if(i.includes(".")){const t=i.split(".");i=t.pop(),t.forEach(t=>{a[t]?a=a[t]:a[t]={}})}s["default"].set(a,i,r)}},w=a("b565"),C=a("df68"),O="query($isFollowing:Boolean = true,$hasReplies:Boolean = false,$activityType:ActivityType,$page:Int){Page(page:$page,perPage:25){pageInfo{total perPage currentPage lastPage hasNextPage}activities(isFollowing:$isFollowing type:$activityType hasRepliesOrTypeText:$hasReplies type_in:[TEXT,ANIME_LIST,MANGA_LIST]sort:ID_DESC){... on TextActivity{id userId type replyCount text isLocked isSubscribed isLiked likeCount createdAt user{id name donatorTier donatorBadge avatar{large}}}... on ListActivity{id userId type status progress replyCount isLocked isSubscribed isLiked likeCount createdAt user{id name donatorTier donatorBadge avatar{large}}media{id type status isAdult title{userPreferred}bannerImage coverImage{large}}}}}}",$="query($userId:Int,$type:MediaType,$perPage:Int){Page(perPage:$perPage){mediaList(userId:$userId,type:$type,status_in:[CURRENT,REPEATING],sort:UPDATED_TIME_DESC){id status score progress progressVolumes media{id type status(version:2)format episodes bannerImage title{userPreferred}coverImage{large}nextAiringEpisode{airingAt timeUntilAiring episode}}}}}",k="query($page:Int,$perPage:Int = 30){Page(page:$page,perPage:$perPage){pageInfo{total perPage currentPage lastPage hasNextPage}reviews(sort:ID_DESC){id rating ratingAmount summary media{id title{userPreferred}type bannerImage}user{id name}}}}",S="query{Trending:Page(perPage:5){media(isAdult:false,sort:TRENDING_DESC){...media}}NewAnime:Page(perPage:5){media(type:ANIME,isAdult:false,sort:ID_DESC){...media}}NewManga:Page(perPage:5){media(type:MANGA,isAdult:false,sort:ID_DESC){...media}}}fragment media on Media{id type status(version:2)format episodes chapters trending bannerImage title{userPreferred}coverImage{large}}",P="query{Page(perPage:3){threads(sort:REPLIED_AT_DESC){id title replyCount viewCount replyCommentId repliedAt createdAt categories{id name}user{id name avatar{large}}replyUser{id name avatar{large}}}}}",I="query($userId:Int){Page{mediaList(userId:$userId,type:ANIME,status:CURRENT,sort:UPDATED_TIME_DESC){id status score progress progressVolumes media{id title{userPreferred}coverImage{extraLarge large color}startDate{year month day}endDate{year month day}bannerImage season description type format status(version:2)episodes duration genres isAdult averageScore popularity mediaListEntry{id status}nextAiringEpisode{airingAt timeUntilAiring episode}studios(isMain:true){edges{isMain node{id name}}}}}}}";function j(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),!0).forEach(function(e){Object(p["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var E={namespaced:!0,state:{media:{},activityFeedType:void 0,largeListPreview:!1},getters:{activityFeedType:t=>{return t.activityFeedType?t.activityFeedType:{type:"following",filter:"all"}},media:t=>t.media,largeListPreview:t=>t.largeListPreview},actions:{fetchActivity(t,e){return Object(l["a"])(function*(){"global"===e.type&&(e.isFollowing=!1,e.hasReplies=!0),"status"===e.filter?e.activityType="TEXT":"progress"===e.filter&&(e.activityType="MEDIA_LIST");const t=yield Object(d["b"])(O,e,{page:{id:`homeActivity-${e.type}-${e.filter}`,key:"activities",schema:"activity"}}),a=t.entities;return Object(C["e"])(a),Object(C["b"])(a)})()},fetchListPreview(t,e){return Object(l["a"])(function*(){let a=t.state;e.perPage=a.largeListPreview?40:20;const i=yield Object(d["b"])($,e,{page:{id:`homeListPreview-${e.type}`,key:"mediaList",schema:"listEntry"}}),s=i.entities;Object(C["e"])(s)})()},fetchRecentReviews(t){return Object(l["a"])(function*(){const t=yield Object(d["b"])(k,{page:1,perPage:4},{page:{id:"homeReviews",key:"reviews",schema:"review"}}),e=t.entities;Object(C["e"])(e)})()},fetchMedia(t){return Object(l["a"])(function*(){let e=t.commit;const a=yield Object(d["b"])(S,{},{schema:"mediaTrending"}),i=a.entities,s=A({},i.page.mediaTrending);delete i.page,Object(C["e"])(i),e("setMedia",s)})()},fetchForumFeed(t){return Object(l["a"])(function*(){const t=yield Object(d["b"])(P,{},{page:{id:"homeThreads",key:"threads",schema:"thread"}}),e=t.entities;Object(C["e"])(e)})()},fetchAiringAnime(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(I,e,{page:{id:"airing",key:"mediaList",schema:"listEntry"}}),a=t.entities;Object(C["e"])(a)})()}},mutations:{setMedia(t,e){s["default"].set(t,"media",e)},setActivityFeedType(t,e){localStorage.setItem("default-activity",JSON.stringify(e)),t.activityFeedType=e},setLargeListPreview(t,e){localStorage.setItem("large-list-preview",e),t.largeListPreview=e}}},x=a("4245"),T=a.n(x),L="query media($id:Int,$type:MediaType,$isAdult:Boolean){Media(id:$id,type:$type,isAdult:$isAdult){id title{userPreferred romaji english native}coverImage{extraLarge large}bannerImage startDate{year month day}endDate{year month day}description season seasonYear type format status(version:2)episodes duration chapters volumes genres synonyms source(version:2)isAdult isLocked meanScore averageScore popularity favourites hashtag countryOfOrigin isLicensed isFavourite isRecommendationBlocked nextAiringEpisode{airingAt timeUntilAiring episode}relations{edges{id relationType(version:2)node{id title{userPreferred}format type status(version:2)bannerImage coverImage{large}}}}characterPreview:characters(perPage:6,sort:[ROLE,ID]){edges{id role voiceActors(language:JAPANESE){id name{full}language image{large}}node{id name{full}image{large}}}}staffPreview:staff(perPage:8){edges{id role node{id name{full}language image{large}}}}studios{edges{isMain node{id name}}}reviewPreview:reviews(perPage:2,sort:[RATING_DESC,ID]){pageInfo{total}nodes{id summary rating ratingAmount user{id name avatar{large}}}}recommendations(perPage:7,sort:[RATING_DESC,ID]){pageInfo{total}nodes{id rating userRating mediaRecommendation{id title{userPreferred}format type status(version:2)bannerImage coverImage{large}}user{id name avatar{large}}}}externalLinks{site url}streamingEpisodes{site title thumbnail url}trailer{id site}rankings{id rank type format year season allTime context}tags{id name description rank isMediaSpoiler isGeneralSpoiler}mediaListEntry{id status score}stats{statusDistribution{status amount}scoreDistribution{score amount}}}}",D="query media($id:Int,$page:Int){Media(id:$id){id characters(page:$page,sort:[ROLE,ID]){pageInfo{total perPage currentPage lastPage hasNextPage}edges{id role voiceActors{id name{full}language image{large}}node{id name{full}image{large}}}}}}",M="query media($id:Int,$page:Int){Media(id:$id){id staff(page:$page){pageInfo{total perPage currentPage lastPage hasNextPage}edges{id role node{id name{full}image{large}}}}}}",R="query media($id:Int,$page:Int){Media(id:$id){id title{userPreferred}reviews(page:$page,sort:[RATING_DESC,ID]){pageInfo{total perPage currentPage lastPage hasNextPage}nodes{id summary rating ratingAmount user{id name avatar{large}}}}}}",N="query($id:Int,$page:Int,$perPage:Int){Page(page:$page,perPage:$perPage){pageInfo{total perPage currentPage lastPage hasNextPage}threads(mediaCategoryId:$id,sort:ID_DESC){id title replyCount viewCount replyCommentId repliedAt createdAt categories{id name}user{id name avatar{large}}replyUser{id name avatar{large}}}}}",F="query($id:Int,$page:Int,$perPage:Int){Page(page:$page,perPage:$perPage){pageInfo{total perPage currentPage lastPage hasNextPage}mediaList(mediaId:$id,isFollowing:true,sort:UPDATED_TIME_DESC){id status score progress user{id name avatar{large}mediaListOptions{scoreFormat}}}}}",U="query($id:Int,$page:Int){Page(page:$page,perPage:10){pageInfo{total perPage currentPage lastPage hasNextPage}activities(mediaId:$id,sort:ID_DESC,type:MEDIA_LIST){... on ListActivity{id userId type status progress replyCount isLocked isSubscribed isLiked likeCount createdAt user{id name avatar{large}}media{id type bannerImage title{userPreferred}coverImage{large}}}}}}",V="query($id:Int){Media(id:$id){id rankings{id rank type format year season allTime context}trends(sort:ID_DESC){nodes{averageScore date trending popularity}}airingTrends:trends(releasing:true,sort:EPISODE_DESC){nodes{averageScore inProgress episode}}distribution:stats{status:statusDistribution{status amount}score:scoreDistribution{score amount}}}}",z="query media($id:Int,$page:Int){Media(id:$id){id title{userPreferred}recommendations(page:$page,sort:[RATING_DESC,ID]){pageInfo{total perPage currentPage lastPage hasNextPage}nodes{id rating userRating mediaRecommendation{id title{userPreferred}format type status(version:2)bannerImage coverImage{large}}user{id name avatar{large}}}}}}",q="mutation($mediaId:Int,$tagId:Int,$vote:Int){SaveMediaTagVote(mediaId:$mediaId,tagId:$tagId,vote:$vote)}",B="mutation($mediaId:Int,$name:String,$isMediaSpoiler:Boolean){AddMediaTag(mediaId:$mediaId,tag:$name,isMediaSpoiler:$isMediaSpoiler)}",H="mutation($mediaId:Int,$name:String,$isMediaSpoiler:Boolean,$description:String){CreateMediaTag(mediaId:$mediaId,tag:$name,isMediaSpoiler:$isMediaSpoiler,description:$description)}",G="mutation($mediaId:Int,$tagId:Int){DeleteMediaTag(mediaId:$mediaId,tagId:$tagId){deleted}}",W="mutation($mediaId:Int,$tagId:Int,$isMediaSpoiler:Boolean){UpdateMediaTag(mediaId:$mediaId,tagId:$tagId,isMediaSpoiler:$isMediaSpoiler){id}}";const Y={querySchema:"internal"};var K={state:{allTags:null},getters:{allTags:t=>t.allTags},actions:{fetchAllTags(t){return Object(l["a"])(function*(){let e=t.commit;const a=yield Object(d["a"])(u);e("setAllTags",a.tags)})()},tagVote(t,e){return Object(l["a"])(function*(){try{const a=yield Object(d["a"])(q,e,Y);return a.SaveMediaTagVote.votes}catch(t){return!1}})()},addTag(t,e){return Object(l["a"])(function*(){try{return yield Object(d["a"])(B,e,Y)}catch(t){return!1}})()},createTag(t,e){return Object(l["a"])(function*(){try{return yield Object(d["a"])(H,e,Y)}catch(t){return{error:t[0]}}})()},toggleSpoilerTag(t,e){return Object(l["a"])(function*(){try{return yield Object(d["a"])(W,e,Y),!0}catch(t){return!1}})()},deleteTag(t,e){return Object(l["a"])(function*(){try{const a=yield Object(d["a"])(G,e,Y);return a.DeleteMediaTag.deleted}catch(t){return!1}})()}},mutations:{setAllTags(t,e){t.allTags=e}}},Q=T()({namespaced:!0,actions:{fetchMediaOverview(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(L,e,{schema:"media",root:"Media"}),a=t.entities;Object(C["e"])(a)})()},fetchMediaChild(t,e){return Object(l["a"])(function*(){let t=e.variables,a=e.type;const s=yield Object(d["b"])(i[`${a}Query`],t,{schema:"media",root:"Media"}),r=s.entities;return Object(C["e"])(r),Object(C["c"])(r)})()},fetchStats(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(V,e,{schema:"media",root:"Media"}),a=t.entities;Object(C["e"])(a)})()},fetchFollowing(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(F,e,{page:{id:`mediaFollowing-${e.id}`,key:"mediaList",schema:"listEntry"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},fetchThreads(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(N,e,{page:{id:`forumFeed-recent-{"media":${e.id}}`,key:"threads",schema:"thread"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},fetchActivity(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(U,e,{page:{id:`mediaActivity-${e.id}`,key:"activities",schema:"activity"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()}}},K),J=a("f529"),X=a.n(J),Z=a("4260"),tt="query($id:Int,$name:String){User(id:$id,name:$name){id name avatar{large}bannerImage about isFollowing isFollower donatorTier donatorBadge moderatorStatus isBlocked bans options{profileColor}mediaListOptions{scoreFormat}statistics{anime{count meanScore standardDeviation minutesWatched episodesWatched genrePreview:genres(limit:10,sort:COUNT_DESC){genre count}}manga{count meanScore standardDeviation chaptersRead volumesRead genrePreview:genres(limit:10,sort:COUNT_DESC){genre count}}}stats{activityHistory{date amount level}}favourites{anime{edges{favouriteOrder node{id type status(version:2)format isAdult bannerImage title{userPreferred}coverImage{large}startDate{year}}}}manga{edges{favouriteOrder node{id type status(version:2)format isAdult bannerImage title{userPreferred}coverImage{large}startDate{year}}}}characters{edges{favouriteOrder node{id name{full}image{large}}}}staff{edges{favouriteOrder node{id name{full}image{large}}}}studios{edges{favouriteOrder node{id name}}}}}}",et="query($id:Int,$type:ActivityType,$page:Int){Page(page:$page,perPage:25){pageInfo{total perPage currentPage lastPage hasNextPage}activities(userId:$id,type:$type,sort:ID_DESC){... on ListActivity{id type replyCount status progress isLocked isSubscribed isLiked likeCount createdAt user{id name avatar{large}}media{id type status(version:2)isAdult bannerImage title{userPreferred}coverImage{large}}}... on TextActivity{id type text replyCount isLocked isSubscribed isLiked likeCount createdAt user{id name avatar{large}}}... on MessageActivity{id type message replyCount isPrivate isLocked isSubscribed isLiked likeCount createdAt user:recipient{id}messenger{id name donatorTier donatorBadge moderatorStatus avatar{large}}}}}}",at="query($id:Int,$page:Int){Page(page:$page,perPage:30){pageInfo{total perPage currentPage lastPage hasNextPage}reviews(userId:$id,sort:ID_DESC){id rating ratingAmount summary media{id title{userPreferred}type bannerImage}user{id name}}}}",it=t=>`query($id:Int!,$page:Int){Page(page:$page){pageInfo{total perPage currentPage lastPage hasNextPage}${t}(userId:$id,sort:USERNAME){id name avatar{large}}}}`,st="query($page:Int,$id:Int){Page(page:$page,perPage:25){pageInfo{total perPage currentPage lastPage hasNextPage}threads(userId:$id,sort:ID_DESC){id title body replyCount viewCount replyCommentId isLocked repliedAt createdAt categories{id name}mediaCategories{id title{userPreferred}type}user{id name avatar{large}}replyUser{id name avatar{large}}}}}",rt="query($id:Int,$page:Int){Page(page:$page,perPage:15){pageInfo{total perPage currentPage lastPage hasNextPage}threadComments(userId:$id,sort:ID_DESC){id threadId comment isLiked likeCount createdAt thread{id title}user{id name donatorTier donatorBadge moderatorStatus avatar{large}}}}}",nt="query($id:Int $name:String $animePage:Int $mangaPage:Int $charactersPage:Int $staffPage:Int $studiosPage:Int){User(id:$id,name:$name){id name favourites{anime(page:$animePage){pageInfo{total perPage currentPage lastPage hasNextPage}edges{favouriteOrder node{id type status(version:2)format isAdult bannerImage title{userPreferred}coverImage{large}startDate{year}}}}manga(page:$mangaPage){pageInfo{total perPage currentPage lastPage hasNextPage}edges{favouriteOrder node{id type status(version:2)format isAdult bannerImage title{userPreferred}coverImage{large}startDate{year}}}}characters(page:$charactersPage){pageInfo{total perPage currentPage lastPage hasNextPage}edges{favouriteOrder node{id name{full}image{large}}}}staff(page:$staffPage){pageInfo{total perPage currentPage lastPage hasNextPage}edges{favouriteOrder node{id name{full}image{large}}}}studios(page:$studiosPage){pageInfo{total perPage currentPage lastPage hasNextPage}edges{favouriteOrder node{id name}}}}}}",ot="query($id:Int,$type:MediaType,$page:Int){Page(page:$page){pageInfo{total perPage currentPage lastPage hasNextPage}mediaList(userId:$id,type:$type,status_not:PLANNING,compareWithAuthList:true,sort:SCORE_DESC){id status score user{id}media{id title{userPreferred}type format bannerImage mediaListEntry{id status score user{id}}}}}}",ct="query($id:Int){UserModData(id:$id){alts{id name}bans ip counts}}",lt="query($id:Int,$page:Int){Page(page:$page,perPage:20){pageInfo{hasNextPage}modActions(userId:$id){id mod{id name}type data objectId objectType createdAt}}}",dt="mutation($id:Int){ToggleFollow(userId:$id){id name isFollowing}}",ut="mutation($animeId:Int,$mangaId:Int,$characterId:Int,$staffId:Int,$studioId:Int){ToggleFavourite(animeId:$animeId mangaId:$mangaId characterId:$characterId staffId:$staffId studioId:$studioId){anime{pageInfo{total}}manga{pageInfo{total}}characters{pageInfo{total}}staff{pageInfo{total}}studios{pageInfo{total}}}}",mt="mutation($animeIds:[Int]$mangaIds:[Int]$characterIds:[Int]$staffIds:[Int]$studioIds:[Int]$animeOrder:[Int]$mangaOrder:[Int]$characterOrder:[Int]$staffOrder:[Int]$studioOrder:[Int]){UpdateFavouriteOrder(animeIds:$animeIds mangaIds:$mangaIds characterIds:$characterIds staffIds:$staffIds studioIds:$studioIds animeOrder:$animeOrder mangaOrder:$mangaOrder characterOrder:$characterOrder staffOrder:$staffOrder studioOrder:$studioOrder){anime{pageInfo{total}}}}";const pt="query($page:Int,$type:MediaType,$id:Int){Page(page:$page){pageInfo{total perPage currentPage lastPage hasNextPage}submissions:mediaSubmissions(type:$type,userId:$id){id createdAt status notes submission{id type title{userPreferred}coverImage{large}}media{id type title{userPreferred}coverImage{large}}}}}",vt="query($page:Int,$id:Int){Page(page:$page){pageInfo{total perPage currentPage lastPage hasNextPage}submissions:characterSubmissions(userId:$id){createdAt status notes character{id name{full first last}image{large}}}}}",ht="query($page:Int,$id:Int){Page(page:$page){pageInfo{total perPage currentPage lastPage hasNextPage}submissions:staffSubmissions(userId:$id){createdAt status notes staff{id name{full first last}image{large}}}}}";var gt={anime:pt,manga:pt,characters:vt,staff:ht},ft="mutation($id:Int){ToggleUserBlock(userId:$id){id name isBlocked}}",yt="mutation($userId:Int,$reason:String){CreateUserReport(userId:$userId,reason:$reason)}",bt="mutation($userId:Int,$note:String){SaveModNote(userId:$userId,note:$note){id}}";const _t="\n\tcount\n\tmeanScore\n\tminutesWatched\n\tchaptersRead\n\tmediaIds\n";var wt=t=>`query($name:String){User(name:$name){id name statistics{${t}{formats{format${_t}}statuses{status${_t}}scores{score${_t}}lengths{length${_t}}releaseYears{releaseYear${_t}}startYears{startYear${_t}}countries{country${_t}}}}}}`;const Ct="tag {\n\tid\n\tname\n}\n",Ot="voiceActor {\n\tid\n\tname {\n\t\tfull\n\t}\n\timage {\n\t\tlarge\n\t}\n}\ncharacterIds\n",$t="staff {\n\tid\n\tname {\n\t\tfull\n\t}\n\timage {\n\t\tlarge\n\t}\n}",kt="studio {\n\tid\n\tname\n}",St={genre:"\n\t\tgenre\n\t",tag:Ct,voiceActor:Ot,staff:$t,studio:kt};var Pt=(t,e,a)=>`query($name:String){User(name:$name){id name statistics{${t}{${e}{${St[a]}count meanScore minutesWatched chaptersRead mediaIds}}}}}`,It="query($ids:[Int]){Page{media(id_in:$ids){id type bannerImage title{userPreferred}coverImage{large}}}}",jt="query($ids:[Int]){Page{characters(id_in:$ids){id name{full}image{large}}}}",At={actions:{fetchStats(t,e){return Object(l["a"])(function*(){let t=e.userName,a=e.mediaType;const i=yield Object(d["b"])(wt(a),{name:t},{schema:"user",root:"User"}),s=i.entities;Object(C["e"])(s)})()},fetchStatsType(t,e){return Object(l["a"])(function*(){let t=e.userName,a=e.mediaType,i=e.type,s=e.field;const r=yield Object(d["b"])(Pt(a,i,s),{name:t},{schema:"user",root:"User"}),n=r.entities;Object(C["e"])(n)})()},fetchStatsMedia(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(It,{ids:e},{schema:"media",arraySchema:!0,root:"Page.media"}),a=t.entities;Object(C["e"])(a)})()},fetchStatsCharacters(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(jt,{ids:e},{schema:"character",arraySchema:!0,root:"Page.characters"}),a=t.entities;Object(C["e"])(a)})()}}};function Et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function xt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(a),!0).forEach(function(e){Object(p["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const Tt={querySchema:"internal"};var Lt=T()({namespaced:!0,state:{submissions:{anime:{},manga:{},characters:{},staff:{}},moderation:{},modActions:{}},getters:{submissions:t=>(e,a,i)=>Object(Z["f"])(t.submissions[a][e],i),moderation:t=>e=>t.moderation[e]||{},modActions:t=>(e,a)=>Object(Z["f"])(t.modActions[e],a)},actions:{fetchOverview(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(tt,e,{schema:"user",root:"User"}),a=t.entities;Object(C["e"])(a)})()},fetchActivity(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(et,e,{page:{id:`userActivity-${e.type}-${e.id}`,key:"activities",schema:"activity"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},fetchReviews(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(at,e,{page:{id:`userReviews-${e.id}`,key:"reviews",schema:"review"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},fetchFollows(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(it(e.type),e,{page:{id:`user${e.type}-${e.id}`,key:e.type,schema:"user"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},fetchThreads(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(st,e,{page:{id:`userThreads-${e.id}`,key:"threads",schema:"thread"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},fetchComments(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(rt,e,{page:{id:`userComments-${e.id}`,key:"threadComments",schema:"threadComment"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},fetchFavourites(t,e){return Object(l["a"])(function*(){const t=xt({},e,{[`${e.type}Page`]:e.page}),a=yield Object(d["b"])(nt,t,{schema:"user",root:"User"}),i=a.entities;return Object(C["e"])(i),Object(C["c"])(i,e.pageKey)})()},fetchListComparison(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(ot,e,{page:{id:`listComparison-${e.id}`,key:"mediaList",schema:"listEntry"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},fetchSubmissions(t,e){return Object(l["a"])(function*(){let a=t.commit;try{const t=xt({},e,{type:e.type.toUpperCase()}),s=yield Object(d["a"])(gt[e.type],t,Tt);return a("setSubmissions",{submissions:s.Page,id:e.id,type:e.type,page:e.page}),s.Page.pageInfo.hasNextPage}catch(i){return!1}})()},toggleFollow(t,e){return Object(l["a"])(function*(){try{const a=yield Object(d["b"])(dt,{id:e},{schema:"user",root:"ToggleFollow"}),i=a.entities;return Object(C["e"])(i),!0}catch(t){return Object(Z["a"])(t),!1}})()},toggleFavourite(t,e){return Object(l["a"])(function*(){let t=e.id,a=e.type,i=e.isFavourite;const s="anime"===a||"manga"===a?"media":a;try{yield Object(d["a"])(ut,{[`${a}Id`]:t})}catch(r){return null}return Object(C["e"])({[s]:{[t]:{isFavourite:!i}}}),!i})()},updateFavouriteOrder(t,e){return Object(l["a"])(function*(){try{yield Object(d["a"])(mt,e)}catch(t){return!1}})()},toggleBlock(t,e){return Object(l["a"])(function*(){try{const a=yield Object(d["b"])(ft,{id:e},xt({schema:"user",root:"ToggleUserBlock"},Tt)),i=a.entities;Object(C["e"])(i);const s=i.user[e];X.a.success(`${s.name} ${s.isBlocked?"blocked":"unblocked"}`)}catch(t){403===t[0].status&&X.a.error("Sorry, you cannot block this type of user.")}})()},createReport(t,e){return Object(l["a"])(function*(){try{yield Object(d["a"])(yt,e,Tt),X.a.success("Your report has been sent and will be reviewed by site moderators shortly.")}catch(t){Object(Z["a"])(t)}})()},fetchModData(t,e){return Object(l["a"])(function*(){let a=t.commit,i=e.id;const s=yield Object(d["a"])(ct,{id:i},Tt);a("setModData",{id:i,modData:s.UserModData})})()},fetchModActions(t,e){return Object(l["a"])(function*(){let a=t.commit;const i=yield Object(d["a"])(lt,e,Tt);return a("setModActions",{actions:i.Page,id:e.id,page:e.page}),i.Page.pageInfo.hasNextPage})()},saveModNote(t,e){return Object(l["a"])(function*(){try{return yield Object(d["a"])(bt,e,Tt),!0}catch(t){return!1}})()}},mutations:{setFavourites(t,e){let a=e.favourites,i=e.id,s=e.type,r=e.page;Object(Z["i"])(t.favourites,a,i+s,r,"edges")},setSubmissions(t,e){let a=e.submissions,i=e.id,s=e.type,r=e.page;Object(Z["i"])(t.submissions[s],a,i,r,"submissions")},setModData(t,e){let a=e.id,i=e.modData;s["default"].set(t.moderation,a,i)},setModActions(t,e){let a=e.actions,i=e.id,s=e.page;Object(Z["i"])(t.modActions,a,i,s,"modActions")},setBlocked(t,e){const a=t.user[e.name]||t.user[e.id];a.isBlocked=e.isBlocked}}},At),Dt="query($id:Int,$mediaId:Int,$userId:Int){Review(id:$id,mediaId:$mediaId,userId:$userId){id body summary rating ratingAmount userRating score private createdAt user{id name}media{id type title{userPreferred}isAdult bannerImage coverImage{large}}}}",Mt="mutation($id:Int,$rating:ReviewRating){RateReview(reviewId:$id,rating:$rating){id userRating rating ratingAmount}}",Rt="mutation($id:Int,$mediaId:Int,$body:String,$summary:String,$score:Int,$private:Boolean){SaveReview(id:$id,mediaId:$mediaId,body:$body,summary:$summary,score:$score,private:$private){id mediaId userId}}",Nt="mutation($id:Int){DeleteReview(id:$id){deleted}}",Ft={namespaced:!0,actions:{fetchReview(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(Dt,e,{schema:"review",root:"Review",onError:{redirectOn404:"undefined"===typeof e.redirectOn404||e.redirectOn404}}),a=t.entities;Object(C["e"])(a)})()},fetchReviews(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(k,e,{page:{id:"reviews",key:"reviews",schema:"review"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},save(t,e){return Object(l["a"])(function*(){try{const a=yield Object(d["a"])(Rt,e);return{success:!0,review:a.SaveReview}}catch(t){return Object(Z["a"])(t),{success:!1}}})()},delete(t,e){return Object(l["a"])(function*(){let t=e.id;try{const e=yield Object(d["a"])(Nt,{id:t});return Object(C["d"])("review",t),e.DeleteReview.deleted}catch(a){return Object(Z["a"])(a),!1}})()},rate(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(Mt,e,{schema:"review",root:"RateReview"}),a=t.entities;Object(C["e"])(a)})()}}},Ut=(a("55dd"),"query($page:Int,$perPage:Int = 30,$sort:[RecommendationSort],$onList:Boolean){Page(page:$page,perPage:$perPage){pageInfo{total perPage currentPage lastPage hasNextPage}recommendations(sort:$sort,onList:$onList){id rating userRating media{id title{userPreferred}format type status(version:2)bannerImage isAdult coverImage{large}}mediaRecommendation{id title{userPreferred}format type status(version:2)bannerImage isAdult coverImage{large}}user{id name avatar{large}}}}}"),Vt="mutation($mediaId:Int,$mediaRecommendationId:Int,$rating:RecommendationRating){SaveRecommendation(mediaId:$mediaId,mediaRecommendationId:$mediaRecommendationId,rating:$rating){id rating userRating mediaRecommendation{id title{userPreferred}format type status(version:2)bannerImage coverImage{large}}}}",zt="mutation($id:Int){DeleteRecommendation(id:$id){deleted}}",qt={namespaced:!0,actions:{fetchRecommendations(t,e){return Object(l["a"])(function*(){t.commit;const a=yield Object(d["b"])(Ut,e,{page:{id:`recommendations-${e.sort}-${e.onList}`,key:"recommendations",schema:"recommendation"}}),i=a.entities;return Object(C["e"])(i),Object(C["c"])(i)})()},saveRecommendation(t,e){return Object(l["a"])(function*(){try{const a=yield Object(d["b"])(Vt,e,{schema:"recommendation",root:"SaveRecommendation"});if(!a&&e.id)return void Object(C["d"])("recommendation",e.id);const i=a.entities;if(Object(C["e"])(i),e.new){const t=`mediaRecommendations-${e.mediaId}`;Object(C["e"])({page:{[t]:{pageData:[parseInt(Object.keys(i.recommendation)[0]),...Object(C["a"])("page",t).pageData[1]]}}})}}catch(t){Object(Z["a"])(t)}})()},deleteRecommendation(t,e){return Object(l["a"])(function*(){let t=e.id;try{yield Object(d["b"])(zt,{id:t},{querySchema:"internal"})}catch(a){return void Object(Z["a"])(a)}Object(C["d"])("recommendation",t)})()}}},Bt=a("3835"),Ht=(a("386d"),a("c707")),Gt=a.n(Ht),Wt=a("5a3a"),Yt=a.n(Wt),Kt=a("9b02"),Qt=a.n(Kt),Jt=a("0aa0");function Xt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Zt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(a),!0).forEach(function(e){Object(p["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Xt(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}let te={};const ee=Object(Z["g"])(new Date),ae=ee.year,ie={search:{inputType:"input"},sort:{inputType:"select",hidden:"desktop",getValues:()=>{const t=Qt()(te,"options.titleLanguage","ROMAJI"),e=`TITLE_${t}`.toUpperCase();return{[e]:"Title",POPULARITY_DESC:"Popularity",SCORE_DESC:"Average Score",TRENDING_DESC:"Trending",FAVOURITES_DESC:"Favorites",ID_DESC:"Date Added",START_DATE_DESC:"Release Date"}},format:(t,e)=>{return"SEARCH_MATCH"!==t||e.search?"TRENDING_DESC"===t?{sort:[t,"POPULARITY_DESC"]}:{sort:t}:{sort:"POPULARITY_DESC"}}},genres:{inputType:"select",filterable:!0,multiSelect:!0,type:"array",getValues:function(){var t=Object(l["a"])(function*(){return{groups:{genres:Object(Jt["a"])(),tags:yield Object(Jt["c"])()}}});function e(){return t.apply(this,arguments)}return e}(),format:t=>{const e=[],a=[];t.map(t=>{Object(Jt["d"])(t)?e.push(t):a.push(t)});const i={};return e[0]&&(i.genres=e),a[0]&&(i.tags=a),i}},excludeGenres:{hidden:"all",multiSelect:!0,type:"array",formatLabel:t=>`-${t}`,format:t=>{const e=[],a=[];t.map(t=>{Object(Jt["d"])(t)?e.push(t):a.push(t)});const i={};return e[0]&&(i.excludedGenres=e),a[0]&&(i.excludedTags=a),i}},minimumTagRank:{hidden:"all",formatLabel:t=>`Tags above ${t}%`},year:{inputType:"select",filterable:!0,type:"array",values:Yt()(ae+1,1939,-1),format:t=>({year:`${t}%`})},"source material":{inputType:"select",values:{ORIGINAL:"Original",MANGA:"Manga",LIGHT_NOVEL:"Light Novel",NOVEL:"Novel",ANIME:"Anime",VISUAL_NOVEL:"Visual Novel",VIDEO_GAME:"Video Game",DOUJINSHI:"Doujinshi",OTHER:"Other"},format:t=>({source:t})},"country of origin":{inputType:"select",values:{JP:"Japan",KR:"South Korea",CN:"China",TW:"Taiwan"},format:t=>({countryOfOrigin:t})},"year range":{inputType:"range",min:1970,max:ae+1,hidden:"mobile",format:t=>{const e=t=>Number(`${t}0000`);return{yearGreater:e(Number(t[0])),yearLesser:e(Number(t[1])+1)}}}},se={anime:{season:{inputType:"select",values:{WINTER:"Winter",SPRING:"Spring",SUMMER:"Summer",FALL:"Fall"}},format:{inputType:"select",multiSelect:!0,values:{TV:"TV Show",MOVIE:"Movie",TV_SHORT:"TV Short",SPECIAL:"Special",OVA:"OVA",ONA:"ONA",MUSIC:"Music"}},"airing status":{inputType:"select",values:{RELEASING:"Airing",FINISHED:"Finished",NOT_YET_RELEASED:"Not Yet Aired",CANCELLED:"Cancelled"},format:t=>({status:t})},"streaming on":{inputType:"select",multiSelect:!0,values:{crunchyroll:"Crunchyroll",funimation:"Funimation",hidive:"Hidive",vrv:"VRV",netflix:"Netflix",amazon:"Amazon",hulu:"Hulu",hbomax:"HBO Max",animelab:"AnimeLab",viz:"Viz",adultswim:"Adult Swim",retrocrush:"RetroCrush","midnightpulp.com":"Midnight Pulp","tubitv.com":"Tubi TV","contv.com":"CONtv"},format:t=>({licensedBy:t})},episodes:{inputType:"range",min:0,max:150,hidden:"mobile",format:t=>{return{episodeGreater:Number(t[0])-1,episodeLesser:Number(t[1])+1}}},duration:{inputType:"range",min:0,max:170,hidden:"mobile",format:t=>{return{durationGreater:Number(t[0])-1,durationLesser:Number(t[1])+1}}}},manga:{format:{inputType:"select",multiSelect:!0,values:{MANGA:"Manga",NOVEL:"Light Novel",ONE_SHOT:"One Shot"}},"publishing status":{inputType:"select",values:{RELEASING:"Releasing",FINISHED:"Finished",NOT_YET_RELEASED:"Not Yet Released",HIATUS:"Hiatus",CANCELLED:"Cancelled"},format:t=>({status:t})},"readable on":{inputType:"select",multiSelect:!0,values:{groups:{English:{"mangaplus.shueisha.co.jp":"Manga Plus",viz:"Viz",crunchyroll:"Crunchyroll","manga.club":"Manga.Club",fakku:"Fakku","webtoons.com/en":"Webtoons","lezhin.com/en":"Lezhin","global.toomics.com":"Toomics","webcomicsapp.com":"Web Comics"},Japanese:{"comic-walker":"ComicWalker","comic.pixiv.net":"Pixiv Comic","comico.jp":"Comico",mangabox:"Mangabox","novel.pixiv.net":"Pixiv Novel","piccoma.com":"Piccoma","pocket.shonenmagazine.com":"Pocket Magazine","seiga.nicovideo.jp":"Nico Nico Seiga","shonenjumpplus.com":"Shonen Jump Plus"},Korean:{"lezhin.com/ko":"Lezhin",naver:"Naver","webtoon.daum.net":"Daum Webtoon","toomics.com":"Toomics",bomtoon:"Bomtoon",kakao:"KakaoPage"},Chinese:{Kuaikanmanhua:"KuaiKan Manhua","ac.qq.com":"QQ","dajiaochongmanhua.com":"Dajiaochong Manhua","manhua.weibo.com":"Weibo Manhua","manmanapp.com":"Manman Manhua"}}},format:t=>({licensedBy:t})},chapters:{inputType:"range",min:0,max:500,hidden:"mobile",format:t=>{return{chapterGreater:Number(t[0])-1,chapterLesser:Number(t[1])+1}}},volumes:{inputType:"range",min:0,max:50,hidden:"mobile",format:t=>{return{volumeGreater:Number(t[0])-1,volumeLesser:Number(t[1])+1}}}}},re=t=>{if(!te.id)return{};const e=t.toLowerCase(),a=te.options.displayAdultContent,i=t=>"string"===typeof t&&"true"===t.toLowerCase()||!!t,s={[`hide my ${e}`]:{inputType:"checkbox",hiddenIf:t=>t[`only show my ${e}`],format:t=>({onList:!i(t)})},[`only show my ${e}`]:{inputType:"checkbox",hiddenIf:t=>t[`hide my ${e}`],format:t=>({onList:i(t)})}};return a&&(s["hentai"]={inputType:"checkbox",format:t=>({isAdult:i(t)})}),s},ne={search:ie.search,sort:{hidden:"all",format:(t,e)=>{return"SEARCH_MATCH"!==t||e.search?{sort:t}:{sort:"FAVOURITES_DESC"}}}},oe={anime:["genres","year","season","format","sort","airing status","streaming on","country of origin","source material"],manga:["genres","format","publishing status","country of origin","sort","year","readable on","source material"]};function ce(t,e){const a={},i=Gt()(Object.keys(t),t=>{const a=e.findIndex(e=>e===t);return-1===a?99:a});return i.forEach(e=>{a[e]=t[e]}),a}function le(t,e){return"anime"!==t.toLowerCase()&&"manga"!==t.toLowerCase()?ne:(e&&(te=e),ce(Zt({},ie,{},re(t),{},se[t]),oe[t]))}function de(){return ue.apply(this,arguments)}function ue(){return ue=Object(l["a"])(function*(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anime";const e=Object.entries(ie).map(function(){var t=Object(l["a"])(function*(t){let e=Object(Bt["a"])(t,2),a=e[0],i=e[1];i.getValues&&!i.values&&(ie[a].values=yield i.getValues())});return function(e){return t.apply(this,arguments)}}());return yield Promise.all(e),le(t)}),ue.apply(this,arguments)}var me="query($page:Int = 1 $id:Int $type:MediaType $isAdult:Boolean = false $search:String $format:[MediaFormat]$status:MediaStatus $countryOfOrigin:CountryCode $source:MediaSource $season:MediaSeason $year:String $onList:Boolean $yearLesser:FuzzyDateInt $yearGreater:FuzzyDateInt $episodeLesser:Int $episodeGreater:Int $durationLesser:Int $durationGreater:Int $chapterLesser:Int $chapterGreater:Int $volumeLesser:Int $volumeGreater:Int $licensedBy:[String]$genres:[String]$excludedGenres:[String]$tags:[String]$excludedTags:[String]$minimumTagRank:Int $sort:[MediaSort]=[POPULARITY_DESC,SCORE_DESC]){Page(page:$page,perPage:20){pageInfo{total perPage currentPage lastPage hasNextPage}media(id:$id type:$type season:$season format_in:$format status:$status countryOfOrigin:$countryOfOrigin source:$source search:$search onList:$onList startDate_like:$year startDate_lesser:$yearLesser startDate_greater:$yearGreater episodes_lesser:$episodeLesser episodes_greater:$episodeGreater duration_lesser:$durationLesser duration_greater:$durationGreater chapters_lesser:$chapterLesser chapters_greater:$chapterGreater volumes_lesser:$volumeLesser volumes_greater:$volumeGreater licensedBy_in:$licensedBy genre_in:$genres genre_not_in:$excludedGenres tag_in:$tags tag_not_in:$excludedTags minimumTagRank:$minimumTagRank sort:$sort isAdult:$isAdult){id title{userPreferred}coverImage{extraLarge large color}startDate{year month day}endDate{year month day}bannerImage season description type format status(version:2)episodes duration chapters volumes genres isAdult averageScore popularity nextAiringEpisode{airingAt timeUntilAiring episode}mediaListEntry{id status}studios(isMain:true){edges{isMain node{id name}}}}}}",pe="query($page:Int = 1 $id:Int $search:String $sort:[StaffSort]=[FAVOURITES_DESC]){Page(page:$page,perPage:20){pageInfo{total perPage currentPage lastPage hasNextPage}staff(id:$id search:$search sort:$sort){id name{full}image{large}}}}",ve="query($page:Int = 1 $id:Int $search:String $sort:[CharacterSort]=[FAVOURITES_DESC]){Page(page:$page,perPage:20){pageInfo{total perPage currentPage lastPage hasNextPage}characters(id:$id search:$search sort:$sort){id name{full}image{large}}}}",he="query($page:Int = 1 $id:Int $search:String $sort:[UserSort]=[SEARCH_MATCH]){Page(page:$page,perPage:20){pageInfo{total perPage currentPage lastPage hasNextPage}users(id:$id search:$search sort:$sort){id name avatar{large}}}}",ge="query($page:Int = 1 $id:Int $search:String $sort:[StudioSort]=[SEARCH_MATCH]){Page(page:$page,perPage:20){pageInfo{total perPage currentPage lastPage hasNextPage}studios(id:$id search:$search sort:$sort){id name}}}",fe="query($season:MediaSeason,$seasonYear:Int $nextSeason:MediaSeason,$nextYear:Int){trending:Page(page:1,perPage:6){media(sort:TRENDING_DESC,type:ANIME,isAdult:false){...media}}season:Page(page:1,perPage:6){media(season:$season,seasonYear:$seasonYear,sort:POPULARITY_DESC,type:ANIME,isAdult:false){...media}}nextSeason:Page(page:1,perPage:6){media(season:$nextSeason,seasonYear:$nextYear,sort:POPULARITY_DESC,type:ANIME,isAdult:false){...media}}popular:Page(page:1,perPage:6){media(sort:POPULARITY_DESC,type:ANIME,isAdult:false){...media}}top:Page(page:1,perPage:10){media(sort:SCORE_DESC,type:ANIME,isAdult:false){...media}}}fragment media on Media{id title{userPreferred}coverImage{extraLarge large color}startDate{year month day}endDate{year month day}bannerImage season description type format status(version:2)episodes duration chapters volumes genres isAdult averageScore popularity mediaListEntry{id status}nextAiringEpisode{airingAt timeUntilAiring episode}studios(isMain:true){edges{isMain node{id name}}}}",ye='query{trending:Page(page:1,perPage:6){media(sort:TRENDING_DESC,type:MANGA,isAdult:false){...media}}popular:Page(page:1,perPage:6){media(sort:POPULARITY_DESC,type:MANGA,isAdult:false){...media}}manhwa:Page(page:1,perPage:6){media(sort:POPULARITY_DESC,type:MANGA,countryOfOrigin:"KR",isAdult:false){...media}}top:Page(page:1,perPage:10){media(sort:SCORE_DESC,type:MANGA,isAdult:false){...media}}}fragment media on Media{id title{userPreferred}coverImage{extraLarge large color}startDate{year month day}endDate{year month day}bannerImage season description type format status(version:2)episodes duration chapters volumes genres isAdult averageScore popularity mediaListEntry{id status}}',be="query{staff:Page(page:1,perPage:30){staff(sort:FAVOURITES_DESC){id name{full}image{large}}}}",_e="query{characters:Page(page:1,perPage:30){characters(sort:FAVOURITES_DESC){id name{full}image{large}}}}";function we(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Ce(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?we(Object(a),!0).forEach(function(e){Object(p["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):we(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const Oe={ANIME:{query:me,landingQuery:fe,schema:"media",key:"media"},MANGA:{query:me,landingQuery:ye,schema:"media",key:"media"},STAFF:{query:pe,landingQuery:be,schema:"staff",key:"staff"},CHARACTERS:{query:ve,landingQuery:_e,schema:"character",key:"characters"},USERS:{query:he,schema:"user",key:"users"},STUDIOS:{query:ge,schema:"studio",key:"studios"}};var $e={namespaced:!0,state:{filters:{},activeFilters:{},landing:{},view:"cover"},getters:{filters:t=>t.filters,activeFilters:t=>t.activeFilters,landing:t=>e=>t.landing[e]||{},view:t=>t.view},actions:{fetchSearch(t,e){return Object(l["a"])(function*(){let a=t.state,i=t.commit,s=e.page,r=e.type,n=e.routeQuery,o=e.variableOverrides,c={page:s,type:r};for(const t in a.activeFilters){const e=a.activeFilters[t];if(!e)continue;let i=e=>({[t]:e});const s=a.filters[t];s&&s.format&&(i=s.format),c=Ce({},c,{},i(e,a.activeFilters))}if(c.season&&!c.year){const t=Object(Z["g"])(new Date),e=t.year;i("setActiveFilter",{name:"year",value:e}),n=Ce({year:e},n),c=Ce({},c,{},a.filters.year.format(e,a.activeFilters))}o&&(c=Ce({page:s},o));const l=Oe[r],u=yield Object(d["b"])(l.query,c,{page:{id:`${r}-${JSON.stringify(n)}`,key:l.key,schema:l.schema}}),m=u.entities;return Object(C["e"])(m),Object(C["c"])(m)})()},fetchLanding(t,e){return Object(l["a"])(function*(){let a=t.commit;const i=Oe[e.type].landingQuery,s=yield Object(d["b"])(i,e,{schema:"searchLanding"}),r=s.entities,n=Ce({},r.page.searchLanding);delete r.page,Object(C["e"])(r),a("setLanding",{landing:n,type:e.type})})()},initFilters(t,e){return Object(l["a"])(function*(){let a=t.commit,i=t.rootGetters;const s=le(e.toLowerCase(),i["auth/viewer"]);a("setFilters",s),Object.entries(s).forEach(t=>{let e=Object(Bt["a"])(t,2),i=e[0],s=e[1];a("setActiveFilter",{name:i,value:s.default||null})});const r=yield de(e.toLowerCase());a("setFilters",r)})()},setActiveFilter(t,e){let a=t.commit,i=e.name,s=e.value;a("setActiveFilter",{name:i,value:s})},resetActiveFilters(t){let e=t.commit;e("resetActiveFilters")},setView(t){let e=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a?localStorage.setItem("search-view",a):a=localStorage.getItem("search-view"),e("setView",a)}},mutations:{setLanding(t,e){let a=e.landing,i=e.type;s["default"].set(t.landing,i,a)},setFilters(t,e){t.filters=e},setActiveFilter(t,e){let a=e.name,i=e.value;s["default"].set(t.activeFilters,a,i)},resetActiveFilters(t){t.activeFilters={}},setView(t,e){t.view=e}}},ke="query($search:String,$isAdult:Boolean){anime:Page(perPage:8){pageInfo{total}results:media(type:ANIME,isAdult:$isAdult,search:$search){id title{userPreferred}coverImage{medium}type format bannerImage isLicensed startDate{year}}}manga:Page(perPage:8){pageInfo{total}results:media(type:MANGA,isAdult:$isAdult,search:$search){id title{userPreferred}coverImage{medium}type format bannerImage isLicensed startDate{year}}}characters:Page(perPage:8){pageInfo{total}results:characters(search:$search){id name{full}image{medium}}}staff:Page(perPage:8){pageInfo{total}results:staff(search:$search){id name{full}image{medium}}}studios:Page(perPage:13){pageInfo{total}results:studios(search:$search){id name}}users:Page(perPage:8){results:users(search:$search){id name avatar{medium}}}}";function Se(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Pe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(a),!0).forEach(function(e){Object(p["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Se(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var Ie={namespaced:!0,state:{visible:!1,search:{}},getters:{search:t=>e=>{return t.search[e]||{}},visible:t=>t.visible},actions:{fetchSearch(t,e){return Object(l["a"])(function*(){let a=t.commit;const i=yield Object(d["b"])(ke,e,{schema:"quickSearch"}),s=i.entities,r=Pe({},s.page.quickSearch);delete s.page,Object(C["e"])(s),a("setSearchResults",{results:r,query:e.search})})()},toggleVisibility(t){let e=t.commit,a=t.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!a.visible;try{i?document.body.classList.add("scroll-lock"):document.body.classList.remove("scroll-lock")}catch(s){}e("toggleVisibility",i)}},mutations:{setSearchResults(t,e){let a=e.results,i=e.query;s["default"].set(t.search,i,a)},toggleVisibility(t,e){t.visible=e}}},je="query($mediaId:Int){Media(id:$mediaId){id title{userPreferred}coverImage{large}bannerImage type status(version:2)episodes chapters volumes isFavourite mediaListEntry{id mediaId status score advancedScores progress progressVolumes repeat priority private hiddenFromStatusLists customLists notes updatedAt startedAt{year month day}completedAt{year month day}user{id name}}}}",Ae="mutation($id:Int $mediaId:Int $status:MediaListStatus $score:Float $progress:Int $progressVolumes:Int $repeat:Int $private:Boolean $notes:String $customLists:[String]$hiddenFromStatusLists:Boolean $advancedScores:[Float]$startedAt:FuzzyDateInput $completedAt:FuzzyDateInput){SaveMediaListEntry(id:$id mediaId:$mediaId status:$status score:$score progress:$progress progressVolumes:$progressVolumes repeat:$repeat private:$private notes:$notes customLists:$customLists hiddenFromStatusLists:$hiddenFromStatusLists advancedScores:$advancedScores startedAt:$startedAt completedAt:$completedAt){id mediaId status score advancedScores progress progressVolumes repeat priority private hiddenFromStatusLists customLists notes updatedAt startedAt{year month day}completedAt{year month day}user{id name}media{id title{userPreferred}coverImage{large}type format status episodes volumes chapters averageScore popularity isAdult startDate{year}}}}",Ee="mutation($id:Int){DeleteMediaListEntry(id:$id){deleted}}",xe={namespaced:!0,state:{listEditor:{active:!1}},getters:{editor:t=>t.listEditor},actions:{fetch(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(je,{mediaId:e},{schema:"media",root:"Media"}),a=t.entities;Object(C["e"])(a)})()},save(t,e){return Object(l["a"])(function*(){try{const a=yield Object(d["b"])(Ae,e,{schema:"listEntry",root:"SaveMediaListEntry"}),i=a.entities;return Object(C["e"])(i),!0}catch(t){return Object(Z["a"])(t),!1}})()},delete(t,e){return Object(l["a"])(function*(){let t=e.id;try{yield Object(d["b"])(Ee,{id:t})}catch(a){return Object(Z["a"])(a),!1}return Object(C["d"])("listEntry",t),!0})()},open(t,e){let a=t.commit;a("setListEditor",{active:!0,mediaId:e})},close(t){let e=t.commit;e("setListEditor",{active:!1})}},mutations:{setListEditor(t,e){t.listEditor=e}}},Te="query($id:Int){Activity(id:$id){... on ListActivity{id type replyCount status progress isLocked isSubscribed isLiked likeCount createdAt user{id name donatorTier donatorBadge avatar{large}}media{id type status(version:2)isAdult title{userPreferred}bannerImage coverImage{large}}}... on TextActivity{id type text replyCount isLocked isSubscribed isLiked likeCount createdAt user{id name donatorTier donatorBadge moderatorStatus avatar{large}}}... on MessageActivity{id type message replyCount isLocked isPrivate isSubscribed isLiked likeCount createdAt user:recipient{id name avatar{large}}messenger{id name donatorTier donatorBadge moderatorStatus avatar{large}}}}}",Le="query($id:Int,$page:Int){Page(page:$page,perPage:25){pageInfo{total perPage currentPage lastPage hasNextPage}activityReplies(activityId:$id){id userId text createdAt activityId isLiked likeCount user{id name moderatorStatus avatar{large}}}}}";const De="mutation($id:Int,$text:String,$isLocked:Boolean){SaveTextActivity(id:$id,text:$text,locked:$isLocked){id type text replyCount isLocked likeCount createdAt user{id name avatar{large}}}}",Me="mutation($id:Int,$recipientId:Int,$text:String,$isPrivate:Boolean,$isLocked:Boolean,$asMod:Boolean){SaveMessageActivity(id:$id,recipientId:$recipientId,message:$text,private:$isPrivate,locked:$isLocked,asMod:$asMod){id type message replyCount isLocked likeCount createdAt messenger{id name avatar{large}}}}",Re="mutation($id:Int,$isLocked:Boolean){SaveListActivity(id:$id,locked:$isLocked){id isLocked}}",Ne="mutation($id:Int,$activityId:Int,$text:String,$asMod:Boolean){SaveActivityReply(id:$id,activityId:$activityId,text:$text,asMod:$asMod){id activityId text likeCount createdAt user{id name avatar{large}}}}",Fe="mutation($id:Int){DeleteActivity(id:$id){deleted}}",Ue="mutation($id:Int){DeleteActivityReply(id:$id){deleted}}",Ve="mutation($id:Int,$subscribe:Boolean){ToggleActivitySubscription(activityId:$id,subscribe:$subscribe){... on ListActivity{id isSubscribed}... on TextActivity{id isSubscribed}... on MessageActivity{id isSubscribed}}}";var ze={namespaced:!0,actions:{fetchActivity(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(Te,e,{schema:"activity",root:"Activity"}),a=t.entities;Object(C["e"])(a)})()},fetchReplies(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(Le,e,{page:{id:`activityReplies-${e.id}`,key:"activityReplies",schema:"activityReply"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},updateEditor(t,e){return Object(l["a"])(function*(){let t=e.id,a=e.type,i=e.text,s=e.user;const r="reply"===a?"activityReply":"activity",n=`editor-${a}-${t}`;Object(C["e"])({[r]:{[n]:{id:n,type:"TEXT",text:i,user:s}}})})()},saveActivity(t,e){return Object(l["a"])(function*(){let a=t.dispatch;const i={status:{mutation:De,root:"SaveTextActivity",schema:"activity"},message:{mutation:Me,root:"SaveMessageActivity",schema:"activity"},list:{mutation:Re,root:"SaveListActivity",schema:"activity"},reply:{mutation:Ne,root:"SaveActivityReply",schema:"activityReply"}};try{const t=i[e.type],r=t.mutation,n=t.root,o=t.schema,c=yield Object(d["b"])(r,e,{root:n,schema:o}),l=c.entities;return Object(C["e"])(l),"reply"===e.type&&a("fetchActivity",{id:e.activityId}),!0}catch(s){return Object(Z["a"])(s),!1}})()},toggleSubscription(t,e){return Object(l["a"])(function*(){try{const a=yield Object(d["b"])(Ve,e,{schema:"activity",root:"ToggleActivitySubscription"}),i=a.entities;Object(C["e"])(i)}catch(t){Object(Z["a"])(t)}})()},deleteActivity(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(Fe,{id:e},{root:"DeleteActivity"}),a=t.deleted;a&&(Object(C["d"])("activity",e),X.a.success("Activity Deleted"))})()},deleteActivityReply(t,e){return Object(l["a"])(function*(){const t=yield Object(d["b"])(Ue,{id:e},{root:"DeleteActivityReply"}),a=t.deleted;a&&(Object(C["d"])("activityReply",e),X.a.success("Activity Reply Deleted"))})()}}},qe="query($page:Int,$types:[NotificationType]){Page(page:$page){pageInfo{total perPage currentPage lastPage hasNextPage}notifications(type_in:$types,resetNotificationCount:true){... on AiringNotification{id type episode contexts media{id type bannerImage title{userPreferred}coverImage{large}}createdAt}... on RelatedMediaAdditionNotification{id type context media{id type bannerImage title{userPreferred}coverImage{large}}createdAt}... on FollowingNotification{id type context user{id name avatar{large}}createdAt}... on ActivityMessageNotification{id type context activityId user{id name avatar{large}}createdAt}... on ActivityMentionNotification{id type context activityId user{id name avatar{large}}createdAt}... on ActivityReplyNotification{id type context activityId user{id name avatar{large}}createdAt}... on ActivityReplySubscribedNotification{id type context activityId user{id name avatar{large}}createdAt}... on ActivityLikeNotification{id type context activityId user{id name avatar{large}}createdAt}... on ActivityReplyLikeNotification{id type context activityId user{id name avatar{large}}createdAt}... on ThreadCommentMentionNotification{id type context commentId thread{id title}user{id name avatar{large}}createdAt}... on ThreadCommentReplyNotification{id type context commentId thread{id title}user{id name avatar{large}}createdAt}... on ThreadCommentSubscribedNotification{id type context commentId thread{id title}user{id name avatar{large}}createdAt}... on ThreadCommentLikeNotification{id type context commentId thread{id title}user{id name avatar{large}}createdAt}... on ThreadLikeNotification{id type context thread{id title}user{id name avatar{large}}createdAt}}}}";const Be={airing:["AIRING"],activity:["ACTIVITY_MESSAGE","ACTIVITY_MENTION","ACTIVITY_REPLY","ACTIVITY_LIKE","ACTIVITY_REPLY_LIKE"],forum:["THREAD_COMMENT_REPLY","THREAD_SUBSCRIBED","THREAD_COMMENT_MENTION","THREAD_LIKE","THREAD_COMMENT_LIKE"],follows:["FOLLOWING"]};var He={namespaced:!0,state:{unread:[]},getters:{isRead:t=>e=>!t.unread.includes(e),unreadCount:t=>t.unread.length},actions:{fetchNotifications(t,e){return Object(l["a"])(function*(){"all"!==e.feed&&(e.types=Be[e.feed]);const t=yield Object(d["b"])(qe,e,{page:{id:`notifications-${e.feed}`,key:"notifications",schema:"notification"}}),a=t.entities;return Object(C["e"])(a),Object(C["c"])(a)})()},markRead(t,e){let a=t.commit;a("markRead",e)},addUnread(t,e){let a=t.commit;a("addUnread",e)},clearUnread(t){let e=t.commit;e("clearUnread")}},mutations:{markRead(t,e){t.unread=t.unread.filter(t=>t!==e)},addUnread(t,e){t.unread.push(e)},clearUnread(t){t.unread=[]}}},Ge="query($page:Int,$id:Int,$type:LikeableType){Page(page:$page,perPage:5){pageInfo{total perPage currentPage lastPage hasNextPage}likes(likeableId:$id,type:$type){id name avatar{large}}}}",We="mutation($id:Int,$type:LikeableType){ToggleLike:ToggleLikeV2(id:$id,type:$type){... on ListActivity{id likeCount isLiked}... on MessageActivity{id likeCount isLiked}... on TextActivity{id likeCount isLiked}... on ActivityReply{id likeCount isLiked}... on Thread{id likeCount isLiked}... on ThreadComment{id likeCount isLiked}}}";const Ye={ACTIVITY:"activity",ACTIVITY_REPLY:"activityReply",THREAD:"thread",THREAD_COMMENT:"threadComment"};var Ke={namespaced:!0,actions:{fetchLikes(t,e){return Object(l["a"])(function*(){const t=e.id,a=e.type;e.type=a.toUpperCase();const i=yield Object(d["b"])(Ge,e,{page:{id:`likes-${a}-${t}`,key:"likes",schema:"user"}}),s=i.entities;Object(C["e"])(s)})()},toggleLike(t,e){return Object(l["a"])(function*(){e.type=e.type.toUpperCase();try{const a=yield Object(d["b"])(We,e,{schema:Ye[e.type],root:"ToggleLike",onError:{redirectOn404:!1}}),i=a.entities;Object(C["e"])(i)}catch(t){Object(Z["a"])(t)}})()}}},Qe="query media($id:Int){Media(id:$id,isAdult:false){id title{userPreferred}coverImage{large}type format status(version:2)averageScore popularity genres season bannerImage startDate{year}}}",Je={namespaced:!0,state:{notFound:{}},actions:{fetchMedia(t,e){return Object(l["a"])(function*(){let a=t.state,i=t.commit;if(!a.notFound[e])try{const t=yield Object(d["b"])(Qe,{id:e},{schema:"media",root:"Media",onError:{redirectOn404:!1}}),a=t.entities;Object(C["e"])(a)}catch(s){i("setNotFound",e)}})()}},mutations:{setNotFound(t,e){s["default"].set(t.notFound,e,!0)}}};s["default"].use(r["a"]);const Xe=new r["a"].Store({strict:!1,state:{loading:!0,navTransparency:!1,displayAds:!0,markdownEditorActive:!1,tags:null,scrollBarWidth:20,adCount:0,screen:{width:window.innerWidth,height:window.innerHeight,isDesktop:window.innerWidth>1040,isMobile:window.innerWidth<760},entities:{activity:{},activityReply:{},character:{},listEntry:{},listSection:{},media:{},mediaList:{},notification:{},page:{},review:{},staff:{},studio:{},recommendation:{},thread:{},threadComment:{},user:{},userName:{}}},getters:c,actions:m,mutations:_,modules:{auth:w["a"],home:E,media:Q,user:Lt,review:Ft,recommendation:qt,search:$e,quickSearch:Ie,medialistEditor:xe,activity:ze,notification:He,like:Ke,embed:Je}});a.e("staff").then(a.bind(null,"a5b0")).then(t=>Xe.registerModule("staff",t.default)),a.e("staff").then(a.bind(null,"a3a5")).then(t=>Xe.registerModule("character",t.default)),a.e("staff").then(a.bind(null,"2ccf")).then(t=>Xe.registerModule("studio",t.default)),a.e("lists").then(a.bind(null,"1e5a")).then(t=>Xe.registerModule("medialist",t.default)),a.e("forum").then(a.bind(null,"04ee")).then(t=>Xe.registerModule("forumFeed",t.default)),a.e("forum").then(a.bind(null,"2256")).then(t=>Xe.registerModule("forumThread",t.default)),Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"1799")).then(t=>Xe.registerModule("settings",t.default)),a.e("stats").then(a.bind(null,"4742")).then(t=>Xe.registerModule("siteStats",t.default)),Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"7d9c")).then(t=>Xe.registerModule("submissionDashboard",t.default)),Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"4674")).then(t=>Xe.registerModule("mediaSubmission",t.default)),Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"82a6")).then(t=>Xe.registerModule("characterSubmission",t.default)),Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"f645")).then(t=>Xe.registerModule("staffSubmission",t.default)),Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"e71f")).then(t=>Xe.registerModule("studioSubmission",t.default)),Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"c7f1")).then(t=>Xe.registerModule("submissionSearchBox",t.default)),Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"2533")).then(t=>Xe.registerModule("revisionHistory",t.default));e["a"]=Xe},4428:function(t,e,a){},"44bb":function(t,e,a){},4523:function(t,e,a){"use strict";var i=a("7134"),s=a.n(i);s.a},"45eb":function(t,e,a){"use strict";(function(t){a("ac6a"),a("a481");var i=a("2b0e"),s=a("0e54"),r=a.n(s),n=a("c0c4"),o=a.n(n),c=a("d230");r.a.setOptions({gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1});const l=new r.a.Renderer,d=new r.a.Lexer;l.link=((t,e,a)=>`<a target="_blank" rel="noopener noreferrer" href="${t}" title="${e}">${a}</a>`),d.rules.heading=/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,e["a"]={props:{markdown:{type:String,required:!0}},data(){return{uniqueId:null,embeds:[],domainBlackList:[/(doko\.moe)/gi,/(nyaa\.si)/gi,/(horriblesubs\.info)/gi,/(kissanime)/gi,/(9anime)/gi]}},beforeMount(){this.uniqueId=Math.random()},mounted(){"undefined"===typeof window.showSpoiler&&(window.showSpoiler=this.showSpoiler,window.hideSpoiler=this.hideSpoiler),this.initializeYoutubeVideos(),this.initializeMediaEmbeds()},updated(){this.initializeYoutubeVideos(),this.initializeMediaEmbeds()},methods:{showSpoiler(t){t.classList.contains("spoiler-closed")||t.classList.add("spoiler-visible"),t.classList.remove("spoiler-closed")},hideSpoiler(t){t.parentElement.classList.add("spoiler-closed"),t.parentElement.classList.remove("spoiler-visible")},initializeYoutubeVideos(){this.$nextTick(()=>{let t=document.getElementById(this.uniqueId).getElementsByClassName("youtube");for(let e of t)this.initializeYoutubeVideo(e)})},initializeYoutubeVideo(t){const e=t.id;t.onclick=this.playYoutubeVideo,t.style.cssText=`\n\t\t\t\tbackground-image: url(https://i.ytimg.com/vi/${e}/hqdefault.jpg);\n\t\t\t\tbackground-position: center center;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-size: cover;\n\t\t\t`},playYoutubeVideo(t){const e=t.target.parentNode,a=e.id,i=`https://www.youtube.com/embed/${a}?autoplay=1&autohide=1`;let s=document.createElement("iframe");e.replaceChild(s,t.target),s=document.getElementById(a).getElementsByTagName("iframe")[0],s.setAttribute("frameborder","0"),s.setAttribute("src",i)},initializeMediaEmbeds(){this.$nextTick(()=>{let t=document.getElementById(this.uniqueId).getElementsByClassName("media-embed");for(let e of t)this.initializeMediaEmbed(e)})},initializeMediaEmbed(t){i["default"].prototype.$store=this.$store;const e=i["default"].extend(c["a"]),a=new e({propsData:{id:parseInt(t.dataset.mediaId),type:t.dataset.mediaType}}).$mount(t);this.embeds.push(a)},sanitize(t){const e=o()(window);return e.sanitize(t,{ALLOWED_TAGS:["a","b","blockquote","br","center","del","div","em","font","h1","h2","h3","h4","h5","hr","i","img","li","ol","p","pre","code","span","strike","strong","ul"],ALLOWED_ATTR:["align","height","href","src","target","width","rel"]})}},computed:{markdownHtml(){let t=this.markdown;return t=t.replace(/(http)(:([\/|.|\w|\s|-])*\.(?:jpg|.jpeg|gif|png|mp4|webm))/gi,"$1s$2"),t=t.replace(/img\s?(\d+%?)?\s?\((.[\S]+)\)/gi,"<img width='$1' src='$2'>"),t=t.replace(/(^|>| )@([A-Za-z0-9]+)/gm,"$1<a target='_blank' href='/user/$2'>@$2</a>"),t=t.replace(/youtube\s?\([^]*?([-_0-9A-Za-z]{10,15})[^]*?\)/gi,"youtube ($1)"),t=t.replace(/webm\s?\(h?([A-Za-z0-9-._~:\/?#\[\]@!$&()*+,;=%]+)\)/gi,"webmv(`$1`)"),t=t.replace(/~{3}([^]*?)~{3}/gm,"+++$1+++"),t=t.replace(/~!([^]*?)!~/gm,'<div rel="spoiler">$1</div>'),t=this.sanitize(r()(t,{renderer:l,lexer:d})),t=t.replace(/\+{3}([^]*?)\+{3}/gm,"<center>$1</center>"),t=t.replace(/<div rel="spoiler">([\s\S]*?)<\/div>/gm,"<p><span onclick='showSpoiler(this)' class='markdown-spoiler'><i class='hide-spoiler el-icon-circle-close' onclick='hideSpoiler(this)'></i><span>$1</span></span></p>"),t=t.replace(/youtube\s?\(([-_0-9A-Za-z]{10,15})\)/gi,"<span class='youtube' id='$1' style='width: 100%; height: 200px; max-width: 500px;'><span class='play'></span></span>"),t=t.replace(/webmv\s?\(<code>([A-Za-z0-9-._~:\/?#\[\]@!$&()*+,;=%]+)<\/code>\)/gi,"<video muted loop "+this.videoAutoPlay+" controls><source src='h$1' type='video/webm'>Your browser does not support the video tag.</video>"),t=t.replace(/(?:<a href="https?:\/\/anilist.co\/(anime|manga)\/)([0-9]+).*?>(?:https?:\/\/anilist.co\/(?:anime|manga)\/[0-9]+).*?<\/a>/gm,'<span class="media-embed" data-media-type="$1" data-media-id="$2"></span>'),this.domainBlackList.forEach(e=>{t=t.replace(e,"")}),t},markdownPlainText(){let t=this.markdown;return this.domainBlackList.forEach(e=>{t=t.replace(e,"")}),t.replace(/(<([^>]+)>)/gi,"").replace(/(~![\s\S]*?!~)/gm,"").replace(/(img|webm|youtube)/gm,"").replace(/([^a-zA-Z0-9?=:+.\/ \n])/gm,"")},isBrowser(){return t.browser},videoAutoPlay(){return this.$store.state.screen.isDesktop?"autoplay":""}},destroyed(){this.embeds.forEach(t=>t.$destroy())}}}).call(this,a("f28c"))},4637:function(t,e,a){"use strict";var i=a("21e6"),s=a.n(i);s.a},4727:function(t,e,a){},"47a7":function(t,e,a){"use strict";var i=a("25b2"),s=a.n(i);s.a},"47c5":function(t,e,a){"use strict";a.r(e),a.d(e,"aliases",function(){return y});a("ac6a");var i=a("ade3"),s=a("cfda"),r=a("4260"),n=a("0aa0");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const l=new Date,d=Object(r["g"])(new Date(l.setMonth(l.getMonth()))),u=d.season,m=d.year,p=Object(r["g"])(new Date(l.setMonth(l.getMonth()+3))),v=p.season,h=p.year,g={name:"Search",path:"/search/:type(anime|manga|characters|staff|users|studios)",component:s["a"],props:t=>({type:(t.params.type||"ANIME").toUpperCase()})},f=t=>`Discover the top-rated ${t} of all time!\nThese must-watch classics are the greatest, most influential, and most highly-regarded ${t} in history.`,y=c({trending:{title:"Trending $type",query:{sort:"TRENDING_DESC"},description:"Find out what trending $type everyone on AniList has been $actioning! \n\t\tKeep up with the buzz and join the conversation."},popular:{title:"All-Time Popular $type",query:{sort:"POPULARITY_DESC"},description:"Discover the most popular $type of all time!\n\t\tFind out what you've been missing among the most well-known and historical $type ever!"},new:{title:"New $type",query:{sort:"ID_DESC"},description:"Stay ahead of the curve with the list of newly added $type to AniList.\n\t\tFind new and exciting $type to $action just as they release!"},"top-100":{title:"Top 100 $type",query:{sort:"SCORE_DESC"},description:f("$type")},"this-season":{title:`${u.toLowerCase()} ${m} anime`,query:{season:u,year:m},description:`Keep up with the buzz and find out what everyone's reading today.\n\t\tFind out about the seasonal anime releasing ${u.toLowerCase()} ${m}.`},"next-season":{title:`Anime next season - Airing ${v.toLowerCase()} ${h}`,query:{season:v,year:h},description:`Plan for the upcoming season with AniList's ${u.toLowerCase()} ${m} seasonal line-up!\n\t\tStay ahead of the curve and prepare your watch list.`},"top-tv":{title:"Top TV anime",query:{format:"TV",sort:"SCORE_DESC"},description:f("TV anime")},"top-tv-shorts":{title:"Top Short TV anime",query:{format:"TV_SHORT",sort:"SCORE_DESC"},description:f("TV shorts")},"top-movies":{title:"Top anime movies",query:{format:"MOVIE",sort:"SCORE_DESC"},description:f("anime movies")},"top-ova":{title:"Top OVA anime",query:{format:"OVA",sort:"SCORE_DESC"},description:f("anime OVAs")},"top-ona":{title:"Top ONA anime",query:{format:"ONA",sort:"SCORE_DESC"},description:f("anime ONAs")},"top-manhwa":{title:"Top manhwa",query:{"country of origin":"KR",sort:"SCORE_DESC"},description:f("manhwa")},"top-manhua":{title:"Top manhua",query:{"country of origin":"CN",sort:"SCORE_DESC"},description:f("manhua")},"top-light-novels":{title:"Top light novels",query:{format:"NOVEL",sort:"SCORE_DESC"},description:f("light novels")},favorites:{title:"Most favorited $type",query:{sort:"FAVOURITES_DESC"},description:"Discover the most favorited $type of all time!\n\t\tFind out what you've been missing among the most loved $type ever!"}},b());function b(){const t=Object(n["a"])(),e={};return t.forEach(t=>{e[t]={title:`Top ${t} $type`,query:{genres:[t],sort:"SCORE_DESC"},description:f(`${t} $type`)}}),e}function _(){return Object.keys(y).map(t=>c({},g,{name:`searchAlias-${t}`,path:`${g.path}/${t}`,props:t=>({type:(t.params.type||"ANIME").toUpperCase(),isRouteAlias:!0})}))}const w=[{path:"/search",redirect:"/search/anime"},g,..._()];e["default"]=w},"48d7":function(t,e,a){},"49c6":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.comment.id?a("div",{staticClass:"comment-wrap",class:t.depthClass},[a("div",{staticClass:"comment"},[t.user.id?a("div",{staticClass:"header"},[a("router-link",{staticClass:"user",attrs:{to:t.formatUserUrl(t.user,!0)}},[a("div",{staticClass:"avatar",style:t.avatar}),t._v("\n\t\t\t\t"+t._s(t.user.name)+"\n\t\t\t")]),t._v(" "),a("timeago",{staticClass:"time",attrs:{since:1e3*t.comment.createdAt,"auto-update":60}}),t._v(" "),t.isDataMod(t.user)?a("div",{staticClass:"mod-badge"},[t._v(t._s(t.user.moderatorStatus))]):t._e(),t._v(" "),t.user.donatorTier?a("div",{staticClass:"mod-badge donator-badge",class:{rainbow:t.user.donatorTier>4}},[t._v("\n\t\t\t\t"+t._s(t.user.donatorTier>3?t.user.donatorBadge:"Donator")+"\n\t\t\t")]):t._e(),t._v(" "),a("div",{staticClass:"actions"},[t.isMod()||t.auth.id==t.user.id?a("span",{staticClass:"edit hidden",on:{click:t.edit}},[t._v("Edit")]):t._e(),t._v(" "),a("router-link",{staticClass:"hidden",attrs:{to:{name:"ForumThreadComment",params:{id:t.comment.threadId,commentId:t.comment.id}}}},[a("icon",{staticClass:"icon",attrs:{icon:"link"}})],1),t._v(" "),t.auth&&t.auth.id!=t.user.id&&!t.isMod()?a("span",{staticClass:"edit hidden",on:{click:t.reportComment}},[a("icon",{staticClass:"icon",attrs:{icon:"exclamation"}})],1):t.isMod()?a("span",{staticClass:"edit hidden",on:{click:t.saveAsModNote}},[a("icon",{staticClass:"icon",attrs:{icon:"sticky-note"}})],1):t._e(),t._v(" "),a("likes",{attrs:{likeable:t.comment,type:"thread_comment"}},[a("icon",{staticClass:"icon like",attrs:{icon:"heart"}})],1),t._v(" "),a("icon",{staticClass:"icon reply",attrs:{icon:"reply"},on:{click:t.reply}})],1)],1):t._e(),t._v(" "),a("markdown",{attrs:{markdown:t.comment.comment}})],1),t._v(" "),null===t.comment.childComments||t.hideChildren?t._e():a("div",{staticClass:"children"},t._l(t.comment.childComments,function(e){return a("forum-comment",{key:e,attrs:{id:e,depth:t.depth+1}})}),1)]):t._e()},s=[],r=a("1da1"),n=a("a189"),o=a("2840"),c=a("e6e0"),l={name:"forumComment",components:{Likes:o["a"],Markdown:c["a"]},mixins:[n["a"]],props:["id","depth","hideChildren"],computed:{comment(){return this.$store.getters.entity("threadComment",this.id)},user(){return this.$store.getters.entity("user",this.comment.user)},avatar(){return{"background-image":`url(${this.user.avatar.large})`}},depthClass(){const t=[`depth-${this.depth}`,this.depth%2==0?"even":"odd"];return 0!=this.depth&&t.push("child"),null==this.comment.childComments&&t.push("leaf"),t}},methods:{reply(){this.$store.dispatch("forumThread/setCommentEditor",{active:!0,comment:{parentCommentId:this.comment.id,threadId:this.comment.threadId,comment:""}})},edit(){this.$store.dispatch("forumThread/setCommentEditor",{active:!0,comment:{id:this.comment.id,threadId:this.comment.threadId,comment:this.comment.comment}})},reportComment(){this.$prompt("Reason for report","Report Forum Comment",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(t=>{this.$store.dispatch("user/createReport",{userId:this.user.id,reason:`${t.value}\n\t\t\t\t\tParent Url: https://anilist.co/forum/thread/${this.comment.threadId}/comment/${this.comment.id}\n\t\t\t\t\tComment Text: ${this.comment.comment}`})})},saveAsModNote(){var t=this;return Object(r["a"])(function*(){const e=`https://anilist.co/forum/thread/${t.comment.threadId}`,a=`${e}/comment/${t.comment.id}`,i=yield t.$store.dispatch("user/saveModNote",{userId:t.user.id,note:`[Thread](${e}) Comment: \n ${a} \n ${t.comment.comment}`});i&&t.$notify({type:"success",message:"Note created"})})()}}},d=l,u=(a("3f21"),a("2877")),m=Object(u["a"])(d,i,s,!1,null,"768af104",null);e["a"]=m.exports},"4aaa":function(t,e,a){},"4abc":function(t,e,a){},"4cb2":function(t,e,a){"use strict";a("ac6a");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"toolTip",staticClass:"tooltip",class:{visible:t.visible&&t.animateOpacity,"animate-position":t.animatePosition},style:t.position},[t.hasTitle?a("div",{staticClass:"title"},[t._t("title")],2):t._e(),t._v(" "),t.hasContent?a("div",{staticClass:"content"},[t._t("content")],2):t._e()])},r=[],n=a("1da1"),o=a("4360"),c={props:["visible","element"],data(){return{height:30,width:100,elementPosition:null,animatePosition:!1,animateOpacity:!1}},computed:{position(){if(!this.elementPosition)return;const t=(this.elementPosition.width-this.width)/2,e=Math.floor(this.elementPosition.top-this.height+window.scrollY)+"px",a=Math.floor(this.elementPosition.left+t)+"px";return{transform:`translate(${a}, ${e})`}},hasTitle(){return!!this.$slots.title},hasContent(){return!!this.$slots.content},screenWidth(){return o["a"].state.screen.width}},methods:{getSize(){var t=this;return Object(n["a"])(function*(){if(!t.$refs.toolTip)return;yield t.$nextTick();const e=t.$refs.toolTip,a=e.clientWidth,i=e.clientHeight;t.height=i,t.width=a})()},getPosition(){this.element&&(this.elementPosition=this.element.getBoundingClientRect())}},mounted(){setTimeout(()=>{this.animatePosition=!0},360)},watch:{element:{immediate:!0,handler(){this.getPosition(),this.getSize()}},screenWidth:{immediate:!0,handler(){this.getPosition()}},visible:{immediate:!0,handler(t){var e=this;return Object(n["a"])(function*(){yield e.$nextTick(),t&&(e.animateOpacity=!0),e.getPosition(),e.getSize()})()}}}},l=c,d=(a("c01a"),a("2877")),u=Object(d["a"])(l,s,r,!1,null,"9401173e",null),m=u.exports;e["a"]=i["default"].component("ToolTip",{props:["manual","visible","parent"],data(){return{_instance:null,height:20,width:30,isMounted:!1}},render(t){return this.manual?null:this.$slots.default},computed:{element(){return this.parent?this.parent:null}},methods:{mountToolTip(){const t=i["default"].extend({render:t=>{const e=e=>{return t("template",{slot:e},this.$slots[e])},a=Object.keys(this.$slots).map(e);return t(m,{props:{element:this.element,visible:this.visible}},a)}});this._instance=new t,this._instance.$mount(),document.getElementById("app").appendChild(this._instance.$el)}},watch:{visible:{immediate:!0,handler(t){t&&!this.isMounted&&(this.isMounted=!0,this.mountToolTip())}}},destroyed(){this._instance&&(this._instance.$el.remove(),this._instance.$destroy())}})},"4e30":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activity-edit"},[a("markdown-editor",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],attrs:{markdown:t.markdown,input:t.input()},on:{"update:markdown":function(e){t.markdown=e}}}),t._v(" "),a("el-input",{ref:"input",staticClass:"input",attrs:{type:"textarea",autosize:"",placeholder:t.placeholder},on:{focus:function(e){t.active=!0}},model:{value:t.markdown,callback:function(e){t.markdown=e},expression:"markdown"}}),t._v(" "),t.markdown&&""!=t.markdown?[a("h2",{staticClass:"section-header"},[t._v("Preview:")]),t._v(" "),"reply"==t.type?a("activity-reply",{staticClass:"preview",attrs:{id:t.reference}}):a("activity",{staticClass:"preview",attrs:{id:t.reference,"hide-reply":!0}})]:t._e(),t._v(" "),t.active?a("div",{staticClass:"rules-notice"},[a("a",{attrs:{href:"/forum/thread/14",target:"_blank"}},[t._v("\n\t\t\tPlease read the site guidelines before posting\n\t\t")])]):t._e(),t._v(" "),t.active?a("div",{staticClass:"actions"},[a("div",{staticClass:"button cancel",on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),t._v(" "),a("div",{staticClass:"button save",on:{click:function(e){return t.save()}}},[t._v(t._s("message"===t.type?"Send":"Publish"))]),t._v(" "),"message"!==t.type||t.id?"reply"===t.type&&!t.id&&t.isMod()?a("div",{staticClass:"button save",on:{click:function(e){return t.saveMod()}}},[t._v("\n\t\t\tSend as ModChan\n\t\t")]):t._e():[a("el-tooltip",{attrs:{content:"Only visible to you, the recipient, and community moderators",placement:"top-start"}},[a("div",{staticClass:"button save",on:{click:function(e){return t.savePrivate()}}},[t._v("Send Private")])]),t._v(" "),t.isMod()?[a("div",{staticClass:"button save",on:{click:function(e){return t.saveMod()}}},[t._v("Send as ModChan")]),t._v(" "),a("div",{staticClass:"button save",on:{click:function(e){return t.saveMod(!0)}}},[t._v("Send as ModChan Private")])]:t._e()]],2):t._e()],2)},s=[],r=(a("ac6a"),a("ade3")),n=a("1da1"),o=a("f3ad"),c=a.n(o),l=a("a189"),d=a("52d5"),u=a("dc26");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var v={props:["type","activityText","id","createId","parentId","recipientId"],components:{ElInput:c.a,MarkdownEditor:d["a"],ActivityReply:u["a"]},mixins:[l["a"]],data(){return{editorActive:!1,saving:!1}},computed:{markdown:{get(){const t=this.$store.getters.entity("reply"===this.type?"activityReply":"activity",this.reference);return t.message||t.text||this.activityText||""},set(t){this.$store.dispatch("activity/updateEditor",{text:t,user:this.auth.id,type:this.type,id:this.id||this.createId})}},placeholder(){return`Write a ${this.type}...`},reference(){return`editor-${this.type}-${this.id||this.createId}`},active:{get(){return this.editorActive},set(t){return this.$store.commit("setMarkdownEditorState",t),this.editorActive=t}}},methods:{input(){if(this.$refs.input&&this.$refs.input.$el)return this.$refs.input.$el.children[0]},save(){var t=arguments,e=this;return Object(n["a"])(function*(){let a=t.length>0&&void 0!==t[0]?t[0]:{};if(e.saving)return;e.saving=!0;const i=p({text:e.markdown,type:e.type},a);e.id?i["id"]=e.id:"message"===e.type?i["recipientId"]=e.recipientId:"reply"===e.type&&(i["activityId"]=e.parentId);const s=yield e.$store.dispatch("activity/saveActivity",i);e.saving=!1,s&&(e.active=!1,e.markdown="",e.$emit("refresh"))})()},savePrivate(){this.save({isPrivate:!0})},saveMod(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.save({isPrivate:t,asMod:!0})},cancel(){this.active=!1,this.markdown="",this.$emit("close")}},beforeCreate(){this.$options.components.Activity=a("d10a").default},created(){this.activityText&&(this.active=!0,this.markdown=this.activityText)}},h=v,g=(a("ffde"),a("47a7"),a("2877")),f=Object(g["a"])(h,i,s,!1,null,"93c5960c",null);e["default"]=f.exports},"4e48":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"studio-card",class:{loading:t.loading},attrs:{to:t.studioLink}},[!t.loading&&t.studio.name?a("div",{staticClass:"name"},[t._v("\n\t\t"+t._s(t.studio.name)+"\n\t")]):t._e()])},s=[],r={props:["entityId"],computed:{studio(){return this.$store.getters.entity("studio",this.entityId)},loading(){return"loading"===this.entityId},studioLink(){return this.studio.name?{name:"Studio",params:this.formatStudioUrl(this.studio)}:{}}}},n=r,o=(a("ff48"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"96cc2c10",null);e["a"]=c.exports},"4f94":function(t,e,a){"use strict";a.r(e);var i=a("1da1"),s=(a("28a5"),a("5e23")),r=a("d619"),n=(a("ac6a"),a("ade3"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const l=s["b"].Entity,d={page:(t,e)=>{return new l("page",t,e)},activity:new l("activity"),activityReply:new l("activityReply"),character:new l("character"),listEntry:new l("listEntry"),media:new l("media"),listEntryMedia:new l("media",{},{processStrategy:(t,e)=>{return t.mediaListEntry?c({},t):c({},t,{mediaListEntry:e.id})}}),notification:new l("notification"),review:new l("review"),staff:new l("staff"),studio:new l("studio"),recommendation:new l("recommendation"),thread:new l("thread"),threadComment:new l("threadComment"),user:new l("user",{},{processStrategy:u})};function u(t){return t.favourites&&(t.favourites.id=t.id),c({},t,{nameId:{value:t.name}})}const m=(t,e)=>{const a=e?{pageData:[e]}:{};return new l("page",a,{idAttribute:(e,a)=>{let i=a.id;return`${t}-${i}`},processStrategy:t=>({pageInfo:t.pageInfo,pageData:t.edges||t.nodes})})};d.activity.define({user:d.user,recipient:d.user,messenger:d.user,media:d.media,replies:[d.activityReply]}),d.activityReply.define({user:d.user}),d.character.define({media:m("characterMediaRoles",{node:d.media,voiceActors:[d.staff]})}),d.studio.define({media:m("studioMedia",{node:d.media})}),d.listEntry.define({media:d.listEntryMedia,user:d.user});const p={mediaListEntry:d.listEntry,characters:m("mediaCharacters",{node:d.character,voiceActors:[d.staff]}),staff:m("mediaStaff",{node:d.staff}),reviews:m("mediaReviews",d.review),recommendations:m("mediaRecommendations",d.recommendation),characterPreview:m("mediaCharacterPreview",{node:d.character,voiceActors:[d.staff]}),staffPreview:m("mediaStaffPreview",{node:d.staff}),reviewPreview:m("mediaReviewPreview",d.review),studios:{edges:[{node:d.studio}]},relations:{edges:[{node:d.media}]},trends:m("mediaTrends"),airingTrends:m("mediaAiringTrends")};d.media.define(p),d.listEntryMedia.define(p),d.listSection=(t=>{return new l("listSection",{entries:[d.listEntry]},{idAttribute:(e,a)=>`${a.user.id}-${t.toLowerCase()}-${e.name}`})}),d.mediaList=(t=>{return new l("mediaList",{lists:[d.listSection(t)],user:d.user},{idAttribute:e=>`${e.user.id}-${t.toLowerCase()}`})}),d.notification.define({media:d.media,user:d.user,thread:d.thread}),d.review.define({media:d.media,user:d.user}),d.staff.define({characters:m("staffCharacterRoles",{node:d.character,media:[d.media]}),characterMedia:m("staffCharacterMediaRoles",{node:d.media,characters:[d.character]}),staffMedia:m("staffMediaRoles",{node:d.media})}),d.recommendation.define({media:d.media,mediaRecommendation:d.media,user:d.user}),d.thread.define({user:d.user,replyUser:d.user,mediaCategories:[d.media]}),d.threadComment.define({thread:d.thread,user:d.user,childComments:[d.threadComment]});const v=new l("userName",void 0,{idAttribute:t=>t.value?t.value.toLowerCase():void 0,processStrategy:(t,e)=>({id:e.id})});d.user.define({nameId:v,favourites:{anime:m("favouriteAnime",{node:d.media}),manga:m("favouriteManga",{node:d.media}),characters:m("favouriteCharacters",{node:d.character}),staff:m("favouriteStaff",{node:d.staff}),studios:m("favouriteStudios",{node:d.studio})},statistics:{anime:{voiceActors:[{voiceActor:d.staff}],staff:[{staff:d.staff}],studios:[{studio:d.studio}]},manga:{staff:[{staff:d.staff}]}}}),d.forumOverview=new l("page",{recent:{threads:[d.thread]},new:{threads:[d.thread]},release:{threads:[d.thread]}},{idAttribute:()=>"forumOverview"}),d.searchPreview=new l("page",{Popular_This_Season:{media:[d.media]},Highly_Anticipated_Next_Season:{media:[d.media]},Highest_Rated_All_Time:{media:[d.media]},All_Time_Popular:{media:[d.media]},Popular_This_Year:{media:[d.media]}},{idAttribute:()=>"searchPreview"}),d.searchLanding=new l("page",{trending:{media:[d.media]},season:{media:[d.media]},nextSeason:{media:[d.media]},popular:{media:[d.media]},manhwa:{media:[d.media]},top:{media:[d.media]},staff:{staff:[d.staff]},characters:{characters:[d.character]}},{idAttribute:()=>"searchLanding"}),d.quickSearch=new l("page",{anime:{results:[d.media]},manga:{results:[d.media]},characters:{results:[d.character]},staff:{results:[d.staff]},studios:{results:[d.studio]},users:{results:[d.user]}},{idAttribute:()=>"quickSearch"}),d.mediaTrending=new l("page",{Trending:{media:[d.media]},NewAnime:{media:[d.media]},NewManga:{media:[d.media]}},{idAttribute:()=>"mediaTrending"});var h=d;a.d(e,"fetch",function(){return f});const g=(t,e)=>e.split(".").reduce((t,e)=>t[e],t);function f(t,e,a,i,s){return y.apply(this,arguments)}function y(){return y=Object(i["a"])(function*(t,e,a,i,n){n.page&&(n.root="Page");const o=new r["GraphQLClient"](t,{redirect:"follow",credentials:"include",headers:i});let c;try{c=yield o.request(e,a)}catch(u){throw{response:u.response}}const l=n.root?g(c,n.root):c;if(!n.schema&&!n.page||!l)return l;const d=b(n);return Object(s["a"])(l,d)}),y.apply(this,arguments)}function b(t){if(t.page){const e=t.page,a=e.key,i=e.id,s=h[t.page.schema];return h.page({pageData:[s]},{idAttribute:()=>i,processStrategy:t=>({pageInfo:t.pageInfo,pageData:t[a]})})}let e=h[t.schema];return t.schemaArgs&&(e=e(...t.schemaArgs)),t.arraySchema&&(e=[e]),e}},"4fa9":function(t,e,a){},5042:function(t,e,a){"use strict";var i=a("48d7"),s=a.n(i);s.a},"507e":function(t,e,a){"use strict";var i=a("9819"),s=a.n(i);s.a},"50a0":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.airingSchedule?a("div",{staticClass:"countdown"},[a("countdown",{attrs:{time:1e3*t.airingSchedule.timeUntilAiring,"leading-zero":!1,"emit-event":!1,"auto-start":!1},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\tEp "+t._s(t.airingSchedule.episode)+t._s(t.separator)+"\n\t\t\t"),e.days>0?a("span",[t._v(t._s(e.days)+"d")]):t._e(),t._v(" "),e.hours>0?a("span",[t._v(t._s(e.hours)+"h")]):t._e(),t._v(" "),e.minutes>0?a("span",[t._v(t._s(e.minutes)+"m")]):t._e()]}}],null,!1,36922606)})],1):t._e()},s=[],r=a("0cbb"),n=a.n(r),o={props:{airingSchedule:{type:Object,required:!0},separator:{type:String,default:" - "}},components:{countdown:n.a}},c=o,l=a("2877"),d=Object(l["a"])(c,i,s,!1,null,null,null);e["a"]=d.exports},5224:function(t,e,a){"use strict";var i=a("ebf6");e["a"]=`query{Viewer{${i["a"]}}}`},"52d5":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"markdown-editor"},[a("div",{attrs:{title:"Bold"},on:{click:function(e){return t.add("__","__")}}},[a("icon",{attrs:{icon:"bold"}})],1),t._v(" "),a("div",{attrs:{title:"Italic"},on:{click:function(e){return t.add("_","_")}}},[a("icon",{attrs:{icon:"italic"}})],1),t._v(" "),a("div",{attrs:{title:"Strikethrough"},on:{click:function(e){return t.add("~~","~~")}}},[a("icon",{attrs:{icon:"strikethrough"}})],1),t._v(" "),a("div",{attrs:{title:"Spoiler!"},on:{click:function(e){return t.add("~!","!~")}}},[a("icon",{attrs:{icon:"eye-slash"}})],1),t._v(" "),a("div",{attrs:{title:"Link"},on:{click:function(e){return t.addUrl()}}},[a("icon",{attrs:{icon:"link"}})],1),t._v(" "),a("div",{attrs:{title:"Image"},on:{click:function(e){return t.addImage()}}},[a("icon",{attrs:{icon:"image"}})],1),t._v(" "),a("div",{attrs:{title:"Youtube Video"},on:{click:function(e){return t.addYoutube()}}},[a("icon",{attrs:{icon:["fab","youtube"]}})],1),t._v(" "),a("div",{attrs:{title:"WebM Video"},on:{click:function(e){return t.addWebm()}}},[a("icon",{attrs:{icon:"video"}})],1),t._v(" "),a("div",{attrs:{title:"Ordered List"},on:{click:function(e){return t.add("1. ","")}}},[a("icon",{attrs:{icon:"list-ol"}})],1),t._v(" "),a("div",{attrs:{title:"Unordered List"},on:{click:function(e){return t.add("- ","")}}},[a("icon",{attrs:{icon:"list-ul"}})],1),t._v(" "),a("div",{attrs:{title:"Header"},on:{click:function(e){return t.add("# ","")}}},[a("icon",{attrs:{icon:"heading"}})],1),t._v(" "),a("div",{attrs:{title:"Center"},on:{click:function(e){return t.add("~~~","~~~")}}},[a("icon",{attrs:{icon:"align-center"}})],1),t._v(" "),a("div",{attrs:{title:"Quote"},on:{click:function(e){return t.add(">","")}}},[a("icon",{attrs:{icon:"quote-right"}})],1),t._v(" "),a("div",{attrs:{title:"Code"},on:{click:function(e){return t.add("`","`")}}},[a("icon",{attrs:{icon:"code"}})],1)])},s=[],r=a("1da1"),n={props:["markdown","input","action","reference"],methods:{add(t,e){var a=this;return Object(r["a"])(function*(){const i=yield a.input,s=i.selectionStart,r=i.selectionEnd,n=t+a.markdown.substring(s,r)+e;a.apply(s,r,n)})()},apply(t,e,a){const i=this.markdown.substring(0,t)+a+this.markdown.substring(e,this.markdown.length);if(!this.action)return this.$emit("update:markdown",i),void this.$emit("update",i);this.$store.dispatch(this.action,{reference:this.reference,value:i})},addUrl(){this.$prompt("Please input a URL","Add URL",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/,inputErrorMessage:"Invalid URL"}).then(t=>{this.add("[link ",`](${t.value})`)})},addImage(){this.$prompt("Please input an image URL","Add image",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/(https?:\/\/.*\.(?:png|jpg|jpeg|gif))/i,inputErrorMessage:"Invalid image URL"}).then(t=>{this.add("img220(",`${t.value})`)})},addWebm(){this.$prompt("Please input a WebM video URL","Add WebM Video",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/(https?:\/\/.*\.(?:mp4|webm|ogv))/i,inputErrorMessage:"Invalid video URL"}).then(t=>{this.add("webm(",`${t.value})`)})},addYoutube(){this.$prompt("Please input a YouTube video URL","Add YouTube Video",{confirmButtonText:"OK",cancelButtonText:"Cancel"}).then(t=>{this.add("youtube(",`${t.value})`)})}}},o=n,c=(a("0e3a"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,null,null);e["a"]=l.exports},"530e":function(t,e,a){"use strict";var i=a("ef9b"),s=a.n(i);s.a},"54b9":function(t,e,a){},"56e2":function(t,e,a){"use strict";var i=a("5b21"),s=a.n(i);s.a},"56f9":function(t,e,a){},"582a":function(t,e,a){},"58e2":function(t,e,a){},"58e7":function(t,e,a){"use strict";var i=a("396c"),s=a.n(i);s.a},"59d1":function(t,e,a){},"59d2":function(t,e,a){"use strict";var i=a("ce11"),s=a.n(i);s.a},"59ea":function(t,e,a){},"59fe":function(t,e,a){"use strict";a("ac6a");var i=a("1da1"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"scroll",staticClass:"scroller"},[t.isLoading?a("loading"):t._e(),t._v(" "),t.paused?a("div",{staticClass:"load-more",on:{click:t.loadMore}},[t._v("Load More")]):t._e()],1)},r=[],n=a("b727"),o=a.n(n),c=a("f414"),l=a.n(c),d=a("3a5e");const u=["scroll","resize"];var m={name:"scroll-load",components:{Loading:d["a"]},props:{threshold:{type:Number,default:0},handleOnMount:{type:Boolean,default:!0},scrollContainer:{type:String},paused:{type:Boolean,default:!1}},computed:{handler(){return this.$parent.scrollHandler},isLoading(){return this.$parent.loading},shouldHandle(){return!this.isLoading&&!this.$parent.complete}},methods:{checkInView(){if(this.handleOnMount&&this.execute(),this.scrollContainer){let t=this;while((t=t.$parent)&&!this._scrollContainer)this._scrollContainer=t.$refs[this.scrollContainer];this._scrollContainer&&this._scrollContainer.$el&&(this._scrollContainer=this._scrollContainer.$el)}this._scrollContainer=this._scrollContainer||window,this.check=o()(this.execute,200),u.forEach(t=>{this._scrollContainer.addEventListener(t,this.check)})},execute(){let t;this.$refs.scroll&&(t=l()(this.$refs.scroll,{threshold:this.threshold})),this.shouldHandle&&t&&this.handler()},loadMore(){this.$emit("update:paused",!1),this.$nextTick(()=>{this.execute()})}},mounted(){this.checkInView()},beforeDestroy(){u.forEach(t=>{this._scrollContainer.removeEventListener(t,this.check)})}},p=m,v=(a("1e74"),a("2877")),h=Object(v["a"])(p,s,r,!1,null,"6f203cf2",null),g=h.exports;e["a"]={components:{ScrollLoad:g},data(){return{page:0,loading:!1,hasNextPage:!0,complete:!1,paused:!1}},methods:{scrollHandler(){var t=this;return Object(i["a"])(function*(){if(!t.loading&&!t.complete&&!t.paused){if(!t.hasNextPage)return void(t.complete=!0);if(t.loading=!0,t.page+=1,yield t.$refs.scroll.$attrs.action(),t.loading=!1,t.$refs.scroll){const e=t.$refs.scroll.$attrs.limit;e&&(t.page+1)%e===0&&(t.paused=!0)}}})()},resetScrollLoader(t){this[t]=!0,this.page=0,this.loading=!1,this.complete=!1,this.hasNextPage=!0,this.paused=!1,this.$nextTick(()=>{this[t]=!1})},getScrollRefs(){const t={};return Object.keys(this.$refs).map(e=>{e.startsWith("scroll-")&&this.$refs[e][0]&&(t[e]=this.$refs[e])}),t}}}},"5ad4":function(t,e,a){"use strict";a.r(e),a.d(e,"capitalize",function(){return r}),a.d(e,"capitalizeFormat",function(){return o}),a.d(e,"capitalizeListStatus",function(){return c}),a.d(e,"removeAllCaps",function(){return l}),a.d(e,"startCase",function(){return d});a("ac6a"),a("a481"),a("28a5");var i=a("e740"),s=a.n(i);const r=t=>{if(!t)return null;const e=t.replace(/_/g," ").split(" "),a=[];return e.forEach(t=>{const e=t.charAt(0).toUpperCase(),i=t.slice(1,t.length).toLowerCase();a.push(e+i)}),a.join(" ")},n=["TV","ONA","OVA"],o=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&"TV"===t?"TV Show":n.includes(t)?t:"TV_SHORT"===t?"TV Short":"NOVEL"===t?"Light Novel":r(t)},c=(t,e)=>{if("CURRENT"===t){const t="anime"===e.toLowerCase()||0===e;return t?"Watching":"Reading"}return r(t)},l=t=>{return t?t.replace(/([A-Z]){4,}/g,t=>String(t).toLowerCase()):null},d=t=>s()(t)},"5b21":function(t,e,a){},"5b56":function(t,e,a){"use strict";var i=a("5ba1"),s=a.n(i);s.a},"5b6a":function(t,e,a){},"5ba1":function(t,e,a){},"5bcc":function(t,e,a){"use strict";e["a"]={data(){return{tooltip:{visible:!1,parent:null,data:{}}}},methods:{showTooltip(t){this.tooltip.visible=!0},hideTooltip(){this.tooltip.visible=!1}}}},"5c0b":function(t,e,a){"use strict";var i=a("5e27"),s=a.n(i);s.a},"5e27":function(t,e,a){},6068:function(t,e,a){},6107:function(t,e,a){},"61de":function(t,e,a){},"62ce":function(t,e,a){"use strict";var i=a("3100"),s=a.n(i);s.a},"62d7":function(t,e,a){},6317:function(t,e,a){},6471:function(t,e,a){"use strict";var i=a("3ae6"),s=a.n(i);s.a},"64ed":function(t,e,a){},6613:function(t,e,a){"use strict";var i=a("bcac"),s=a.n(i);s.a},6696:function(t,e,a){"use strict";var i=a("6068"),s=a.n(i);s.a},"669d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"sort-wrap"},[a("icon",{staticClass:"icon",attrs:{icon:"sort"},on:{click:t.open}}),t._v(" "),a("span",{staticClass:"label",on:{click:t.open}},[t._v(t._s(t.sortLabel))]),t._v(" "),a("transition",{attrs:{name:"dropdown-animation"}},[t.dropdownVisible?a("div",{staticClass:"dropdown"},t._l(t.sortOptions,function(e,i){return a("div",{key:i,staticClass:"option",class:{active:e===t.sortLabel},on:{click:function(e){return t.setSort(i)}}},[t._v("\n\t\t\t\t"+t._s(e)+"\n\t\t\t")])}),0):t._e()])],1)},s=[],r=(a("ac6a"),a("55dd"),a("c7db")),n={mixins:[r["mixin"]],data(){return{dropdownVisible:!1}},computed:{sortValue(){const t=this.$store.getters["search/activeFilters"];return t.sort},sortLabel(){return this.sortOptions[this.sortValue]||"Popularity"},sortOptions(){const t=this.$store.getters["search/filters"].sort||{};return t.values||{}}},methods:{setSort(t){this.$store.dispatch("search/setActiveFilter",{name:"sort",value:t}),this.close(),this.$emit("filter-change")},open(){this.dropdownVisible=!this.dropdownVisible},close(){this.dropdownVisible=!1}}},o=n,c=(a("3d7b"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"952b18ba",null);e["a"]=l.exports},"68e4":function(t,e,a){},"6b99":function(t,e,a){},"6bae":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-card",class:{"has-rank":t.rank},style:t.colors},[t.loading?[a("div",{staticClass:"loading cover"}),t._v(" "),t._m(0)]:[t.rank?a("div",{staticClass:"rank circle"},[a("span",{staticClass:"hash"},[t._v("#")]),t._v(t._s(t.rank)+"\n\t\t")]):t._e(),t._v(" "),t.media.coverImage?a("router-link",{staticClass:"cover",attrs:{to:t.mediaLink}},[t.displayBackgroundColor&&"hsl(202,57%,89%)"!==t.colors["--media-background"]?a("div",{staticClass:"background-color"}):t._e(),t._v(" "),a("img",{staticClass:"image",class:{loaded:t.coverImageLoaded},attrs:{src:t.media.coverImage.large},on:{load:t.onImageLoad}})]):t._e(),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"row title"},[a("div",{staticClass:"title-wrap"},[a("router-link",{staticClass:"title-link ellipsis",attrs:{to:t.mediaLink}},[t._v("\n\t\t\t\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t\t\t\t")])],1),t._v(" "),a("div",{staticClass:"genres"},t._l(t.media.genres,function(e,i){return a("router-link",{key:i,staticClass:"genre",attrs:{to:t.formatGenreUrl(e,t.media.type)}},[t._v("\n\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t")])}),1)]),t._v(" "),a("div",{staticClass:"row score"},[t.media.averageScore?[a("icon",{staticClass:"icon",attrs:{icon:["far",t.scoreIcon.name],color:"rgb(var(--color-"+t.scoreIcon.color+"))","fixed-width":""}}),t._v(" "),a("div",{staticClass:"percentage"},[t._v("\n\t\t\t\t\t\t"+t._s(t.media.averageScore)+"%\n\t\t\t\t\t\t"),a("div",{staticClass:"sub-row popularity"},[t.media.popularity?[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.media.popularity)+" users\n\t\t\t\t\t\t\t")]:t._e()],2)])]:t._e()],2),t._v(" "),a("div",{staticClass:"row format"},[t._v("\n\t\t\t\t"+t._s(t._f("capitalizeFormat")(t.media.format,!0))+"\n\t\t\t\t"),a("div",{staticClass:"sub-row length"},[t._v("\n\t\t\t\t\t"+t._s(t.length)+"\n\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"row date"},[t._v("\n\t\t\t\t"+t._s(t.date)+"\n\t\t\t\t"),t.airingCountdown?a("div",{staticClass:"sub-row airing"},[t._v("\n\t\t\t\t\tEp "+t._s(t.media.nextAiringEpisode.episode)+" airing in "+t._s(t.airingCountdown)+"\n\t\t\t\t")]):t.media.status?a("div",{staticClass:"sub-row status"},[t._v("\n\t\t\t\t\t"+t._s(t._f("capitalize")(t.media.status))+"\n\t\t\t\t")]):t._e()])])]],2)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading content"},[a("div"),t._v(" "),a("div")])}],r=a("427e"),n={extends:r["a"]},o=n,c=(a("89fe"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"70df6e62",null);e["a"]=l.exports},"6c0b":function(t,e,a){},"6c2f":function(t,e,a){"use strict";var i=a("1334"),s=a.n(i);s.a},7134:function(t,e,a){},7205:function(t,e,a){"use strict";e["a"]="mutation{Logout}"},"73e1":function(t,e,a){"use strict";var i=a("ebaf"),s=a.n(i);s.a},"73e3":function(t,e,a){"use strict";var i=a("ea24"),s=a.n(i);s.a},"75b9":function(t,e,a){},7660:function(t,e,a){"use strict";var i=a("4fa9"),s=a.n(i);s.a},"769f":function(t,e,a){"use strict";var i=a("da67"),s=a.n(i);s.a},"77a5":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"icon-wrap cover",class:{active:"cover"===t.view},on:{click:function(e){return t.select("cover")}}},[a("icon",{staticClass:"icon",attrs:{icon:"th"}})],1),t._v(" "),a("div",{staticClass:"icon-wrap chart",class:{active:"chart"===t.view},on:{click:function(e){return t.select("chart")}}},[a("icon",{staticClass:"icon",attrs:{icon:"th-large"}})],1),t._v(" "),a("div",{staticClass:"icon-wrap table",class:{active:"table"===t.view},on:{click:function(e){return t.select("table")}}},[a("icon",{staticClass:"icon",attrs:{icon:"th-list"}})],1)])},s=[],r={computed:{view(){return this.$store.getters["search/view"]||"cover"}},methods:{select(t){this.$store.dispatch("search/setView",t)}}},n=r,o=(a("c03a"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"f1f4dbb6",null);e["a"]=c.exports},"780e":function(t,e,a){"use strict";var i=a("ed47"),s=a.n(i);s.a},"78e1":function(t,e,a){"use strict";var i=a("62d7"),s=a.n(i);s.a},"7ae9":function(t,e,a){},"7b8e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"list-editor-wrap",attrs:{"custom-class":"list-editor",visible:!0},on:{close:t.close}},[t.media.id?[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.media.bannerImage,expression:"media.bannerImage",arg:"background-image"}],staticClass:"header",attrs:{div:""}},[a("div",{staticClass:"content"},[a("div",{staticClass:"cover"},[a("img",{attrs:{src:t.media.coverImage.large}})]),t._v(" "),a("div",{staticClass:"title"},[t._v(t._s(t.media.title.userPreferred))]),t._v(" "),a("favourite",{attrs:{id:t.media.id,type:t.media.type,"is-favourite":t.media.isFavourite,theme:"outline"}}),t._v(" "),a("div",{staticClass:"save-btn",on:{click:t.save}},[t._v("Save")])],1)]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"input-wrap",class:t.media.type.toLowerCase()},[a("div",{staticClass:"form status"},[a("div",{staticClass:"input-title"},[t._v("Status")]),t._v(" "),a("el-select",{attrs:{value:t.entry.status,placeholder:"Status"},on:{input:function(e){return t.updateStatus(e)}}},t._l(t.statusOptions[t.media.type],function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),t._v(" "),a("div",{staticClass:"form score"},[a("div",{staticClass:"input-title"},[t._v("Score")]),t._v(" "),t.scoreType.max>5?a("el-input-number",{attrs:{value:t.entry.score,min:0,max:t.scoreType.max,step:t.scoreType.step,"controls-position":"right"},on:{change:function(e){return t.update("score",e)}}}):"POINT_5"==t.scoreType.format?a("div",{staticClass:"star-score-wrap"},[a("el-rate",{attrs:{value:t.entry.score,colors:["#99A9BF","#F7BA2A","#FF9900"]},on:{change:function(e){return t.updateScore(e)}}})],1):"POINT_3"==t.scoreType.format?a("div",{staticClass:"smile-score-wrap"},[a("icon",{staticClass:"smile-icon",class:{active:3==t.entry.score},attrs:{icon:"smile"},on:{click:function(e){return t.updateScore(3)}}}),t._v(" "),a("icon",{staticClass:"smile-icon",class:{active:2==t.entry.score},attrs:{icon:"meh"},on:{click:function(e){return t.updateScore(2)}}}),t._v(" "),a("icon",{staticClass:"smile-icon",class:{active:1==t.entry.score},attrs:{icon:"frown"},on:{click:function(e){return t.updateScore(1)}}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"form progress"},[a("div",{staticClass:"input-title"},[t._v(t._s(t.isAnime?"Episode":"Chapter")+" Progress")]),t._v(" "),a("el-input-number",{attrs:{value:t.entry.progress,min:0,max:t.maxProgress,"controls-position":"right"},on:{change:function(e){return t.update("progress",e)}}})],1),t._v(" "),t.isAnime?t._e():a("div",{staticClass:"form volumes"},[a("div",{staticClass:"input-title"},[t._v("Volume Progress")]),t._v(" "),a("el-input-number",{attrs:{value:t.entry.progressVolumes,min:0,max:t.media.volumes||1/0,"controls-position":"right"},on:{change:function(e){return t.update("progressVolumes",e)}}})],1),t._v(" "),a("div",{staticClass:"form start"},[a("div",{staticClass:"input-title"},[t._v("Start Date")]),t._v(" "),a("el-date-picker",{attrs:{value:t.formatDate(t.entry.startedAt),"value-format":"yyyy-MM-dd"},on:{input:function(e){t.update("startedAt",t.unformatDate(e))}}})],1),t._v(" "),a("div",{staticClass:"form finish"},[a("div",{staticClass:"input-title"},[t._v("Finish Date")]),t._v(" "),a("el-date-picker",{attrs:{value:t.formatDate(t.entry.completedAt),"value-format":"yyyy-MM-dd"},on:{input:function(e){t.update("completedAt",t.unformatDate(e))}}})],1),t._v(" "),a("div",{staticClass:"form repeat"},[a("div",{staticClass:"input-title"},[t._v("Total "+t._s(t.isAnime?"Rewatches":"Rereads"))]),t._v(" "),a("el-input-number",{attrs:{value:t.entry.repeat,min:0,"controls-position":"right"},on:{change:function(e){return t.update("repeat",e)}}})],1),t._v(" "),a("div",{staticClass:"form notes"},[a("div",{staticClass:"input-title"},[t._v("Notes")]),t._v(" "),a("el-input",{attrs:{type:"textarea",value:t.entry.notes,autosize:""},on:{input:function(e){return t.update("notes",e)}}})],1),t._v(" "),t.advancedScoringEnabled?a("div",{staticClass:"form advanced-scores"},[a("div",{staticClass:"input-title"},[t._v("Advanced Scores")]),t._v(" "),a("div",{staticClass:"advanced-scores-wrap"},t._l(t.advancedScoreLabels,function(e,i){return a("div",{key:i,staticClass:"advanced-score"},[a("div",{staticClass:"input-title"},[t._v(t._s(e))]),t._v(" "),a("el-input-number",{attrs:{value:t.entry.advancedScores[e]||0,min:0,max:100,step:1,"controls-position":"right"},on:{change:function(a){return t.updateAdvancedScores(e,a)}}})],1)}),0)]):t._e()]),t._v(" "),a("div",{staticClass:"checkbox-wrap"},[a("div",{staticClass:"custom-lists"},[a("div",{staticClass:"input-title"},[t._v("Custom Lists")]),t._v(" "),t.customLists[0]?t._l(t.customLists,function(e,i){return a("div",{key:i,staticClass:"checkbox"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e,expression:"customList"}],attrs:{value:t.entry.customLists[e]},on:{input:function(a){return t.updateCustomList(e,a)}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t")])],1)}):[a("span",{staticClass:"no-custom-lists"},[t._v("No custom "+t._s(t.media.type.toLowerCase())+" lists")])]],2),t._v(" "),t.customLists[0]?a("div",{staticClass:"checkbox"},[a("el-checkbox",{attrs:{value:t.entry.hiddenFromStatusLists},on:{input:function(e){return t.update("hiddenFromStatusLists",e)}}},[t._v("\n\t\t\t\t\t\tHide from status lists\n\t\t\t\t\t")])],1):t._e(),t._v(" "),a("div",{staticClass:"checkbox"},[a("el-checkbox",{attrs:{value:t.entry.private},on:{input:function(e){return t.update("private",e)}}},[t._v("Private")])],1),t._v(" "),t.entry.id?a("div",{staticClass:"delete-btn",on:{click:t.deleteEntry}},[t._v("Delete")]):t._e()])])]:t._e()],2)},s=[],r=(a("28a5"),a("3835")),n=(a("ac6a"),a("ade3")),o=a("1da1"),c=a("33ca"),l=a.n(c),d=a("c263"),u=a.n(d),m=a("dcdc"),p=a.n(m),v=a("e772"),h=a.n(v),g=a("4e4b"),f=a.n(g),y=a("e450"),b=a.n(y),_=a("f3ad"),w=a.n(_),C=a("df33"),O=a.n(C),$=a("13ea"),k=a.n($),S=a("77c1"),P=a.n(S),I=a("3852"),j=a.n(I),A=a("c707"),E=a.n(A),x=a("4260"),T=a("a189"),L=a("3185");function D(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?D(Object(a),!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var R={components:{ElDialog:O.a,ElInput:w.a,ElInputNumber:b.a,ElSelect:f.a,ElOption:h.a,ElCheckbox:p.a,ElDatePicker:u.a,ElRate:l.a,Favourite:L["a"]},mixins:[T["a"]],data(){return{entryChanges:{},defaults:{score:0,customLists:{},advancedScores:{}},statusOptions:{ANIME:{CURRENT:"Watching",PLANNING:"Plan to watch",COMPLETED:"Completed",REPEATING:"Rewatching",PAUSED:"Paused",DROPPED:"Dropped"},MANGA:{CURRENT:"Reading",PLANNING:"Plan to read",COMPLETED:"Completed",REPEATING:"Rereading",PAUSED:"Paused",DROPPED:"Dropped"}},maxValues:{POINT_100:100,POINT_10_DECIMAL:10,POINT_10:10,POINT_5:5,POINT_3:3}}},computed:{editorState(){return this.$store.getters["medialistEditor/editor"]},media(){return this.$store.getters.entity("media",this.editorState.mediaId)},entry(){const t=this.$store.getters.entity("listEntry",this.media.mediaListEntry);return Object(x["b"])(t,this.entryChanges,this.defaults)},isAnime(){return"ANIME"===this.media.type},maxProgress(){return(this.isAnime?this.media.episodes:this.media.chapters)||1/0},customLists(){const t=`${this.media.type.toLowerCase()}List`,e=this.auth.mediaListOptions[t],a=e.customLists,i=e.sectionOrder;return a&&a[0]&&i&&i[0]?E()(a,t=>{const e=i.findIndex(e=>t.toLowerCase()===e.toLowerCase());return-1===e?99:e}):a},scoreType(){const t=this.auth.mediaListOptions.scoreFormat;return{format:t,max:this.maxValues[t],step:"POINT_10_DECIMAL"==t?.5:1}},advancedScoreLabels(){const t=this.auth.mediaListOptions.animeList.advancedScoring;return t||[]},advancedScoringEnabled(){const t=this.auth.mediaListOptions.animeList.advancedScoringEnabled,e=this.scoreType.format;return t&&("POINT_10_DECIMAL"==e||"POINT_100"==e)}},methods:{fetchListEntry(t){var e=this;return Object(o["a"])(function*(){yield e.$store.dispatch("medialistEditor/fetch",t)})()},update(t,e){const a=M({},this.entryChanges);a[t]=e,this.entryChanges=a},updateStatus(t){t!==this.entry.status&&("CURRENT"!==t||j()(this.entry,"startedAt.year")?"COMPLETED"!==t||j()(this.entry,"completedAt.year")||this.update("completedAt",this.newDate()):this.update("startedAt",this.newDate())),this.update("status",t)},updateCustomList(t,e){const a=M({},this.entry.customLists,{[t]:e});this.update("customLists",P()(a,t=>t))},updateAdvancedScores(t,e){const a=M({},this.entry.advancedScores);k()(a)&&this.advancedScoreLabels.forEach(t=>{a[t]=0}),a[t]=e,this.update("advancedScores",a),this.setAdvancedScoreAverage(a)},updateScore(t){this.update("score",t==this.entry.score?0:t)},save(){var t=this;return Object(o["a"])(function*(){const e=M({},t.entryChanges);e.mediaId=t.media.id,e.customLists&&(e.customLists=Object.keys(e.customLists)),t.advancedScoringEnabled&&"object"===typeof e.advancedScores?e.advancedScores=Object.values(e.advancedScores):delete e.advancedScores;const a=yield t.$store.dispatch("medialistEditor/save",e);a&&(t.$notify({type:"success",message:`${t.media.title.userPreferred} list entry updated`}),t.close())})()},deleteEntry(){var t=this;return Object(o["a"])(function*(){try{yield t.$confirm("Are you sure you want to delete this list entry?","Warning")}catch(a){return}const e=yield t.$store.dispatch("medialistEditor/delete",{id:t.entry.id});e&&(t.$notify({type:"success",message:"List entry deleted"}),t.close())})()},close(){this.entryChanges={},this.$store.dispatch("medialistEditor/close")},newDate(){const t=new Date;return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}},formatDate(t){return t&&t.year?`${t.year}-${t.month||"01"}-${t.day||"01"}`:null},unformatDate(t){if(null===t)return null;const e=t.split("-"),a=Object(r["a"])(e,3),i=a[0],s=a[1],n=a[2];return{year:i,month:s,day:n}},setAdvancedScoreAverage(t){const e=Object.values(t).filter(t=>0!=t),a=e.reduce((t,e)=>t+e,0);if(0!==a){const t=a/e.length,i="POINT_100"==this.scoreType.format?parseInt(t):parseFloat(t.toFixed(1));this.update("score",i)}}},created(){var t=this;return Object(o["a"])(function*(){yield t.fetchListEntry(t.editorState.mediaId)})()}},N=R,F=(a("9b92"),a("2877")),U=Object(F["a"])(N,i,s,!1,null,null,null);e["a"]=U.exports},"7c43":function(t,e,a){},"7d1d":function(t,e,a){},"7fda":function(t,e,a){"use strict";var i=a("7d1d"),s=a.n(i);s.a},"820c":function(t,e,a){"use strict";var i=a("d6f5"),s=a.n(i);s.a},8241:function(t,e,a){"use strict";var i=a("30bc"),s=a.n(i);s.a},"82ff":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkbox-wrap",class:{active:t.value},on:{click:t.toggle}},[a("div",{staticClass:"checkbox"},[a("transition",{attrs:{name:"checkbox-animation"}},[t.value?a("div",{staticClass:"check"},[a("icon",{attrs:{icon:"check"}})],1):t._e()])],1),t._v(" "),a("div",{staticClass:"label"},[t._v("\n\t\t"+t._s(t.label)+"\n\t")])])},s=[],r={props:["label","value"],methods:{toggle(){this.$emit("input",!this.value)}}},n=r,o=(a("e567"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"32107ecb",null);e["a"]=c.exports},"84e6":function(t,e,a){},"84fd":function(t,e,a){"use strict";var i=a("24f8"),s=a.n(i);s.a},8756:function(t,e,a){"use strict";var i=a("59d1"),s=a.n(i);s.a},8825:function(t,e,a){"use strict";var i=a("6107"),s=a.n(i);s.a},"89fe":function(t,e,a){"use strict";var i=a("b03e"),s=a.n(i);s.a},"8ae1":function(t,e,a){"use strict";var i=a("1552"),s=a.n(i);s.a},"8b77":function(t,e,a){},"8b88":function(t,e,a){},"8bc1":function(t,e,a){"use strict";var i=a("ebf6");e["a"]=`mutation($name:String,$email:String,$password:String,$confirmPassword:String,$captcha:String){CreateUser(userName:$name,email:$email,password:$password,confirmPassword:$confirmPassword,captcha:$captcha){${i["a"]}}}`},"8c4d":function(t,e,a){"use strict";var i=a("1c89"),s=a.n(i);s.a},"8d2c":function(t,e,a){"use strict";var i=a("a8e9"),s=a.n(i);s.a},"8d43":function(t,e,a){"use strict";var i=a("1207"),s=a.n(i);s.a},"8ddf":function(t,e,a){"use strict";var i=a("58e2"),s=a.n(i);s.a},9110:function(t,e,a){"use strict";var i=a("0f48"),s=a.n(i);s.a},9132:function(t,e,a){"use strict";a("a481");e["a"]={methods:{urlSlug(t){return null!==t&&t?encodeURIComponent(t.replace(/[ ]/g,"_").replace(/[\W]/g,"").replace(/[_]/g,"-")):null},formatMediaUrl(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={id:t.id,type:t.type.toLowerCase(),slug:this.urlSlug(t.title.userPreferred)||null};return e?`/${a.type}/${a.id}/${a.slug}`:a},formatUserUrl(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?`/user/${t.name||t.id}`:{id:t.name||t.id}},formatCharacterUrl(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=t.name.full||`${t.name.first} ${t.name.last||""}`,i={id:t.id,slug:this.urlSlug(a.trim())||null};return e?`/character/${i.id}/${i.slug}`:i},formatStaffUrl(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=t.name.full||`${t.name.first} ${t.name.last||""}`,i={id:t.id,slug:this.urlSlug(a.trim())||null};return e?`/staff/${i.id}/${i.slug}`:i},formatStudioUrl(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={id:t.id,slug:this.urlSlug(t.name)||null};return e?`/studio/${a.id}/${a.slug}`:a},formatThreadUrl(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?`/forum/thread/${t.id}`:{id:t.id}},formatGenreUrl(t,e){return"Hentai"===t?`/search/${e.toLowerCase()}?hentai=true`:`/search/${e.toLowerCase()}/${t}`}}}},"94f2":function(t,e,a){"use strict";var i=a("98ca"),s=a.n(i);s.a},"95f1":function(t,e,a){},9757:function(t,e,a){"use strict";var i=a("a805"),s=a.n(i);s.a},"97e9":function(t,e,a){"use strict";var i=a("ecb1"),s=a.n(i);s.a},9819:function(t,e,a){},9864:function(t,e,a){},"98ca":function(t,e,a){},"99dd":function(t,e,a){},"9b45":function(t,e,a){},"9b5d":function(t,e,a){"use strict";var i=a("b333"),s=a.n(i);s.a},"9b63":function(t,e,a){"use strict";var i=a("d113"),s=a.n(i);s.a},"9b92":function(t,e,a){"use strict";var i=a("3f77"),s=a.n(i);s.a},"9bd1":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"mobile-header",on:{click:t.open}},[t._v("\n\t\tBrowse\n\t\t"),a("span",{staticClass:"type"},[t._v("\n\t\t\t"+t._s(t._f("capitalize")(t.type))+"\n\t\t\t"),a("icon",{staticClass:"icon",attrs:{icon:"chevron-down"}})],1)]),t._v(" "),a("transition",{attrs:{name:"dropdown-animation"}},[t.dropdownVisible?a("div",{staticClass:"dropdown"},t._l(t.options,function(e,i){return a("div",{key:i,staticClass:"option",class:{active:e===t.type.toLowerCase()},on:{click:function(a){return t.go(e)}}},[t._v("\n\t\t\t\t"+t._s(t._f("capitalize")(e))+"\n\t\t\t")])}),0):t._e()])],1)},s=[],r=a("a18c"),n=a("c7db"),o={mixins:[n["mixin"]],props:["type"],data(){return{dropdownVisible:!1,options:["anime","manga","characters","staff","studios","users"]}},methods:{go(t){this.close(),r["a"].push({name:"Search",params:{type:t}})},open(){this.dropdownVisible=!this.dropdownVisible},close(){this.dropdownVisible=!1}}},c=o,l=(a("0edd"),a("2877")),d=Object(l["a"])(c,i,s,!1,null,"544390d2",null);e["a"]=d.exports},"9c4a":function(t,e,a){"use strict";var i=a("582a"),s=a.n(i);s.a},"9fae":function(t,e,a){},a084:function(t,e,a){},a189:function(t,e,a){"use strict";e["a"]={computed:{auth(){return this.$store.getters["auth/viewer"]},displayAdult(){return!!this.auth&&this.auth.options.displayAdultContent},unreadNotificationCount(){return this.auth?this.auth.unreadNotificationCount:0}},methods:{isMod(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.auth;return t&&"mod"===t.moderatorStatus},isDataMod(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.auth;return t&&("data mod"===t.moderatorStatus||"mod"===t.moderatorStatus)}}}},a18c:function(t,e,a){"use strict";var i=a("8c4f"),s=a("4360"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"landing"},[t._m(0),t._v(" "),a("h2",{staticClass:"sub-heading"},[t._v("\n\t\t\tTrack, share, and discover your favorite anime and manga with AniList.\n\t\t")]),t._v(" "),t._m(1),t._v(" "),a("router-link",{staticClass:"join-btn",attrs:{to:"/signup"}},[a("div",{staticClass:"label"},[t._v("\n\t\t\t\tJoin Now\n\t\t\t")]),t._v(" "),a("div",{staticClass:"circle"},[a("icon",{attrs:{icon:"chevron-right"}})],1)])],1),t._v(" "),a("search",{attrs:{type:"ANIME"}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"heading"},[a("span",[t._v("AniList: ")]),t._v("\n\t\t\tThe next-generation anime platform\n\t\t")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"feature-cards"},[a("div",{staticClass:"feature-card"},[a("div",{staticClass:"icon"},[a("img",{attrs:{src:"/img/landing/stats.svg"}})]),t._v(" "),a("div",[a("h3",{staticClass:"title"},[t._v("Discover your obsessions")]),t._v(" "),a("div",{staticClass:"description"},[t._v("\n\t\t\t\t\t\tWhat are your highest rated genres or most watched voice actors? \n\t\t\t\t\t\tFollow your watching habits over time with in-depth statistics. \n\t\t\t\t\t")])])]),t._v(" "),a("div",{staticClass:"feature-card"},[a("div",{staticClass:"icon"},[a("img",{attrs:{src:"/img/landing/apps.svg"}})]),t._v(" "),a("div",[a("h3",{staticClass:"title"},[t._v("Bring AniList anywhere")]),t._v(" "),a("div",{staticClass:"description"},[t._v("\n\t\t\t\t\t\tKeep track of your progress on-the-go with one of many AniList apps across iOS, Android, macOS, and Windows.\n\t\t\t\t\t")])])]),t._v(" "),a("div",{staticClass:"feature-card"},[a("div",{staticClass:"icon"},[a("img",{attrs:{src:"/img/landing/social.svg"}})]),t._v(" "),a("div",[a("h3",{staticClass:"title"},[t._v("Join the conversation")]),t._v(" "),a("div",{staticClass:"description"},[t._v("\n\t\t\t\t\t\tShare your thoughts with our thriving community, make friends, socialize, and receive recommendations.\n\t\t\t\t\t")])])]),t._v(" "),a("div",{staticClass:"feature-card"},[a("div",{staticClass:"icon"},[a("img",{attrs:{src:"/img/landing/custom.svg"}})]),t._v(" "),a("div",[a("h3",{staticClass:"title"},[t._v("Tweak it to your liking")]),t._v(" "),a("div",{staticClass:"description"},[t._v("\n\t\t\t\t\t\tCustomize your scoring system, title format, color scheme, and much more! Also, we have a dark mode.\n\t\t\t\t\t")])])])])}],o=a("a189"),c=a("cfda"),l={mixins:[o["a"]],components:{Search:c["a"]},beforeRouteEnter(t,e,a){a(e=>{return"Landing"!==t.name||!e.$store.getters["auth/viewer"]||(Ed.push({path:"/home"}),!1)})}},d=l,u=(a("f63d"),a("2877")),m=Object(u["a"])(d,r,n,!1,null,"3428d21c",null),p=m.exports,v=[{name:"Landing",path:"/",component:p}],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-form-unscoped"},[a("div",{staticClass:"form container"},[a("div",{staticClass:"title"},[t._v("Login")]),t._v(" "),a("form",{on:{submit:t.login,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"name",staticClass:"al-input",attrs:{placeholder:"Email"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",staticClass:"al-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("vue-recaptcha",{ref:"captcha",attrs:{sitekey:t.captchaKey},on:{verify:t.verifyCaptcha,expired:t.resetCaptcha}}),t._v(" "),a("div",{staticClass:"submit",on:{click:t.login}},[t._v("Login")])],1),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/forgot"}},[t._v("Forgot password?")]),t._v(" "),a("router-link",{staticClass:"link signup",attrs:{to:"/signup"}},[t._v("Not registered? "),a("span",[t._v("Create an account")])])],1)])},g=[],f=(a("ac6a"),a("a481"),a("1da1")),y=a("dcdc"),b=a.n(y),_=a("e096"),w={name:"Login",components:{ElCheckbox:b.a,VueRecaptcha:_["a"]},data(){return{name:null,password:null,verified:!1,captchaKey:"6LcQduwSAAAAAFdzP7veRfDdnIGHH4RLXk3mJcJJ"}},methods:{getLoginDetails(){this.name&&""!=this.name||(this.name=this.$refs.name.value),this.password&&""!=this.password||(this.password=this.$refs.password.value)},login(){var t=this;return Object(f["a"])(function*(){if(!t.verified)return void t.$notify({type:"error",message:"Please verify you are not a robot by completing the captcha."});t.getLoginDetails();const e=yield t.$store.dispatch("auth/login",{name:t.name,password:t.password,captcha:t.verified});if(e.success)t.$route.query.apiVersion?t.oauthRedirect():Ed.replace({path:"/home"});else{const a=t.name.includes("@")?e.error:"Please use your email instead of username.";t.$notify({type:"error",message:`Login failed. ${a}`,duration:6e3}),t.resetCaptcha()}})()},oauthRedirect(){const t=this.$route.query;let e="?";Object.keys(t).forEach(function(a){"undefined"!==typeof t[a]&&"apiVersion"!==a&&(e+=a+"="+t[a]+"&")}),window.location.replace("/api/v2/oauth/authorize"+e)},verifyCaptcha(t){this.verified=t},resetCaptcha(){this.verified=!1,this.$refs.captcha.reset()}},mounted(){this.$store.commit("setAdDisplay",!1)},metaInfo:{title:"Log in to AniList",meta:[{name:"description",content:"Log in to AniList to discover anime and manga, connect with the community, receive recommendations, socialize, and make new friends."}]}},C=w,O=(a("b06f"),Object(u["a"])(C,h,g,!1,null,null,null)),$=O.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-form-unscoped"},[a("div",{staticClass:"form container"},[a("div",{staticClass:"title"},[t._v("Sign up to AniList")]),t._v(" "),a("form",{on:{submit:t.signup,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signup(e)},click:function(e){t.showCaptcha=!0}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"al-input",attrs:{placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"al-input",attrs:{placeholder:"Username"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"al-input",attrs:{placeholder:"Password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"al-input",attrs:{placeholder:"Confirm Password",type:"password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}}),t._v(" "),a("el-checkbox",{staticClass:"input",model:{value:t.acceptTerms,callback:function(e){t.acceptTerms=e},expression:"acceptTerms"}},[t._v("\n\t\t\t\tYou agree to our "),a("a",{attrs:{href:"/terms",target:"_blank"}},[t._v("terms of service")])]),t._v(" "),a("vue-recaptcha",{directives:[{name:"show",rawName:"v-show",value:t.showCaptcha,expression:"showCaptcha"}],ref:"captcha",attrs:{sitekey:t.captchaKey},on:{verify:t.verifyCaptcha,expired:t.resetCaptcha}}),t._v(" "),a("div",{staticClass:"submit",on:{click:t.signup}},[t._v("Sign up")])],1),t._v(" "),a("div",{staticClass:"link signup"},[a("router-link",{attrs:{to:"/login"}},[t._v("Login")]),t._v(" •\n\t\t\t"),a("router-link",{attrs:{to:"/reverify"}},[t._v("Resend Verification Email")])],1)])])},S=[],P=(a("8bc1"),{extends:$,data(){return{email:null,name:null,password:null,confirmPassword:null,acceptTerms:!1,showCaptcha:!1,verified:!1,captchaKey:"6LcQduwSAAAAAFdzP7veRfDdnIGHH4RLXk3mJcJJ"}},components:{VueRecaptcha:_["a"]},methods:{signup(){var t=this;return Object(f["a"])(function*(){if(!t.acceptTerms)return void t.$notify({type:"error",message:"Sorry you need to accept our terms of service to sign up."});if(!t.verified)return void t.$notify({type:"error",message:"Please verify you are not a robot. (01110011 01101111 01110010 01110010 01111001)"});const e=yield t.$store.dispatch("auth/signup",{email:t.email,name:t.name,password:t.password,confirmPassword:t.confirmPassword,captcha:t.verified}),a=e.success,i=e.email;a?i?t.$alert("We've sent you an email, please check it to confirm your account creation.","Email verification required"):Ed.push({name:"SetupLanguage"}):t.resetCaptcha()})()},verifyCaptcha(t){this.verified=t},resetCaptcha(){this.verified=!1,this.$refs.captcha.reset()}},mounted(){this.$store.commit("setAdDisplay",!1)},metaInfo:{title:"Sign up for AniList",meta:[{name:"description",content:"Sign up for AniList and discover new anime and manga. Explore the top-rated and most popular anime airing right now!"}]}}),I=P,j=Object(u["a"])(I,k,S,!1,null,null,null),A=j.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-form-unscoped"},[a("div",{staticClass:"form container"},[a("div",{staticClass:"title"},[t._v("Reset Password")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.resetPassword(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"al-input",attrs:{placeholder:"Email","auto-complete":"on"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("div",{staticClass:"submit",on:{click:t.resetPassword}},[t._v("Reset Password")])]),t._v(" "),a("router-link",{staticClass:"link signup",attrs:{to:"/login"}},[t._v("Login")])],1)])},x=[],T={extends:$,data(){return{email:null}},methods:{resetPassword(){var t=this;return Object(f["a"])(function*(){const e=yield t.$store.dispatch("auth/resetPassword",{email:t.email});e?t.$notify({type:"success",message:"We've sent you a password reset email."}):t.$notify({type:"error",message:"Email not found."})})()}},mounted(){this.$store.commit("setAdDisplay",!1)},metaInfo:{title:"Forgot your password?"}},L=T,D=Object(u["a"])(L,E,x,!1,null,null,null),M=D.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-form-unscoped"},[a("div",{staticClass:"form container"},[a("div",{staticClass:"title"},[t._v("Resend Verification Email")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.verifyEmail(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"al-input",attrs:{placeholder:"Email","auto-complete":"on"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("div",{staticClass:"submit",on:{click:t.resetPassword}},[t._v("Send")])]),t._v(" "),a("router-link",{staticClass:"link signup",attrs:{to:"/login"}},[t._v("Login")])],1)])},N=[],F={extends:$,data(){return{email:null}},methods:{resetPassword(){var t=this;return Object(f["a"])(function*(){const e=yield t.$store.dispatch("auth/verifyEmail",{email:t.email});e&&t.$alert("We've sent you another verifcation email. Please check your spam folder too.","Email verification resent")})()}},mounted(){this.$store.commit("setAdDisplay",!1)},metaInfo:{title:"Resend verification email"}},U=F,V=Object(u["a"])(U,R,N,!1,null,null,null),z=V.exports,q=[{name:"Login",path:"/login",component:$},{name:"Signup",path:"/signup",component:A},{name:"ForgotPassword",path:"/forgot",component:M},{name:"VerifyEmail",path:"/reverify",component:z},{path:"/register",redirect:"/"}],B=a("ade3"),H={beforeEnter(t,e,a){!1!==s["a"].getters["auth/viewer"]?a():"/"===e.path&&null===e.name?a({name:"Landing"}):a(!1)}},G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.auth&&t.largeListPreview?a("div",{staticClass:"home full-width"},[t.auth?a("list-preview"):t._e()],1):t._e(),t._v(" "),a("div",{staticClass:"home"},[a("activity-feed"),t._v(" "),a("div",[t.auth&&!t.largeListPreview?a("list-preview"):t._e(),t._v(" "),t.isDesktop?[a("forum-preview"),t._v(" "),a("recent-reviews"),t._v(" "),a("media-preview"),t._v(" "),a("ad",{staticClass:"sense",attrs:{type:"home"}})]:t._e()],2)],1)])},W=[],Y=a("09ba"),K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activity-feed-wrap"},[t.auth?a("h2",{staticClass:"section-header"},[t._v("\n\t\tActivity\n\t\t"),a("div",{staticClass:"feed-select"},[a("el-dropdown",{attrs:{trigger:"click",placement:"top",size:"small"},on:{command:function(e){return t.setFeedFilter(e)},"visible-change":function(e){return t.toggleFilterMenu(e)}}},[a("span",{staticClass:"feed-filter el-dropdown-link",class:{active:t.filterMenuOpen}},[a("icon",{attrs:{icon:"filter",size:"sm"}})],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{class:{active:"all"==t.filter},attrs:{command:"all"}},[t._v("\n\t\t\t\t\t\tAll\n\t\t\t\t\t")]),t._v(" "),a("el-dropdown-item",{class:{active:"status"==t.filter},attrs:{command:"status"}},[t._v("\n\t\t\t\t\t\tText Status\n\t\t\t\t\t")]),t._v(" "),a("el-dropdown-item",{class:{active:"progress"==t.filter},attrs:{command:"progress"}},[t._v("\n\t\t\t\t\t\tList Progress\n\t\t\t\t\t")])],1)],1),t._v(" "),a("div",{staticClass:"feed-type-toggle"},[a("div",{class:{active:"following"==t.type},on:{click:function(e){return t.setFeedType("following")}}},[t._v("Following")]),t._v(" "),a("div",{class:{active:"global"==t.type},on:{click:function(e){return t.setFeedType("global")}}},[t._v("Global")])])],1)]):a("h2",{staticClass:"section-header"},[t._v("Site Activity")]),t._v(" "),t.auth?a("activity-editor",{attrs:{"create-id":"home",type:"status"},on:{refresh:t.refresh}}):t._e(),t._v(" "),t.activityFeed.pageData?a("div",{staticClass:"activity-feed"},[t._l(t.activityFeed.pageData,function(e,i){return[t._l(e,function(e,s){return[a("activity",{key:i+"-"+s,attrs:{id:e},on:{refresh:t.refresh}})]})]})],2):t._e(),t._v(" "),t.activityChanging?t._e():a("scroll-load",{ref:"scroll",attrs:{action:t.fetchActivity,limit:2,paused:t.paused},on:{"update:paused":function(e){t.paused=e}}})],1)},Q=[],J=a("18ff"),X=a.n(J),Z=a("defb"),tt=a.n(Z),et=a("b370"),at=a.n(et),it=a("59fe"),st=a("adbc"),rt=a("d10a"),nt=a("4e30"),ot={components:{Activity:rt["default"],ActivityEditor:nt["default"],ElDropdown:at.a,ElDropdownMenu:tt.a,ElDropdownItem:X.a},mixins:[o["a"],it["a"],st["a"]],data(){return{activityChanging:!1,refreshInterval:3,refreshMethod:"autoUpdateFeed",filterMenuOpen:!1}},computed:{activityFeed(){return this.$store.getters.entityPage(`homeActivity-${this.type}-${this.filter}`,this.page)},type:{get(){return this.auth?this.$store.getters["home/activityFeedType"].type:"global"},set(t){this.updateFeed(t,this.filter)}},filter:{get(){return this.auth?this.$store.getters["home/activityFeedType"].filter:"all"},set(t){this.updateFeed(this.type,t)}}},methods:{fetchActivity(){var t=this;return Object(f["a"])(function*(){const e=yield t.$store.dispatch("home/fetchActivity",{page:t.page,type:t.type,filter:t.filter}),a=e.hasNextPage,i=e.total;t.hasNextPage=a,0===i&&"following"===t.type&&t.setFeedType("global")})()},updateFeed(t,e){this.$store.commit("home/setActivityFeedType",{filter:e,type:t}),this.activityChanging=!0,this.resetScrollLoader("activityChanging")},refresh(){var t=this;return Object(f["a"])(function*(){t.resetScrollLoader(),t.page=1,yield t.fetchActivity()})()},setFeedType(t){t&&(this.type=t)},setFeedFilter(t){t&&(this.filter=t)},autoUpdateFeed(){window.scrollY<1e3&&!this.$store.state.markdownEditorActive&&this.refresh()},toggleFilterMenu(t){this.filterMenuOpen=t}},beforeMount(){const t=JSON.parse(localStorage.getItem("default-activity"));t&&t.type&&(this.type=t.type,this.filter=t.filter)}},ct=ot,lt=(a("9110"),Object(u["a"])(ct,K,Q,!1,null,"7b8d25f2",null)),dt=lt.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-previews"},t._l(t.listPreviews,function(e,i){return e.entries[0]?a("div",{key:i,staticClass:"list-preview-wrap"},[a("div",{staticClass:"section-header"},["Airing"!==e.title?a("h2",[t._v(t._s(e.title))]):a("router-link",{staticStyle:{cursor:"pointer"},attrs:{tag:"h2",to:"/airing"}},[t._v(t._s(e.title))]),t._v(" "),a("icon",{staticClass:"size-toggle",attrs:{icon:t.largeListPreview?"compress":"expand",size:"sm"},on:{click:function(e){t.largeListPreview=!t.largeListPreview}}})],1),t._v(" "),a("div",{staticClass:"list-preview"},t._l(e.entries,function(t){return a("list-preview-card",{key:t,attrs:{id:t}})}),1)]):t._e()}),0)},mt=[],pt=a("c707"),vt=a.n(pt),ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("media-preview-card",{attrs:{"media-id":t.entry.media,"show-info":t.isMobile}},[t.media.nextAiringEpisode?a("div",{class:{isBehind:t.episodesBehind},attrs:{slot:"image-text"},slot:"image-text"},[a("countdown",{attrs:{"airing-schedule":t.media.nextAiringEpisode,separator:""}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"image-overlay"},slot:"image-overlay"},[t.episodesBehind?a("div",{staticClass:"behind-accent"}):t._e(),t._v(" "),t.maxProgress?t._e():a("div",{staticClass:"plus-progress",on:{click:function(e){return e.preventDefault(),t.plusProgress(e)}}},[t._v("\n\t\t\t"+t._s(t.entry.progress)+" +\n\t\t")])]),t._v(" "),t.episodesBehind?a("div",{attrs:{slot:"info-header"},slot:"info-header"},[t._v("\n\t\t"+t._s(t.episodesBehind)+"\n\t")]):t._e(),t._v(" "),a("div",{attrs:{slot:"info-footer"},slot:"info-footer"},[t._v("\n\t\tProgress: "+t._s(t.progress)+"\n\t\t"),t.maxProgress?t._e():a("div",{staticClass:"plus-progress mobile",on:{click:function(e){return e.preventDefault(),t.plusProgress(e)}}},[t._v("\n\t\t\t+\n\t\t")])])])},gt=[],ft=a("50a0"),yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-preview-card",class:{small:!t.showInfo,"info-left":t.positionInfoLeft},on:{"~mouseover":function(e){return t.positionInfo(e)}}},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.media.coverImage.large,expression:"media.coverImage.large",arg:"background-image"}],staticClass:"cover",attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[t.slotActive("image-text")?a("div",{staticClass:"image-text"},[t._t("image-text")],2):t._e(),t._v(" "),t.slotActive("image-overlay")?a("div",{staticClass:"image-overlay"},[t._t("image-overlay")],2):t._e()]),t._v(" "),a("div",{ref:"info",staticClass:"content"},[t.slotActive("info-header")?a("div",{staticClass:"info-header"},[t._t("info-header")],2):t._e(),t._v(" "),a("router-link",{staticClass:"title",attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t")]),t._v(" "),t.slotActive("info-footer")?a("div",{staticClass:"info"},[t._t("info-footer")],2):a("div",{staticClass:"info"},[t._v(t._s(t._f("capitalizeFormat")(t.media.format))+" · "+t._s(t._f("capitalize")(t.media.status)))])],1)],1)},bt=[],_t={props:["mediaId","showInfo"],data(){return{positionInfoLeft:!1}},computed:{media(){return this.$store.getters.entity("media",this.mediaId)}},methods:{slotActive(t){return!!this.$slots[t]},positionInfo(){if(this.showInfo)return;const t=this.$el.parentNode,e=t.clientWidth+t.offsetLeft,a=this.$refs.info.clientWidth+this.$el.offsetLeft;e<a&&(this.positionInfoLeft=!0)}}},wt=_t,Ct=(a("56e2"),Object(u["a"])(wt,yt,bt,!1,null,"4b71d7c6",null)),Ot=Ct.exports,$t={components:{Countdown:ft["a"],MediaPreviewCard:Ot},props:["id"],data(){return{editingEntry:!1}},computed:{entry(){return this.$store.getters.entity("listEntry",this.id)},media(){return this.$store.getters.entity("media",this.entry.media)},episodesBehind(){if(!this.media.nextAiringEpisode)return!1;const t=this.media.nextAiringEpisode.episode-1-this.entry.progress;return!(t<1)&&`${t} ${1===t?"episode":"episodes"} behind`},progress(){let t=this.entry.progress;const e=this.media.episodes||this.media.chapters;return e&&(t+=`/${e}`),t},maxProgress(t){return this.media.episodes?this.entry.progress>=this.entry.media.episodes:!!this.media.chapters&&this.entry.progress>=this.media.chapters},isMobile(){return!this.$store.state.screen.isDesktop}},methods:{plusProgress(t){var e=this;return Object(f["a"])(function*(){e.editingEntry||(e.editingEntry=!0,yield e.$store.dispatch("medialistEditor/save",{progress:e.entry.progress+1,mediaId:e.media.id}),e.editingEntry=!1)})()}}},kt=$t,St=(a("59d2"),Object(u["a"])(kt,ht,gt,!1,null,"16d5094e",null)),Pt=St.exports,It={name:"ListPreview",components:{ListPreviewCard:Pt},mixins:[st["a"]],data(){return{refreshInterval:10,refreshMethod:"fetchListEntries"}},computed:{listPreviews(){const t=[],e=this.$store.getters.entityPagePreview("homeListPreview-ANIME"),a=this.$store.getters.entityPagePreview("homeListPreview-MANGA"),i=e.length+a.length;if(0===i)return[];if(i<8)return[{title:"In Progress",entries:[...e,...a]}];const s=t=>{const e=this.$store.getters.entity("listEntry",t).media;return this.$store.getters.entity("media",e)},r=e.filter(t=>"RELEASING"===s(t).status),n=t=>{const e=s(t);if(e.nextAiringEpisode)return e.nextAiringEpisode.timeUntilAiring};return r.length>3?t.push({title:"Airing",entries:vt()(r,n)},{title:"Anime in Progress",entries:e.filter(t=>"RELEASING"!==s(t).status)}):0!==e.length&&t.push({title:"Anime in Progress",entries:vt()(e,n)}),0!==a.length&&t.push({title:"Manga in Progress",entries:a}),t},largeListPreview:{get(){return this.$store.getters["home/largeListPreview"]},set(t){this.$store.commit("home/setLargeListPreview",t)}}},methods:{fetchListEntries(){const t=this.$store.getters["auth/viewer"].id;this.$store.dispatch("home/fetchListPreview",{userId:t,type:"ANIME"}),this.$store.dispatch("home/fetchListPreview",{userId:t,type:"MANGA"})}},created(){this.fetchListEntries()}},jt=It,At=(a("3d05"),Object(u["a"])(jt,ut,mt,!1,null,"6aea970d",null)),Et=At.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.reviews[0]?a("div",{staticClass:"recent-reviews"},[a("router-link",{staticClass:"section-header link",attrs:{tag:"h2",to:{name:"Reviews"}}},[t._v("Recent Reviews")]),t._v(" "),a("div",{staticClass:"review-wrap"},t._l(t.reviews,function(t){return a("review-card",{key:t,attrs:{id:t}})}),1)],1):t._e()},Tt=[],Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"review-card",class:{"no-banner":!t.media.bannerImage},attrs:{to:{name:"Review",params:{id:t.review.id}}}},[t.media.bannerImage?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.media.bannerImage,expression:"media.bannerImage",arg:"background-image"}],staticClass:"banner"},[a("div",{staticClass:"read-review"},[a("span",[t._v("Read Full Review")])])]):t._e(),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[t._v("Review of "+t._s(t.media.title.userPreferred)+" by "+t._s(t.user.name))]),t._v(" "),a("div",{staticClass:"summary"},[t._v(t._s(t.review.summary))]),t._v(" "),t.review.rating&&t.review.ratingAmount?a("el-tooltip",{attrs:{content:t.review.rating+" out of "+t.review.ratingAmount+" liked this review",placement:"top"}},[a("div",{staticClass:"votes"},[a("icon",{attrs:{icon:"thumbs-up",size:"sm"}}),t._v(" "+t._s(t.review.rating))],1)]):t._e()],1)])},Dt=[],Mt={props:["id"],computed:{review(){return this.$store.getters.entity("review",this.id)},media(){return this.$store.getters.entity("media",this.review.media)},user(){return this.$store.getters.entity("user",this.review.user)}}},Rt=Mt,Nt=(a("bb64"),Object(u["a"])(Rt,Lt,Dt,!1,null,"0369a0cf",null)),Ft=Nt.exports,Ut={components:{ReviewCard:Ft},mixins:[st["a"]],data(){return{refreshInterval:30,refreshMethod:"fetchRecentReviews"}},computed:{reviews(){return this.$store.getters.entityPagePreview("homeReviews")}},methods:{fetchRecentReviews(){var t=this;return Object(f["a"])(function*(){return yield t.$store.dispatch("home/fetchRecentReviews")})()}},created(){this.fetchRecentReviews()}},Vt=Ut,zt=(a("bd26"),Object(u["a"])(Vt,xt,Tt,!1,null,"5e04a156",null)),qt=zt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.media.NewAnime?a("div",[a("div",[a("router-link",{staticClass:"section-header link",attrs:{to:"/search/anime/trending",tag:"h2"}},[t._v("\n\t\t\tTrending Anime & Manga\n\t\t")]),t._v(" "),a("div",{staticClass:"media-preview"},t._l(t.trending,function(e){return a("media-preview-card",{key:e.id,attrs:{"media-id":e.id}},[e.trending?a("div",{attrs:{slot:"info-header"},slot:"info-header"},[t._v("\n\t\t\t\t\t"+t._s(e.trending)+" recently "+t._s(t.progressVerb(e))+"\n\t\t\t\t")]):t._e()])}),1)],1),t._v(" "),a("div",[a("router-link",{staticClass:"section-header link",attrs:{to:"/search/anime/new",tag:"h2"}},[t._v("\n\t\t\tNewly Added Anime\n\t\t")]),t._v(" "),a("div",{staticClass:"media-preview"},t._l(t.anime,function(t){return a("media-preview-card",{key:t.id,attrs:{"media-id":t.id}})}),1)],1),t._v(" "),a("div",[a("router-link",{staticClass:"section-header link",attrs:{to:"/search/manga/new",tag:"h2"}},[t._v("\n\t\t\tNewly Added Manga\n\t\t")]),t._v(" "),a("div",{staticClass:"media-preview"},t._l(t.manga,function(t){return a("media-preview-card",{key:t.id,attrs:{"media-id":t.id}})}),1)],1)]):t._e()},Ht=[],Gt={components:{MediaPreviewCard:Ot},mixins:[st["a"]],data(){return{refreshInterval:30,refreshMethod:"fetchMedia"}},computed:{media(){return this.$store.getters["home/media"]},trending(){return this.getMedia(this.media.Trending.media)},anime(){return this.getMedia(this.media.NewAnime.media)},manga(){return this.getMedia(this.media.NewManga.media)}},methods:{fetchMedia(){var t=this;return Object(f["a"])(function*(){return yield t.$store.dispatch("home/fetchMedia")})()},getMedia(t){return t.map(t=>this.$store.getters.entity("media",t))},progressVerb(t){return"NOT_YET_RELEASED"===t.status?"ANIME"===t.type?"planned to watch":"planned to read":"ANIME"===t.type?"watched":"read"}},created(){var t=this;return Object(f["a"])(function*(){yield t.$nextTick(),t.fetchMedia()})()}},Wt=Gt,Yt=(a("d551"),Object(u["a"])(Wt,Bt,Ht,!1,null,"796abd11",null)),Kt=Yt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.feed?a("div",{staticClass:"recent-threads"},[a("router-link",{staticClass:"section-header link",attrs:{tag:"h2",to:{name:"ForumFeed",params:{type:"overview"}}}},[t._v("\n\t\tForum Activity\n\t")]),t._v(" "),a("div",{staticClass:"forum-wrap"},t._l(t.feed,function(t){return a("thread-card",{key:t,attrs:{id:t,small:!0,"hide-preview":!0}})}),1)],1):t._e()},Jt=[],Xt=a("f7d7"),Zt={components:{ThreadCard:Xt["a"]},mixins:[st["a"]],data(){return{refreshInterval:15,refreshMethod:"fetchForumFeed"}},computed:{feed(){return this.$store.getters.entityPagePreview("homeThreads")}},methods:{fetchForumFeed(){var t=this;return Object(f["a"])(function*(){yield t.$store.dispatch("home/fetchForumFeed")})()}},created(){var t=this;return Object(f["a"])(function*(){yield t.$nextTick(),t.fetchForumFeed()})()}},te=Zt,ee=(a("507e"),Object(u["a"])(te,Qt,Jt,!1,null,"60c4a343",null)),ae=ee.exports,ie={name:"Home",components:{Ad:Y["a"],ActivityFeed:dt,ListPreview:Et,RecentReviews:qt,MediaPreview:Kt,ForumPreview:ae},mixins:[o["a"]],computed:{isDesktop(){return this.$store.state.screen.isDesktop},largeListPreview:{get(){return this.$store.getters["home/largeListPreview"]&&this.isDesktop},set(t){this.$store.commit("home/setLargeListPreview",t)}}},created(){this.largeListPreview="true"===localStorage.getItem("large-list-preview")},metaInfo(){return{title:this.$route.name}}},se=ie,re=(a("c39c"),Object(u["a"])(se,G,W,!1,null,"849a18b0",null)),ne=re.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"airing container"},[a("h1",[t._v("Your Airing Anime")]),t._v(" "),a("div",{staticClass:"wrap"},t._l(t.airingEntries,function(t){return a("media-card",{key:t.id,attrs:{"entity-id":t.id}})}),1)])},ce=[],le=a("bead"),de={components:{MediaCard:le["a"]},computed:{airingEntries(){const t=this.$store.getters.entityPagePreview("airing"),e=t.map(t=>this.$store.getters.entity("listEntry",t)),a=e.map(t=>this.$store.getters.entity("media",t.media)),i=a.filter(t=>"RELEASING"===t.status);return vt()(i,t=>{if(t.nextAiringEpisode)return t.nextAiringEpisode.timeUntilAiring})}},methods:{fetchAiringAnime(){var t=this;return Object(f["a"])(function*(){yield t.$store.dispatch("home/fetchAiringAnime",{userId:t.$store.getters["auth/viewer"].id})})()}},mounted(){this.fetchAiringAnime()},metaInfo:{title:"Your Airing Anime"}},ue=de,me=(a("eec5"),Object(u["a"])(ue,oe,ce,!1,null,"0cc4630c",null)),pe=me.exports;function ve(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function he(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var ge=[he({name:"Home",path:"/home",component:ne},H),he({name:"Airing",path:"/airing",component:pe},H),{name:"Social",path:"/social",component:ne}],fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.media.id?a("div",{staticClass:"media media-page-unscoped",class:{"media-anime":"ANIME"===t.media.type,"media-manga":"MANGA"===t.media.type}},[a("media-header",{attrs:{media:t.media}}),t._v(" "),a("div",{staticClass:"content container"},[a("div",{staticClass:"sidebar"},[a("rankings",{attrs:{rankings:t.media.rankings,type:t.media.type,preview:!0}}),t._v(" "),a("media-data",{attrs:{media:t.media}}),t._v(" "),t.media.tags?a("tags",{attrs:{media:t.media,tags:t.media.tags}}):t._e(),t._v(" "),t.auth&&"NOT_YET_RELEASED"!==t.media.status?a("router-link",{staticClass:"review button",attrs:{to:{name:"ReviewEditor",params:{mediaId:t.media.id}}}},[a("icon",{staticClass:"icon",attrs:{icon:"edit"}}),t._v(" "),a("span",[t._v("Write Review")])],1):t._e(),t._v(" "),t.auth?a("router-link",{staticClass:"review button edit",attrs:{to:"/edit/"+t.type.toLowerCase()+"/"+t.media.id}},[a("icon",{staticClass:"icon",attrs:{icon:"pencil-alt"}}),t._v(" "),a("span",[t._v("Edit")])],1):t._e(),t._v(" "),t.media.externalLinks?a("external-links",{attrs:{links:t.media.externalLinks}}):t._e()],1),t._v(" "),a("router-view",{attrs:{media:t.media}})],1)],1):t._e()},ye=[],be=a("9132"),_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-wrap"},[t.media.bannerImage||t.isMobile?a("div",{staticClass:"banner",style:t.bannerStyle},[a("div",{staticClass:"shadow"})]):t._e(),t._v(" "),a("div",{staticClass:"header"},[t.isDesktop?a("ad",{staticClass:"sense",attrs:{type:"media-aside"}}):t._e(),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"cover-wrap",class:{"overlap-banner":t.media.bannerImage}},[a("div",{staticClass:"cover-wrap-inner"},[a("img",{staticClass:"cover",attrs:{src:t.coverImage,onload:t.positionCover()}}),t._v(" "),t.media.isLocked?t._e():a("div",{staticClass:"actions"},[a("div",{staticClass:"list"},[a("div",{staticClass:"add",on:{click:t.openListEditor}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.status)+"\n\t\t\t\t\t\t\t")]),t._v(" "),a("el-dropdown",{staticClass:"dropdown",attrs:{size:"medium",trigger:"click"},on:{command:t.editListStatus}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},["FINISHED"==t.media.status?a("el-dropdown-item",{attrs:{command:"COMPLETED"}},[t._v("\n\t\t\t\t\t\t\t\t\t\tSet as Complete\n\t\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),"NOT_YET_RELEASED"!=t.media.status?a("el-dropdown-item",{attrs:{command:"CURRENT"}},[t._v("\n\t\t\t\t\t\t\t\t\t\tSet as "+t._s("ANIME"==t.media.type?"Watching":"Reading")+"\n\t\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),a("el-dropdown-item",{attrs:{command:"PLANNING"}},[t._v("Set as Planning")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"open",divided:""}},[t._v("Open List Editor")])],1)],1)],1),t._v(" "),a("favourite",{attrs:{id:t.media.id,type:t.media.type,"is-favourite":t.media.isFavourite}})],1)])]),t._v(" "),a("div",{staticClass:"content"},[a("h1",[t._v("\n\t\t\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t\t\t\t"),t.media.isLocked?[t._v("\n\t\t\t\t\t\t(Locked)\n\t\t\t\t\t")]:t._e()],2),t._v(" "),a("p",{staticClass:"description",domProps:{innerHTML:t._s(t.description)}}),t._v(" "),t.showReadMoreBtn?a("span",{staticClass:"description-length-toggle",on:{click:function(e){t.showFullDescription=!0}}},[t._v("\n\t\t\t\t\tRead More\n\t\t\t\t")]):t._e(),t._v(" "),a("div",{staticClass:"nav",on:{click:t.updateNavTransparency}},[a("router-link",{staticClass:"link",attrs:{to:{name:"MediaOverview",params:t.mediaParams},exact:""}},[t._v("\n\t\t\t\t\t\tOverview\n\t\t\t\t\t")]),t._v(" "),t.media.streamingEpisodes&&t.media.streamingEpisodes[0]?a("router-link",{staticClass:"link",attrs:{to:{name:"MediaWatch",params:t.mediaParams}}},[t._v("\n\t\t\t\t\t\tWatch\n\t\t\t\t\t")]):t._e(),t._v(" "),t.subPages.characters?a("router-link",{staticClass:"link",attrs:{to:{name:"MediaCharacters",params:t.mediaParams}}},[t._v("\n\t\t\t\t\t\tCharacters\n\t\t\t\t\t")]):t._e(),t._v(" "),t.subPages.staff?a("router-link",{staticClass:"link",attrs:{to:{name:"MediaStaff",params:t.mediaParams}}},[t._v("\n\t\t\t\t\t\tStaff\n\t\t\t\t\t")]):t._e(),t._v(" "),t.subPages.reviews?a("router-link",{staticClass:"link",attrs:{to:{name:"MediaReviews",params:t.mediaParams}}},[t._v("\n\t\t\t\t\t\tReviews\n\t\t\t\t\t")]):t._e(),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaStats",params:t.mediaParams}}},[t._v("\n\t\t\t\t\t\tStats\n\t\t\t\t\t")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaSocial",params:t.mediaParams}}},[t._v("\n\t\t\t\t\t\tSocial\n\t\t\t\t\t")])],1)])])],1)])},we=[],Ce=a("309d"),Oe=Ce["a"],$e=(a("cf12"),Object(u["a"])(Oe,_e,we,!1,null,"b5c85c0a",null)),ke=$e.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data"},["ANIME"===t.media.type&&t.media.nextAiringEpisode?a("div",{staticClass:"data-set airing-countdown"},[a("div",{staticClass:"type"},[t._v("Airing")]),t._v(" "),a("countdown",{staticClass:"value",attrs:{"airing-schedule":t.media.nextAiringEpisode,separator:": "}})],1):t._e(),t._v(" "),t.media.format?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Format")]),t._v(" "),a("div",{staticClass:"value"},[t._v("\n\t\t\t"+t._s(t._f("capitalizeFormat")(t.media.format))+"\n\t\t\t"),!1===t.media.isLicensed?[t._v("\n\t\t\t\t(Doujin)\n\t\t\t")]:t.countryOfOrigin?[t._v("\n\t\t\t\t("+t._s(t.countryOfOrigin)+")\n\t\t\t")]:t._e()],2)]):t._e(),t._v(" "),t.media.episodes?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Episodes")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.episodes))])]):t._e(),t._v(" "),t.media.duration?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},["MOVIE"!==t.media.format?a("span",[t._v("Episode")]):t._e(),t._v("\n\t\t\tDuration\n\t\t")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.duration))])]):t._e(),t._v(" "),t.media.chapters?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Chapters")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.chapters))])]):t._e(),t._v(" "),t.media.volumes?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Volumes")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.volumes))])]):t._e(),t._v(" "),t.media.status?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Status")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t._f("capitalize")(t.media.status)))])]):t._e(),t._v(" "),t.startDate&&t.startDate!==t.endDate?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Start Date")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.startDate))])]):t._e(),t._v(" "),t.endDate&&t.startDate!==t.endDate?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("End Date")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.endDate))])]):t._e(),t._v(" "),t.startDate&&t.startDate===t.endDate?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Release Date")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.startDate))])]):t._e(),t._v(" "),t.media.season&&t.media.seasonYear?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Season")]),t._v(" "),a("router-link",{staticClass:"value",attrs:{to:{name:"Search",params:{type:"anime"},query:{year:t.media.seasonYear+"%",season:t.media.season}}}},[t._v("\n\t\t\t"+t._s(t._f("capitalize")(t.media.season))+" "+t._s(t.media.seasonYear)+"\n\t\t")])],1):t._e(),t._v(" "),t.media.averageScore?a("el-tooltip",{attrs:{content:"Weighted",placement:"top-start"}},[a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Average Score")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.averageScore)+"%")])])]):t._e(),t._v(" "),t.media.meanScore?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Mean Score")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.meanScore)+"%")])]):t._e(),t._v(" "),t.media.popularity?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Popularity")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.popularity))])]):t._e(),t._v(" "),t.media.favourites?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Favorites")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.favourites))])]):t._e(),t._v(" "),t.mainStudios[0]?a("div",{staticClass:"data-set data-list"},[a("div",{staticClass:"type"},[t._v("Studios")]),t._v(" "),a("div",{staticClass:"value"},t._l(t.mainStudios,function(e,i){return a("span",{key:e.node.id},[a("router-link",{attrs:{to:{name:"Studio",params:t.formatStudioUrl(e.node)}}},[t._v("\n\t\t\t\t\t"+t._s(e.node.name)+"\n\t\t\t\t")]),t._v(" "),t.mainStudios[i+1]?a("br"):t._e()],1)}),0)]):t._e(),t._v(" "),t.producers[0]?a("div",{staticClass:"data-set data-list"},[a("div",{staticClass:"type"},[t._v("Producers")]),t._v(" "),a("div",{staticClass:"value"},t._l(t.producers,function(e,i){return a("span",{key:e.node.id},[a("router-link",{attrs:{to:{name:"Studio",params:t.formatStudioUrl(e.node)}}},[t._v(t._s(e.node.name))]),t.producers[i+1]?a("br"):t._e()],1)}),0)]):t._e(),t._v(" "),t.media.source?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Source")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t._f("capitalize")(t.media.source)))])]):t._e(),t._v(" "),t.media.hashtag?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Hashtag")]),t._v(" "),a("div",{staticClass:"value"},[a("a",{attrs:{href:t.hashTagUrl,target:"_blank"}},[t._v(t._s(t.media.hashtag))])])]):t._e(),t._v(" "),t.media.genres&&t.media.genres[0]?a("div",{staticClass:"data-set data-list"},[a("div",{staticClass:"type"},[t._v("Genres")]),t._v(" "),a("div",{staticClass:"value"},t._l(t.media.genres,function(e,i){return a("span",{key:e},[a("router-link",{attrs:{to:t.formatGenreUrl(e,t.media.type)}},[t._v("\n\t\t\t\t\t"+t._s(e)),t.media.genres[i+1]?a("span",[t._v(", ")]):t._e()])],1)}),0)]):t._e(),t._v(" "),t.media.title.romaji?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Romaji")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.title.romaji))])]):t._e(),t._v(" "),t.media.title.english?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("English")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.title.english))])]):t._e(),t._v(" "),t.media.title.native?a("div",{staticClass:"data-set"},[a("div",{staticClass:"type"},[t._v("Native")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.media.title.native))])]):t._e(),t._v(" "),t.media.synonyms&&t.media.synonyms[0]?a("div",{staticClass:"data-set data-list"},[a("div",{staticClass:"type"},[t._v("Synonyms")]),t._v(" "),a("div",{staticClass:"value"},t._l(t.media.synonyms,function(e,i){return a("span",{key:e},[t._v("\n\t\t\t\t"+t._s(e)),t.media.synonyms[i+1]?a("br"):t._e()])}),0)]):t._e()],1)},Pe=[],Ie=a("4260");function je(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Ae(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?je(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):je(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var Ee={props:["media"],components:{Countdown:ft["a"]},data(){return{startDate:null,endDate:null}},computed:{duration(){let t="";const e=Math.floor(this.media.duration/60),a=this.media.duration%60;return 0!==e&&(t+=e,t+=` hour${e>1?"s":""}`),0!==a&&(0!==e&&(t+=", "),t+=`${a} mins`),t},studios(){return this.media.studios?this.media.studios.edges.map(t=>Ae({},t,{node:this.$store.getters.entity("studio",t.node)})):[]},mainStudios(){return this.studios.filter(t=>t.isMain)},producers(){return this.studios.filter(t=>!t.isMain)},hashTagUrl(){const t=encodeURIComponent(this.media.hashtag).replace(/%20/g,"+OR ");return`https://twitter.com/search?q=${t}&src=typd`},countryOfOrigin(){if("JP"==this.media.countryOfOrigin)return!1;const t={CN:"Chinese",KR:"South Korean",TW:"Taiwanese"};return t[this.media.countryOfOrigin]}},mounted(){this.startDate=Object(Ie["c"])(this.media.startDate),this.endDate=Object(Ie["c"])(this.media.endDate)},updated(){this.startDate=Object(Ie["c"])(this.media.startDate),this.endDate=Object(Ie["c"])(this.media.endDate)}},xe=Ee,Te=(a("ec38"),Object(u["a"])(xe,Se,Pe,!1,null,"c657baee",null)),Le=Te.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.rankings?a("div",{staticClass:"rankings"},t._l(t.preview?t.rankingsPreview:t.rankings,function(e){return a("ranking",{key:e.id,attrs:{rank:e,type:t.type}})}),1):t._e()},Me=[],Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"ranking",class:t.rank.type.toLowerCase(),attrs:{to:t.url}},[a("icon",{staticClass:"icon",attrs:{icon:"RATED"==t.rank.type?"star":"heart",size:"xs"}}),t._v(" "),a("span",{staticClass:"rank-text"},[t._v(t._s(t.rankString))])],1)},Ne=[],Fe={props:["rank","type"],computed:{rankString(){let t=`#${this.rank.rank} ${this.rank.context}`;return this.rank.allTime?t:(this.rank.season&&(t+=` ${this.rank.season.toLowerCase()}`),t+=` ${this.rank.year}`,t)},url(){const t={name:"Search",params:{type:this.type.toLowerCase()},query:{sort:"RATED"==this.rank.type?"SCORE_DESC":"POPULARITY_DESC",format:this.rank.format}};return this.rank.year&&(t.query.year=this.rank.year+"%"),this.rank.season&&(t.query.season=this.rank.season),t}}},Ue=Fe,Ve=(a("5b56"),Object(u["a"])(Ue,Re,Ne,!1,null,"a6e466b2",null)),ze=Ve.exports,qe={components:{Ranking:ze},props:["rankings","preview","type"],computed:{rankingsPreview(){return this.rankings.slice(0,2)}}},Be=qe,He=(a("bf88"),Object(u["a"])(Be,De,Me,!1,null,"7cc43fc4",null)),Ge=He.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags"},[a("h2",[t._v("Tags "),t.auth?a("icon",{staticClass:"add-icon",attrs:{icon:"plus",size:"sm"},on:{click:t.openTagEditor}}):t._e()],1),t._v(" "),t._l(t.sortedTags,function(e){return a("tag",{key:e.id,attrs:{tag:e,type:t.media.type,"show-spoiler":t.showSpoilers,"media-id":t.media.id}})}),t._v(" "),t.spoilerCount>0?a("div",{staticClass:"spoiler-toggle",on:{click:t.toggleSpoilers}},[t._v("\n\t\tShow "+t._s(t.spoilerCount)+" spoiler tags\n\t")]):t._e(),t._v(" "),t.tags[0]?t._e():a("div",{staticClass:"add",on:{click:t.openTagEditor}},[t._v("No tags yet, add one?")]),t._v(" "),a("el-dialog",{attrs:{title:"Add Tag","custom-class":"media-tag-editor",visible:t.tagEditorActive&&!!t.allTags},on:{close:t.closeTagEditor}},[a("div",{staticClass:"label"},[t._v("Select a tag from the drop-down or type to create a new tag.")]),t._v(" "),a("el-select",{attrs:{placeholder:"Tags",filterable:"","allow-create":""},model:{value:t.editingTag.name,callback:function(e){t.$set(t.editingTag,"name",e)},expression:"editingTag.name"}},t._l(t.allTags,function(e){return e.isAdult?t._e():a("el-option",{key:e.name,attrs:{value:e.name}})}),1),t._v(" "),a("div",[a("el-checkbox",{model:{value:t.editingTag.isMediaSpoiler,callback:function(e){t.$set(t.editingTag,"isMediaSpoiler",e)},expression:"editingTag.isMediaSpoiler"}},[t._v("Is this tag a spoiler for the series?")])],1),t._v(" "),t.isNewTag?a("div",[a("div",{staticClass:"label"},[t._v("Tag Description")]),t._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"Description"},model:{value:t.editingTag.description,callback:function(e){t.$set(t.editingTag,"description",e)},expression:"editingTag.description"}})],1):t._e(),t._v(" "),a("div",{staticClass:"btn",on:{click:t.addTag}},[t._v("Submit")])],1)],2)},Ye=[],Ke=a("e772"),Qe=a.n(Ke),Je=a("4e4b"),Xe=a.n(Je),Ze=a("f3ad"),ta=a.n(Ze),ea=a("df33"),aa=a.n(ea),ia=a("93c6"),sa=a.n(ia),ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hide||t.deleted?t._e():a("div",{staticClass:"tag",class:{spoiler:t.isSpoiler}},[a("el-tooltip",{attrs:{content:t.tag.description,enterable:!1,placement:"top"}},[a("router-link",{staticClass:"name",attrs:{to:{name:"Search",params:{type:t.type.toLowerCase()},query:{genres:t.tag.name}}}},[t._v("\n\t\t\t"+t._s(t.tag.name)+"\n\t\t")])],1),t._v(" "),t.isDataMod()?a("span",{staticClass:"mod-options"},[a("icon",{staticClass:"icon delete",attrs:{icon:"trash"},on:{click:t.deleteTag}}),t._v(" "),a("icon",{staticClass:"icon toggle-spoiler",attrs:{icon:"exclamation"},on:{click:t.toggleSpoilerTag}})],1):t._e(),t._v(" "),a("div",{staticClass:"rank"},[t._v(t._s(t.newRank||t.tag.rank)+"%")]),t._v(" "),t.auth?a("el-dropdown",{staticClass:"vote-dropdown",attrs:{size:"medium",trigger:"click"},on:{command:t.vote}},[a("span",{staticClass:"el-dropdown-link"},[a("icon",{attrs:{icon:"sort",size:"sm"}})],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:5}},[t._v("Main Theme")]),t._v(" "),a("el-dropdown-item",{attrs:{command:4}},[t._v("Major Element")]),t._v(" "),a("el-dropdown-item",{attrs:{command:3}},[t._v("Moderate Element")]),t._v(" "),a("el-dropdown-item",{attrs:{command:2}},[t._v("Lesser Element")]),t._v(" "),a("el-dropdown-item",{attrs:{command:1}},[t._v("Minor Element")]),t._v(" "),a("el-dropdown-item",{attrs:{command:0}},[t._v("Not Relevant")])],1)],1):t._e()],1)},na=[],oa={props:{tag:{type:Object,required:!0},type:{type:String,required:!0},showSpoiler:{type:Boolean,default:!1},mediaId:{type:Number,default:!1}},components:{ElDropdown:at.a,ElDropdownMenu:tt.a,ElDropdownItem:X.a},mixins:[o["a"]],data(){return{newRank:null,deleted:!1,nowSpoiler:null}},computed:{hide(){return this.isSpoiler&&!this.showSpoiler},isSpoiler(){return this.tag.isMediaSpoiler||this.nowSpoiler}},methods:{vote(t){var e=this;return Object(f["a"])(function*(){const a=yield e.$store.dispatch("media/tagVote",{vote:t,mediaId:e.mediaId,tagId:e.tag.id});a&&(e.newRank=a)})()},toggleSpoilerTag(){var t=this;return Object(f["a"])(function*(){const e=null===t.nowSpoiler?t.tag.isMediaSpoiler:t.nowSpoiler,a=yield t.$store.dispatch("media/toggleSpoilerTag",{mediaId:t.mediaId,tagId:t.tag.id,isMediaSpoiler:!e});a&&(t.nowSpoiler=!e,t.$notify(`Tag spoiler set to ${t.nowSpoiler}`))})()},deleteTag(){var t=this;return Object(f["a"])(function*(){const e=yield t.$store.dispatch("media/deleteTag",{mediaId:t.mediaId,tagId:t.tag.id});t.deleted=e,t.$notify("Tag removed from media")})()}}},ca=oa,la=(a("8d43"),Object(u["a"])(ca,ra,na,!1,null,"202cfa27",null)),da=la.exports;function ua(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function ma(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ua(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ua(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var pa={props:["media","tags"],components:{Tag:da,ElDialog:aa.a,ElInput:ta.a,ElSelect:Xe.a,ElOption:Qe.a,ElCheckbox:b.a},mixins:[o["a"]],data(){return{showSpoilers:!1,tagEditorActive:!1,editingTag:{isMediaSpoiler:!1,description:""}}},computed:{sortedTags(){return sa()(this.tags,["rank"],["desc"])},spoilerCount(){return this.tags.filter(t=>t.isMediaSpoiler).length},allTags(){return this.$store.getters["media/allTags"]},isNewTag(){return!!this.editingTag.name&&!this.allTags.find(t=>t.name===this.editingTag.name)}},methods:{toggleSpoilers(){this.showSpoilers=!this.showSpoilers},openTagEditor(){var t=this;return Object(f["a"])(function*(){t.auth&&(t.allTags||(yield t.$store.dispatch("media/fetchAllTags")),t.tagEditorActive=!0)})()},closeTagEditor(){this.tagEditorActive=!1,this.resetTagEditor()},resetTagEditor(){this.editingTag={isMediaSpoiler:!1,description:""}},addTag(){var t=this;return Object(f["a"])(function*(){const e=t.isNewTag?"media/createTag":"media/addTag",a=yield t.$store.dispatch(e,ma({},t.editingTag,{mediaId:t.media.id}));a.error?t.$notify({type:"error",message:`Tag already denied or awaiting approval, reason: ${a.error.message}`}):(t.$notify({type:"success",message:"Your tag has been submitted and will be reviewed by a moderator shortly."}),t.closeTagEditor())})()}}},va=pa,ha=(a("dc9a"),a("c091"),Object(u["a"])(va,We,Ye,!1,null,"0aabe8cc",null)),ga=ha.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0!=t.links.length?a("div",{staticClass:"external-links"},[a("h2",[t._v("External & Streaming links")]),t._v(" "),t._l(t.sortedLinks,function(e,i){return a("a",{key:i,staticClass:"external-link",class:e.site,attrs:{href:t.formatUrl(e.url,e.site),target:"_blank"}},[t._v("\n\t\t"+t._s(e.site)+"\n\t")])})],2):t._e()},ya=[],ba=(a("55dd"),{props:["links"],computed:{sortedLinks(){return[...this.links].sort((t,e)=>{let a=t.site;return a===e.site?0:"Official Site"===a?1:"Twitter"===a?"Official Site"===e.site?-1:1:"Official Site"===e.site||"Twitter"===e.site?-1:a===e.site?0:a[0]>e.site[0]?-1:1}).reverse()}},methods:{formatUrl(t,e){return"Amazon"===e?`${t}?&_encoding=UTF8&tag=anilist07-20&linkCode=ur2&linkId=e4eedff3506c0bb7d93239fedc6a41e2&camp=1789&creative=9325`:t}}}),_a=ba,wa=(a("e8f1"),Object(u["a"])(_a,fa,ya,!1,null,"206afdb0",null)),Ca=wa.exports,Oa=a("4245"),$a=a.n(Oa),ka=a("5ad4");const Sa=t=>{if(!t)return null;const e=t.replace(/<(?:.|\n)*?>/gm,""),a=e.replace(/\(Source: .*\)/i,"");return a.trim()};function Pa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Ia(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Pa(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Pa(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const ja=be["a"].methods,Aa=t=>{switch(t){case"TV":case"TV_SHORT":case"OVA":case"ONA":case"SPECIAL":return"TVSeries";case"MOVIE":return"Movie";case"MANGA":case"NOVEL":case"ONE_SHOT":return"BookSeries";default:return"Product"}},Ea=t=>{if(!t||Object.values(t).filter(Boolean).length<3)return null;const e=String(t.day).padStart(2,"0"),a=String(t.month).padStart(2,"0");return`${t.year}-${a}-${e}`},xa=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stats.scoreDistribution;return e?e.reduce((t,e)=>t+e.amount,0):0},Ta=t=>{const e=s["a"].getters.entityPage(t.reviewPreview);return e.pageInfo.total},La=t=>{const e=s["a"].getters.entity("staff",t);if(!t||!e.id)return null;const a=e.name,i=e.image,r=ja.formatStaffUrl(e,!0);return{"@type":"Person","@id":`https://anilist.co${r}`,url:`https://anilist.co${r}`,name:a.full||`${a.first} ${a.last}`,givenName:a.first,familyName:a.last,image:i.large}},Da=t=>{const e=s["a"].getters.entity("studio",t);if(!t||!e.id)return null;const a=e.name,i=ja.formatStudioUrl(e,!0);return{"@type":"Organization","@id":`https://anilist.co${i}`,url:`https://anilist.co${i}`,name:a}},Ma=(t,e)=>{return!e||e.length<1?null:e.map(e=>t(e))},Ra=Ma.bind(null,La),Na=Ma.bind(null,Da),Fa=t=>{return t.studios?t.studios.edges.filter(t=>t.isMain):[]},Ua=t=>{return t.studios?t.studios.edges.filter(t=>!t.isMain):[]},Va=(t,e)=>{const a=Array.isArray(t)?t:[t],i=e.filter(t=>a.includes(t.role));return i.length?i.map(t=>t.node):null},za=t=>{const e=t.synonyms||[],a=Object.values(t.title),i=a.filter(e=>e!==t.title.romaji);return[...e,...i].filter(Boolean)},qa=t=>{if(!t)return null;const e=t%60,a=(t-e)/60;return 0===a?`PT${e}M`:a&&0===e?`PT${a}H`:`PT${a}H${e}M`},Ba=t=>t.tags.filter(t=>t.rank>50).map(t=>t.name),Ha=t=>{let e,a=null;const i=ja.formatMediaUrl(t,!0);t.meanScore&&(a={"@type":"AggregateRating",ratingValue:t.meanScore,ratingCount:xa(t)||null,reviewCount:Ta(t)||null,bestRating:100,worstRating:1});const r={"@type":Aa(t.format),name:t.title.romaji,alternateName:za(t),image:t.coverImage?t.coverImage.extraLarge:null,description:Sa(t.description),startDate:Ea(t.startDate),endDate:Ea(t.endDate),genre:t.genres,keywords:t.tags?Ba(t):[],countryOfOrigin:t.countryOfOrigin,aggregateRating:a};if(e={"@context":"http://schema.org","@type":"WebPage",breadcrumb:{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":`https://anilist.co/search/${t.type.toLowerCase()}`,url:`https://anilist.co/search/${t.type.toLowerCase()}`,name:Object(ka["capitalize"])(t.type)}},{"@type":"ListItem",position:2,item:{"@id":`https://anilist.co${i}`,url:`https://anilist.co${i}`,name:t.title.romaji,image:t.coverImage?t.coverImage.extraLarge:null}}]},mainEntity:Ia({},r)},"ANIME"===t.type){const a=s["a"].getters.entityPagePreview(`mediaCharacterPreview-${t.id}`),i=s["a"].getters.entityPagePreview(`mediaStaffPreview-${t.id}`),r={mainEntity:{numberOfEpisodes:t.episodes,productionCompany:Na(Fa(t).map(t=>t.node)),producer:Na(Ua(t).map(t=>t.node)),creator:t.studios?Na(t.studios.edges.map(t=>t.node)):null,actor:Ra(a.filter(t=>"MAIN"===t.role).map(t=>t.voiceActors[0])),director:Ra(Va("Director",i)),musicBy:Ra(Va("Music",i)),timeRequired:qa(t.duration)}};e=$a()({},e,r)}if("MOVIE"===t.format){const a={mainEntity:{dateCreated:Ea(t.startDate),duration:qa(t.duration)}};e=$a()({},e,a)}return e};function Ga(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Wa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ga(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ga(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var Ya={name:"media",components:{MediaHeader:ke,MediaData:Le,Rankings:Ge,Tags:ga,ExternalLinks:Ca},mixins:[o["a"]],props:{id:{type:[Number,String],required:!0},type:{type:String,required:!0}},computed:{media(){const t=this.$store.getters.entity("media",this.id);return t.id&&(this.$store.commit("setAdDisplay",!t.isAdult),this.addMissingUrlSlug(t.title.userPreferred)),t},structuredData(){try{if(!this.media.id)return;return Ha(this.media)}catch(t){}}},methods:{fetchMediaOverview(t){return this.displayAdult||(t.isAdult=!1),this.$store.dispatch("media/fetchMediaOverview",t)},addMissingUrlSlug(t){const e=this.$route,a=e.name,i=e.params,s=i.slug;if(!s&&a.startsWith("Media")){const e=be["a"].methods.urlSlug(t);if(!e)return;Ed.replace({name:a,params:Wa({},i,{slug:e})})}}},created(){this.fetchMediaOverview({id:this.id,type:this.type.toUpperCase()})},beforeRouteUpdate(t,e,a){"MediaOverview"===t.name&&this.fetchMediaOverview({id:t.params.id,type:t.params.type.toUpperCase()}),a()},serverPrefetch(){return this.fetchMediaOverview({id:this.id,type:this.type.toUpperCase()})},metaInfo(){if(!this.media.id)return{};if(this.media.isAdult)return{meta:[{name:"robots",content:"noindex"}]};const t=this.media.title,e=t.romaji,a=t.english,i=a&&a!==e,s=i?`${e} (${a})`:e;return{title:s,meta:[{property:"og:title",content:i?a:e},{property:"og:description",content:Sa(this.media.description)},{property:"og:image",content:`https://img.anili.st/media/${this.media.id}`},{property:"og:url",content:`https://anilist.co${this.$route.path}`},{name:"description",content:Sa(this.media.description)},{vmid:"twitter:card",name:"twitter:card",content:"summary_large_image"}],script:[{type:"application/ld+json",innerHTML:JSON.stringify(this.structuredData)}],link:[{rel:"canonical",href:`https://anilist.co${this.formatMediaUrl(this.media,!0)}`}],__dangerouslyDisableSanitizers:["script"]}}},Ka=Ya,Qa=(a("1ae8"),a("2c49"),Object(u["a"])(Ka,fe,ye,!1,null,"da429fba",null)),Ja=Qa.exports,Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview"},[a("div",{staticClass:"description-wrap"},[a("h2",[t._v("Description")]),t._v(" "),a("p",{staticClass:"description content-wrap",domProps:{innerHTML:t._s(t.media.description)}})]),t._v(" "),t.media.relations?a("relations",{attrs:{relations:t.media.relations}}):t._e(),t._v(" "),a("characters",{attrs:{"page-key":t.media.characterPreview,media:t.media}}),t._v(" "),a("ad",{key:"media-"+t.adKey,staticClass:"sense-wrap desktop above-fold",attrs:{type:"media"}}),t._v(" "),a("staff",{attrs:{"page-key":t.media.staffPreview,media:t.media}}),t._v(" "),t.media.stats?a("div",{staticClass:"grid-section-wrap"},[a("status-distribution",{staticClass:"status-distribution",attrs:{statuses:t.media.stats.statusDistribution,media:t.media}}),t._v(" "),t.media.stats.scoreDistribution&&t.media.stats.scoreDistribution[4]?a("score-distribution-graph",{attrs:{media:t.media,"score-data":t.media.stats.scoreDistribution}}):t._e()],1):t._e(),t._v(" "),t.hasStreamingEpisodes?a("watch",{attrs:{episodes:t.media.streamingEpisodes,media:t.media}}):t._e(),t._v(" "),a("div",{staticClass:"grid-section-wrap"},[t.media.trailer?a("trailer",{attrs:{trailer:t.media.trailer}}):t._e(),t._v(" "),a("following",{attrs:{pagnate:!1,"per-page":4,media:t.media}})],1),t._v(" "),t.media.recommendations?a("recommendations",{attrs:{"page-key":t.media.recommendations,media:t.media}}):t._e(),t._v(" "),a("div",{staticClass:"grid-section-wrap"},[a("threads",{attrs:{id:t.media.id,pagnate:!1,"per-page":2,media:t.media}}),t._v(" "),a("reviews",{attrs:{"page-key":t.media.reviewPreview,media:t.media}})],1),t._v(" "),a("ad",{key:"media-footer-"+t.adKey,staticClass:"sense-wrap footer",attrs:{type:"media-footer"}})],1)},Za=[],ti=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0!=t.relations.edges.length?a("div",{staticClass:"relations",class:{small:!t.smallRelationView}},[a("h2",[t._v("Relations")]),t._v(" "),a("div",{class:{"grid-wrap":t.smallRelationView}},t._l(t.sortedRelations.edges,function(e){return a("media-preview-card",{key:e.id,attrs:{"media-id":e.node,showInfo:t.smallRelationView}},[a("div",{attrs:{slot:"image-text"},slot:"image-text"},[t._v(t._s(t._f("capitalize")(e.relationType)))]),t._v(" "),a("div",{attrs:{slot:"info-header"},slot:"info-header"},[t._v(t._s(t._f("capitalize")(e.relationType)))])])}),1)]):t._e()},ei=[],ai={components:{MediaPreviewCard:Ot},props:["relations"],computed:{sortedRelations(){const t=this.relations.edges.slice(),e=["ADAPTATION","PREQUEL","SEQUEL","PARENT","ALTERNATIVE","SIDE_STORY","SPIN_OFF","SUMMARY","CHARACTER","OTHER"];return t.sort((t,a)=>{return e.indexOf(t.relationType)-e.indexOf(a.relationType)}),{edges:t}},smallRelationView(){return this.relations.edges.length<4||!this.isDesktop},textRelationView(){return this.relations.edges.length>9},isDesktop(){return this.$store.state.screen.isDesktop}}},ii=ai,si=(a("dc39"),Object(u["a"])(ii,ti,ei,!1,null,"4650c4e0",null)),ri=si.exports,ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.characterPage[0]?a("div",{staticClass:"characters"},[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:{name:"MediaCharacters",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\tCharacters\n\t")]),t._v(" "),a("div",{staticClass:"grid-wrap",class:{"grid-wrap-half":t.excludeStaff}},t._l(t.characterPage,function(t){return a("role-card",{key:t.id,attrs:{"character-id":t.node,"staff-id":t.voiceActor,edge:{role:t.role}}})}),1)],1):t._e()},oi=[],ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"role-card",class:[t.roleType,t.cardSize]},[t.character.id?a("div",{staticClass:"character"},[a("router-link",{staticClass:"cover",style:t.coverImage(t.character.image.large),attrs:{to:{name:"Character",params:t.formatCharacterUrl(t.character)}}}),t._v(" "),a("router-link",{staticClass:"content",attrs:{to:{name:"Character",params:t.formatCharacterUrl(t.character)}}},[a("div",{staticClass:"name"},[t._v("\n\t\t\t\t"+t._s(t.character.name.full)+"\n\t\t\t")]),t._v(" "),t.edge.role&&!t.media.id?a("div",{staticClass:"role"},[t._v("\n\t\t\t\t"+t._s(t._f("capitalize")(t.edge.role))+"\n\t\t\t")]):t._e()])],1):t._e(),t._v(" "),t.staff.id?a("div",{staticClass:"staff"},[a("router-link",{staticClass:"cover",style:t.coverImage(t.staff.image.large),attrs:{to:{name:"Staff",params:t.formatStaffUrl(t.staff)}}}),t._v(" "),a("router-link",{staticClass:"content",attrs:{to:{name:"Staff",params:t.formatStaffUrl(t.staff)}}},[a("div",{staticClass:"name"},[t._v("\n\t\t\t\t"+t._s(t.staff.name.full)+"\n\t\t\t")]),t._v(" "),!t.edge.role||t.character.id||t.media.id?t.staff.language?a("div",{staticClass:"role"},[t._v("\n\t\t\t\t"+t._s(t._f("capitalize")(t.staff.language))+"\n\t\t\t")]):t._e():a("div",{staticClass:"role"},[t._v("\n\t\t\t\t"+t._s(t.edge.role)+"\n\t\t\t")])])],1):t._e(),t._v(" "),t.media.id?a("div",{staticClass:"media"},[a("router-link",{staticClass:"cover",style:t.coverImage(t.media.coverImage.large),attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}}),t._v(" "),a("router-link",{staticClass:"content",attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[a("div",{staticClass:"name"},[t._v("\n\t\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t\t")]),t._v(" "),t.edge.role?a("div",{staticClass:"role"},[t._v("\n\t\t\t\t"+t._s(t._f("capitalize")(t.edge.role))+"\n\t\t\t")]):t._e()])],1):t._e()])},li=[],di={props:["characterId","staffId","mediaId","edge","cardSize"],computed:{media(){return this.$store.getters.entity("media",this.mediaId)},character(){return this.$store.getters.entity("character",this.characterId)},staff(){return this.$store.getters.entity("staff",this.staffId)},roleType(){return this.characterId&&!this.mediaId?this.staffId?"view-character-staff":"view-character":this.mediaId?this.characterId?"view-media-character":this.staffId?"view-media-staff":"view-media":this.staffId?"view-staff":"hide"}},methods:{coverImage(t){return{"background-image":`url(${t})`}}}},ui=di,mi=(a("1641"),Object(u["a"])(ui,ci,li,!1,null,"60205b72",null)),pi=mi.exports;function vi(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function hi(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?vi(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):vi(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var gi={components:{RoleCard:pi},props:["pageKey","excludeStaff","media"],computed:{characterPage(){const t=this.$store.getters.entityPagePreview(this.pageKey,6);return t.map(t=>hi({},t,{voiceActor:t.voiceActors.filter(t=>{const e=this.$store.getters.entity("staff",t);if(e.language&&"japanese"===e.language.toLowerCase())return t})[0]}))}}},fi=gi,yi=Object(u["a"])(fi,ni,oi,!1,null,null,null),bi=yi.exports,_i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.staffPage[0]?a("div",{staticClass:"staff"},[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:{name:"MediaStaff",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\tStaff\n\t")]),t._v(" "),a("div",{staticClass:"grid-wrap"},t._l(t.staffPage,function(t){return a("role-card",{key:t.id,attrs:{"staff-id":t.node,edge:{role:t.role},"card-size":"small"}})}),1)],1):t._e()},wi=[],Ci={components:{RoleCard:pi},props:["pageKey","media"],computed:{staffPage(){return this.$store.getters.entityPagePreview(this.pageKey,8)}}},Oi=Ci,$i=Object(u["a"])(Oi,_i,wi,!1,null,null,null),ki=$i.exports,Si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.statuses&&!t.empty?a("div",[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:{name:"MediaStats",params:t.media?t.formatMediaUrl(t.media):{}}}},[t._v("\n\t\tStatus Distribution\n\t")]),t._v(" "),a("div",{staticClass:"status-distribution content-wrap"},[a("div",{staticClass:"statuses"},t._l(t.statusStats(5),function(e,i){return a("div",{key:e.status,staticClass:"status"},[a("div",{staticClass:"name",style:{background:t.statusColors[i]}},[t._v("\n\t\t\t\t\t"+t._s(t._f("capitalize")(e.status))+"\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"amount",style:{color:t.statusColors[i]}},[t._v("\n\t\t\t\t\t"+t._s(e.amount)+"\n\t\t\t\t\t"),a("span",{staticClass:"label"},[t._v("Users")])])])}),0),t._v(" "),a("div",{staticClass:"percentage-bar"},t._l(t.statusStats(6),function(e,i){return a("el-tooltip",{key:e.status,attrs:{content:t._f("capitalize")(e.status),placement:"top-start"}},[a("div",{staticClass:"percentage",class:e.status,style:{"min-width":e.percent,background:t.statusColors[i]}})])}),1)])],1):t._e()},Pi=[],Ii={props:["statuses","media"],data(){return{empty:!1,statusColors:["#68d639","#02A9FF","#9256f3","#f779a4","#E85D75","#F79A63"]}},methods:{getPercent(t,e,a){return(t-e)/(a-e)*100+"%"},statusStats(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=sa()(this.statuses,["amount"],["desc"]);null!==t&&(e=e.slice(0,t));let a=0;return e.map(t=>{a+=t.amount}),e.map(t=>{t.percent=this.getPercent(t.amount,0,a)}),e}},created(){this.empty=this.statuses.every(t=>0==t.amount)}},ji=Ii,Ai=(a("cbf5"),Object(u["a"])(ji,Si,Pi,!1,null,"e2bbc000",null)),Ei=Ai.exports,xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null==t.scoreData||t.empty?t._e():a("div",[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:{name:"MediaStats",params:t.media?t.formatMediaUrl(t.media):{}}}},[t._v("\n\t\tScore Distribution\n\t")]),t._v(" "),a("div",{ref:"chart",staticClass:"chart media-score-distribution"})],1)},Ti=[],Li=a("f898"),Di={props:["scoreData","media"],data(){return{chart:null,empty:!1,labels:[],dataSet:[],options:{width:"100%",height:"103px",showGrid:!1,seriesBarDistance:0,chartPadding:{top:20,right:10,bottom:5,left:10},axisX:{offset:20,showGrid:!1,scaleMinSpace:1,labelOffset:{x:0,y:5}},axisY:{showLabel:!1,offset:0,showGrid:!1}}}},methods:{createDataSet(){this.scoreData.map(t=>{this.labels.push(t.score),this.dataSet.push(t.amount)})},renderChart(){this.chart=new Li["a"].Bar(this.$refs.chart,{labels:this.labels,series:[this.dataSet]},this.options),this.chart.on("draw",t=>{"bar"===t.type&&t.element.attr({style:`stroke: hsl(${t.axisX.ticks[t.index]}, 65%, 50%)`,"stroke-linecap":"round"})}),Object(Li["b"])(this.chart)}},mounted(){null!=this.scoreData&&(this.empty=!this.scoreData.some(t=>0!==t.score),this.empty||(this.createDataSet(),this.renderChart()))}},Mi=Di,Ri=(a("84fd"),Object(u["a"])(Mi,xi,Ti,!1,null,null,null)),Ni=Ri.exports,Fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.reviewPage[0]?a("div",{staticClass:"reviews"},[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:{name:"MediaReviews",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\tReviews\n\t")]),t._v(" "),a("div",{staticClass:"review-wrap"},t._l(t.reviewPage,function(t){return a("review-card",{key:t.id,staticClass:"review",attrs:{"review-id":t}})}),1)],1):t._e()},Ui=[],Vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.review.id&&t.user.id?a("div",{staticClass:"review-card"},[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.user.avatar.large,expression:"user.avatar.large",arg:"background-image"}],staticClass:"user",attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}}),t._v(" "),a("router-link",{staticClass:"content",attrs:{to:{name:"Review",params:{id:t.review.id}}}},[a("div",{staticClass:"summary"},[t._v(t._s(t.review.summary))]),t._v(" "),t.review.rating&&t.review.ratingAmount?a("el-tooltip",{attrs:{content:t.review.rating+" out of "+t.review.ratingAmount+" liked this review",placement:"top"}},[a("div",{staticClass:"votes"},[a("icon",{attrs:{icon:"thumbs-up",size:"sm"}}),t._v(" "+t._s(t.review.rating))],1)]):t._e()],1)],1):t._e()},zi=[],qi={props:["reviewId"],computed:{review(){return this.$store.getters.entity("review",this.reviewId)},user(){return this.$store.getters.entity("user",this.review.user)}}},Bi=qi,Hi=(a("a8d6"),Object(u["a"])(Bi,Vi,zi,!1,null,"24561a98",null)),Gi=Hi.exports,Wi={components:{ReviewCard:Gi},props:["page-key","media"],computed:{reviewPage(){return this.$store.getters.entityPagePreview(this.pageKey,2)}}},Yi=Wi,Ki=(a("8ddf"),Object(u["a"])(Yi,Fi,Ui,!1,null,"fb3a207c",null)),Qi=Ki.exports,Ji=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0!=t.episodesPreview.length?a("div",{staticClass:"episodes"},[a("router-link",{staticClass:"link",attrs:{tag:"h2",to:{name:"MediaWatch",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\tWatch\n\t")]),t._v(" "),a("div",{staticClass:"wrap"},t._l(t.episodesPreview,function(t,e){return a("episode",{key:e,attrs:{episode:t}})}),1)],1):t._e()},Xi=[],Zi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"episode",style:t.image,attrs:{href:t.episode.url,target:"_blank"}},[a("div",{staticClass:"title"},[t._v(t._s(t.episode.title))])])},ts=[],es={props:["episode"],computed:{image(){return{"background-image":`url(${this.episode.thumbnail.replace("http://","https://")})`}}}},as=es,is=(a("8756"),Object(u["a"])(as,Zi,ts,!1,null,"9944e3b6",null)),ss=is.exports,rs={props:["episodes","media"],components:{Episode:ss},computed:{episodesFiltered(){return this.episodes.filter(t=>!t.title.includes("PV")&&!t.title.includes("Trailer"))},episodesPreview(){return this.episodesFiltered.slice(0,4)}}},ns=rs,os=(a("dd6d"),Object(u["a"])(ns,Ji,Xi,!1,null,"f83a5146",null)),cs=os.exports,ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.trailer.id&&t.ready?a("div",{staticClass:"trailer"},[a("h2",[t._v("Trailer")]),t._v(" "),a("iframe",{staticClass:"video",attrs:{src:t.url,frameborder:"0",allowfullscreen:""}})]):t._e()},ds=[],us={props:{trailer:{type:Object,required:!0}},data(){return{ready:!1}},computed:{url(){return"youtube"==this.trailer.site?`https://www.youtube.com/embed/${this.trailer.id}`:`https://www.dailymotion.com/embed/video/${this.trailer.id}`}},methods:{mountIframe(){this.ready=!0}},watch:{trailer(t,e){t&&t.id===e.id||(this.ready=!1),t&&t.id!==e.id&&Object(Ie["j"])(this.mountIframe)}},mounted(){Object(Ie["j"])(this.mountIframe)}},ms=us,ps=(a("c49e"),Object(u["a"])(ms,ls,ds,!1,null,"cc58dc40",null)),vs=ps.exports,hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.auth?a("div",[t.show?a("router-link",{staticClass:"link",attrs:{tag:"h2",to:{name:"MediaSocial",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\tFollowing\n\t")]):t._e(),t._v(" "),a("div",{staticClass:"following"},[t.show?a("div",{class:{limit:!t.pagnate}},[t._l(t.following.pageData,function(e){return t._l(e,function(e){return a("follow-card",{key:e,attrs:{id:e,media:t.media}})})})],2):t._e(),t._v(" "),t.hasNextPage?a("scroll-load",{ref:"scroll",attrs:{action:t.fetchFollowing}}):t._e()],1)],1):t._e()},gs=[],fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user.id?a("router-link",{staticClass:"follow",attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.user.avatar.large,expression:"user.avatar.large",arg:"background-image"}],staticClass:"avatar"}),t._v(" "),a("div",{staticClass:"name"},[t._v(t._s(t.user.name))]),t._v(" "),a("div",{staticClass:"status"},[t._v(t._s(t._f("capitalizeListStatus")(t.entry.status,t.media.type)))]),t._v(" "),"POINT_3"===t.user.mediaListOptions.scoreFormat?[t.entry.score&&0!==t.entry.score&&t.faces[t.entry.score]?a("icon",{attrs:{icon:["far",t.faces[t.entry.score]],size:"lg"}}):t._e()]:t.entry.score?a("span",[t._v("\n\t\t"+t._s(t.entry.score)),t.usingStarScoreSystem?a("icon",{staticClass:"icon",attrs:{icon:"star"}}):[t._v(t._s(t.scoreTotal))]],2):t._e()],2):t._e()},ys=[],bs={props:["id","media"],data(){return{faces:{1:"frown",2:"meh",3:"smile"}}},computed:{entry(){return this.$store.getters.entity("listEntry",this.id)},user(){return this.$store.getters.entity("user",this.entry.user)},scoreTotal(){const t=this.user.mediaListOptions.scoreFormat;return"POINT_100"===t?"/100":"/10"},usingStarScoreSystem(){return"POINT_5"===this.user.mediaListOptions.scoreFormat}}},_s=bs,ws=(a("4523"),Object(u["a"])(_s,fs,ys,!1,null,"69b91520",null)),Cs=ws.exports,Os={props:{media:{type:Object,required:!0},pagnate:{type:Boolean,default:!0},perPage:{type:Number,default:40}},mixins:[o["a"],it["a"]],components:{FollowCard:Cs},computed:{following(){return this.$store.getters.entityPage(`mediaFollowing-${this.media.id}`,this.page)},show(){const t=this.following.pageData;return!!t&&(0!==Object.keys(t).length&&(t[1]&&0!==Object.keys(t[1]).length))}},methods:{fetchFollowing(){var t=this;return Object(f["a"])(function*(){const e=yield t.$store.dispatch("media/fetchFollowing",{id:t.media.id,page:t.page,perPage:t.perPage});t.hasNextPage=!!t.pagnate&&e})()}}},$s=Os,ks=(a("820c"),Object(u["a"])($s,hs,gs,!1,null,"3b804d90",null)),Ss=ks.exports,Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"link"},[a("router-link",{attrs:{to:{name:"MediaSocial",params:t.media?t.formatMediaUrl(t.media):{}}}},[t._v("\n\t\t\tThreads\n\t\t")]),t._v(" "),t.show&&!t.loading?a("router-link",{staticClass:"create",attrs:{to:"/forum/thread/editor/new?mediaId="+t.id}},[t._v("\n\t\t\tCreate New Thread\n\t\t")]):t._e()],1),t._v(" "),a("div",{staticClass:"threads"},[t.show?a("div",{staticClass:"thread-wrap",class:{limit:!t.pagnate}},[t._l(t.threads.pageData,function(e){return t._l(e,function(t){return a("thread-card",{key:t,attrs:{id:t,small:!0,"hide-preview":!0}})})})],2):t.loading?t._e():a("div",{staticClass:"thread-wrap"},[a("router-link",{staticClass:"no-threads",attrs:{to:"/forum/thread/editor/new?mediaId="+t.id}},[t._v("\n\t\t\t\tNo forum threads yet, create one?\n\t\t\t")])],1),t._v(" "),t.hasNextPage?a("scroll-load",{ref:"scroll",attrs:{action:t.fetchThreads}}):t._e()],1)])},Is=[],js={props:{id:{type:Number,required:!0},pagnate:{type:Boolean,default:!0},perPage:{type:Number,default:40},media:{type:Object}},components:{ThreadCard:Xt["a"]},mixins:[it["a"]],computed:{threads(){return this.$store.getters.entityPage(`forumFeed-recent-{"media":${this.id}}`,this.page)},show(){const t=this.threads.pageData;return!!t&&(0!==Object.keys(t).length&&(t[1]&&0!==Object.keys(t[1]).length))}},methods:{fetchThreads(){var t=this;return Object(f["a"])(function*(){const e=yield t.$store.dispatch("media/fetchThreads",{id:t.id,page:t.page,perPage:t.perPage});t.hasNextPage=!!t.pagnate&&e})()}}},As=js,Es=(a("9757"),Object(u["a"])(As,Ps,Is,!1,null,"19b948c8",null)),xs=Es.exports,Ts=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"recommendations"},[a("h2",[t._v("\n\t\tRecommendations\n\t\t"),a("div",{staticClass:"view-all"},[t.auth&&t.recommendations[0]?a("div",{staticClass:"add",on:{click:function(e){t.dialogVisible=!0}}},[t._v("\n\t\t\t\t+ "),t.isMobile?t._e():[t._v("Add")]],2):t._e(),t._v(" "),t.total>t.columns?a("div",{staticClass:"toggle",on:{click:function(e){t.showAll=!t.showAll}}},[t.showAll?[t._v("View Less")]:[t._v("\n\t\t\t\t\tView All "+t._s(t.total)+" recommendations\n\t\t\t\t")]],2):t._e()])]),t._v(" "),a("div",{ref:"wrap",staticClass:"wrap"},[t.recommendations[0]?[t._l(t.recommendations,function(e){return a("recommendation-card",{key:e,attrs:{id:e,"root-media-id":t.media.id}})}),t._v(" "),t.hasNextPage&&(t.showAll||t.isMobile)?a("scroll-load",{ref:"scroll",attrs:{action:t.fetchRecommendations,"scroll-container":t.isMobile?"wrap":null}}):t._e()]:a("div",{staticClass:"add-card",on:{click:function(e){t.dialogVisible=!0}}},[t._v("\n\t\t\tAdd Recommendation\n\t\t\t"),a("icon",{staticClass:"icon",attrs:{icon:"plus"}})],1)],2),t._v(" "),t.auth?a("recommendation-creator",{attrs:{"root-media":t.media,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}}):t._e()],1):t._e()},Ls=[],Ds=a("e9a8"),Ms=a.n(Ds),Rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.media.id?a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.hideCoverOverlay,expression:"hideCoverOverlay"}],staticClass:"recommendation-card"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.media.coverImage.extraLarge||t.media.coverImage.large,expression:"media.coverImage.extraLarge || media.coverImage.large",arg:"background-image"}],staticClass:"cover",on:{click:t.showCoverOverlay}},[t.coverLinkActive?[a("router-link",{staticClass:"cover-link",attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}}),t._v(" "),a("div",{staticClass:"rating-wrap"},[a("div",{staticClass:"actions"},[a("div",{staticClass:"icon thumbs-up",class:{active:"RATE_UP"==t.recommendation.userRating},on:{click:function(e){return t.rate("RATE_UP")}}},[a("icon",{attrs:{icon:"thumbs-up"}})],1),t._v(" "),a("div",{staticClass:"icon thumbs-down",class:{active:"RATE_DOWN"==t.recommendation.userRating},on:{click:function(e){return t.rate("RATE_DOWN")}}},[a("icon",{attrs:{icon:"thumbs-down"}})],1)]),t._v(" "),a("div",{staticClass:"rating",class:{"small-text":t.recommendation.rating>999}},[t._v("\n\t\t\t\t\t"+t._s(t.recommendation.rating>0?"+":"")+t._s(t.recommendation.rating)+"\n\t\t\t\t")])])]:t._e(),t._v(" "),t.isMod()?a("div",{staticClass:"remove",on:{click:t.remove}},[a("icon",{attrs:{icon:"times",size:"sm"}})],1):t._e()],2),t._v(" "),a("router-link",{attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[a("div",{staticClass:"title"},[a("v-clamp",{attrs:{"max-lines":2}},[t._v("\n\t\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t\t")])],1)])],1):t._e()},Ns=[],Fs=a("3f87"),Us=a("c7db"),Vs={props:["id","rootMediaId"],mixins:[o["a"],Us["mixin"]],components:{VClamp:Fs["a"]},data(){return{displayCoverOverlay:!1}},computed:{recommendation(){return this.$store.getters.entity("recommendation",this.id)},media(){return this.$store.getters.entity("media",this.recommendation.mediaRecommendation)},user(){return this.$store.getters.entity("user",this.recommendation.user)},isMobile(){return this.$store.state.screen.isMobile},coverLinkActive(){return!this.isMobile||this.displayCoverOverlay}},methods:{showCoverOverlay(){this.displayCoverOverlay=!0},hideCoverOverlay(){this.displayCoverOverlay=!1},rate(t){var e=this;return Object(f["a"])(function*(){t===e.recommendation.userRating&&(t="NO_RATING"),yield e.$store.dispatch("recommendation/saveRecommendation",{id:e.recommendation.id,rating:t,mediaId:e.rootMediaId,mediaRecommendationId:e.media.id})})()},remove(){var t=this;return Object(f["a"])(function*(){try{yield t.$confirm(`Are you sure you want to delete this recommendation by ${t.user.name}?`,"Warning")}catch(e){return}yield t.$store.dispatch("recommendation/deleteRecommendation",{id:t.recommendation.id})})()}}},zs=Vs,qs=(a("8ae1"),Object(u["a"])(zs,Rs,Ns,!1,null,"21e20f8e",null)),Bs=qs.exports,Hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"Add Recommendation",visible:t.dialogVisible,"custom-class":"add-recommendation-modal",top:"5vh"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-input",{attrs:{placeholder:t.placeholder,autofocus:""},on:{submit:t.fetchSearchResults,change:t.fetchSearchResults,input:t.fetch},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),t._v(" "),a("div",{staticClass:"results"},t._l(t.results,function(e){return a("div",{key:e.id,staticClass:"media",on:{click:function(a){return t.add(e.id)}}},[e.id?[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.coverImage.extraLarge||e.coverImage.large,expression:"media.coverImage.extraLarge || media.coverImage.large",arg:"background-image"}],staticClass:"cover"},[a("div",{staticClass:"overlay"},[a("icon",{staticClass:"icon",attrs:{icon:"plus"}})],1)]),t._v(" "),a("div",{staticClass:"title"},[t._v("\n\t\t\t\t\t"+t._s(e.title.userPreferred)+" ("+t._s(t._f("capitalizeFormat")(e.format))+")\n\t\t\t\t")])]:t._e()],2)}),0),t._v(" "),""!==t.searchQuery&&!t.results[0]&&t.loaded?a("div",{staticClass:"results"},[t._v("\n\t\tNo Results\n\t")]):t._e()],1)},Gs=[],Ws=a("eedf"),Ys=a.n(Ws),Ks=a("b047"),Qs=a.n(Ks);function Js(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Xs(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Js(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Js(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var Zs={props:["visible","rootMedia"],components:{ElDialog:aa.a,ElInput:ta.a,ElButton:Ys.a},data(){return{searchQuery:"",loaded:!1,saving:!1}},computed:{results(){const t=`${this.rootMedia.type}-"rec-${this.searchQuery}"`;return this.$store.getters.entityPagePreview(t).map(t=>this.$store.getters.entity("media",t))},dialogVisible:{get(){return this.visible},set(t){this.$emit("update:visible",t)}},placeholder(){const t=this.rootMedia,e=t.type,a=t.format;let i="MUSIC"===a?a:e;return"NOVEL"===a&&(i="light novels"),`Search ${i.toLowerCase()}`}},methods:{fetch:Qs()(function(t){this.fetchSearchResults()},300),fetchSearchResults(){var t=this;return Object(f["a"])(function*(){t.loaded=!1;const e=t.rootMedia,a=e.type,i=e.format,s=e.isAdult,r={};"NOVEL"!==i&&"MUSIC"!==i||(r.format=i),yield t.$store.dispatch("search/fetchSearch",{type:a,page:1,routeQuery:`rec-${t.searchQuery}`,variableOverrides:Xs({[isNaN(t.searchQuery)?"search":"id"]:t.searchQuery,type:a,isAdult:s,sort:"SEARCH_MATCH"},r)}),t.loaded=!0})()},add(t){var e=this;return Object(f["a"])(function*(){e.saving||(e.saving=!0,yield e.$store.dispatch("recommendation/saveRecommendation",{rating:"RATE_UP",mediaId:e.rootMedia.id,mediaRecommendationId:t,new:!0}),e.searchQuery="",e.dialogVisible=!1,yield e.$nextTick(),e.saving=!1)})()}},watch:{searchQuery(){this.loaded=!1}}},tr=Zs,er=(a("db67"),Object(u["a"])(tr,Hs,Gs,!1,null,null,null)),ar=er.exports,ir={props:["pageKey","media"],mixins:[o["a"],it["a"]],components:{RecommendationCard:Bs,RecommendationCreator:ar},data(){return{dialogVisible:!1,showAll:!1,columns:4}},computed:{recommendations(){const t=this.$store.getters.entityPage(`mediaRecommendations-${this.media.id}`,this.page),e=t.pageData?t.pageData:[];return(this.showAll||this.isMobile)&&e[1]?Ms()(e,t=>t):this.$store.getters.entityPagePreview(this.pageKey,this.columns)},total(){const t=this.$store.getters.entityPage(this.pageKey,1);return t.pageInfo?t.pageInfo.total:0},isMobile(){return this.$store.state.screen.isMobile},show(){const t=this.media,e=t.type,a=t.status,i=t.isRecommendationBlocked,s=t.isLocked;return!i&&!s&&"NOT_YET_RELEASED"!==a&&(("ANIME"!==e||"CANCELLED"!==a)&&!(!this.recommendations[0]&&!this.auth))}},methods:{fetchRecommendations(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("media/fetchMediaChild",{variables:{id:t.media.id,page:t.page},type:"recommendations"})})()}},mounted(){this.isMobile?this.columns=7:this.$refs.wrap&&(this.columns=Math.floor(this.$refs.wrap.clientWidth/150))}},sr=ir,rr=(a("1da0"),Object(u["a"])(sr,Ts,Ls,!1,null,"7153b6d2",null)),nr=rr.exports,or={props:["media"],components:{Relations:ri,Characters:bi,Staff:ki,StatusDistribution:Ei,ScoreDistributionGraph:Ni,Reviews:Qi,Watch:cs,Trailer:vs,Following:Ss,Threads:xs,Recommendations:nr,Ad:Y["a"]},data(){return{adKey:Math.random()}},computed:{isDesktop(){return this.$store.state.screen.isDesktop},hasStreamingEpisodes(){if(!this.media.streamingEpisodes||!this.media.streamingEpisodes[0])return!1;if(!this.media.externalLinks)return!1;const t=this.media.externalLinks.find(t=>{let e=t.site;return"Crunchyroll"===e});return Boolean(t)}},watch:{"media.id"(){this.adKey=Math.random()}}},cr=or,lr=(a("8241"),Object(u["a"])(cr,Xa,Za,!1,null,"515ea5f2",null)),dr=lr.exports,ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.media.streamingEpisodes[0]?a("div",{staticClass:"watch"},t._l(t.media.streamingEpisodes,function(t,e){return a("episode",{key:e,attrs:{episode:t}})}),1):t._e()},mr=[],pr={props:["media"],components:{Episode:ss}},vr=pr,hr=(a("a1b9"),Object(u["a"])(vr,ur,mr,!1,null,"7e52d138",null)),gr=hr.exports,fr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-characters"},[a("div",{staticClass:"language-select"},[t.languages[1]?a("el-select",{attrs:{placeholder:"Language"},model:{value:t.selectedLanguage,callback:function(e){t.selectedLanguage=e},expression:"selectedLanguage"}},t._l(t.languages,function(e){return a("el-option",{key:e,attrs:{label:t._f("capitalize")(e),value:t._f("capitalize")(e)}})}),1):t._e()],1),t._v(" "),t.characters.pageData?a("div",{staticClass:"grid-wrap",class:{"grid-wrap-half":"manga"===t.$parent.type}},[t._l(t.characters.pageData,function(e){return t._l(e,function(e){return a("role-card",{key:e.node,attrs:{"character-id":e.node,"staff-id":t.getVoiceActor(e.voiceActors),edge:{role:e.role}}})})})],2):t._e(),t._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:t.fetchMediaCharacters}})],1)},yr=[],br={name:"mediaCharacters",props:["media"],components:{RoleCard:pi,ElSelect:Xe.a,ElOption:Qe.a},mixins:[it["a"]],data(){return{availableLanguages:{},selectedLanguage:"Japanese"}},computed:{characters(){return this.$store.getters.entityPage(`mediaCharacters-${this.media.id}`,this.page)},languages(){return Object.keys(this.availableLanguages)}},methods:{fetchMediaCharacters(t){var e=this;return Object(f["a"])(function*(){e.hasNextPage=yield e.$store.dispatch("media/fetchMediaChild",{variables:{id:e.media.id,type:e.media.type.toUpperCase(),page:e.page},type:"characters"})})()},getVoiceActor(t){return t.filter(t=>{const e=this.$store.getters.entity("staff",t);return!!e.language&&(this.$set(this.availableLanguages,e.language,!0),e.language.toLowerCase()===this.selectedLanguage.toLowerCase()?t:void 0)})[0]}}},_r=br,wr=(a("15f5"),Object(u["a"])(_r,fr,yr,!1,null,"5ced9dce",null)),Cr=wr.exports,Or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-staff"},[t.staff.pageData?a("div",{staticClass:"grid-wrap"},[t._l(t.staff.pageData,function(e){return t._l(e,function(t){return a("role-card",{key:t.id,attrs:{"staff-id":t.node,edge:{role:t.role}}})})})],2):t._e(),t._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:t.fetchStaff}})],1)},$r=[],kr={name:"mediaStaff",props:["media"],components:{RoleCard:pi},mixins:[it["a"]],computed:{staff(){return this.$store.getters.entityPage(`mediaStaff-${this.media.id}`,this.page)}},methods:{fetchStaff(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("media/fetchMediaChild",{variables:{id:t.media.id,type:t.media.type.toUpperCase(),page:t.page},type:"staff"})})()}}},Sr=kr,Pr=(a("a871"),Object(u["a"])(Sr,Or,$r,!1,null,"93143b7e",null)),Ir=Pr.exports,jr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-reviews"},[t.reviews.pageData?a("div",{staticClass:"review-wrap"},[t._l(t.reviews.pageData,function(e){return t._l(e,function(t){return a("review-card",{key:t,attrs:{"review-id":t}})})})],2):t._e(),t._v(" "),t.hasNextPage?a("scroll-load",{ref:"scroll",attrs:{action:t.fetchReviews,limit:2,paused:t.paused},on:{"update:paused":function(e){t.paused=e}}}):t._e(),t._v(" "),!t.loading&&t.reviews.pageInfo&&0==t.reviews.pageInfo.total?a("div",{staticClass:"no-reviews"},[t._v("\n\t\tNo reviews yet ｡ﾟヽ(ﾟ´Д｀)ﾉﾟ｡\n\t")]):t._e()],1)},Ar=[],Er={props:["media"],components:{ReviewCard:Gi},mixins:[it["a"]],computed:{reviews(){return this.$store.getters.entityPage(`mediaReviews-${this.media.id}`,this.page)}},methods:{fetchReviews(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("media/fetchMediaChild",{variables:{id:t.media.id,page:t.page},type:"reviews"})})()}}},xr=Er,Tr=(a("d1c1"),Object(u["a"])(xr,jr,Ar,!1,null,"51cb9ae0",null)),Lr=Tr.exports,Dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.media.id?a("div",{staticClass:"media-stats"},[t.media.rankings&&t.media.rankings[0]?[a("h2",[t._v("Rankings")]),t._v(" "),a("div",{staticClass:"rankings-wrap"},[a("rankings",{staticClass:"graph",attrs:{rankings:t.media.rankings,type:t.media.type,preview:!1}})],1)]:t._e(),t._v(" "),t.recentActivity[2]?[a("h2",[t._v("Recent Activity Per Day")]),t._v(" "),a("stats-graph",{staticClass:"graph",attrs:{stats:t.recentActivity,label:"date",value:"trending",limit:24}})]:t._e(),t._v(" "),t.airingTrends[2]&&"ANIME"===t.media.type?[a("h2",[t._v("Airing Score Progression")]),t._v(" "),a("stats-graph",{staticClass:"graph",attrs:{stats:t.airingTrends,label:"episode",value:"averageScore",limit:24}})]:t._e(),t._v(" "),t.airingTrends[2]&&"ANIME"===t.media.type?[a("h2",[t._v("Airing Watchers Progression")]),t._v(" "),a("stats-graph",{staticClass:"graph",attrs:{stats:t.airingTrends,label:"episode",value:"inProgress",limit:24}})]:t._e(),t._v(" "),t.media.distribution?[t.media.distribution.status?a("status-distribution",{staticClass:"graph status-distribution",attrs:{statuses:t.media.distribution.status}}):t._e(),t._v(" "),t.media.distribution.score&&t.media.distribution.score[2]?a("score-distribution-graph",{staticClass:"graph",attrs:{"score-data":t.media.distribution.score}}):t._e()]:t._e()],2):t._e()},Mr=[],Rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.stats&&t.stats[2]&&!t.empty?a("div",{ref:"chart",staticClass:"chart stats-graph"}):t._e()},Nr=[],Fr={props:["stats","label","value","limit"],data(){return{chart:null,empty:!1,labels:[],dataSet:[],options:{width:"100%",showArea:!0,lineSmooth:Li["a"].Interpolation.cardinal({tension:3}),chartPadding:{top:20,right:25,bottom:0,left:15}}}},methods:{createDataSet(){this.stats.slice(0).reverse().map(t=>{t[this.value]&&null!=t[this.label]&&(this.labels.push(t[this.label]),this.dataSet.push(t[this.value]))})},limittedData(){let t=this.dataSet,e=this.labels;return this.limit&&this.limit<t.length&&(t=t.slice(t.length-this.limit,t.length),e=e.slice(e.length-this.limit,e.length)),{dataSet:t,labels:e}},renderChart(){let t=this.limittedData(),e=t.dataSet,a=t.labels,i=this.options;i.high=Math.max.apply(Math,e)+5,this.chart=new Li["a"].Line(this.$refs.chart,{labels:a,series:[e]},this.options),Object(Li["b"])(this.chart)}},mounted(){null!=this.stats&&(this.createDataSet(),this.renderChart())}},Ur=Fr,Vr=(a("8825"),Object(u["a"])(Ur,Rr,Nr,!1,null,null,null)),zr=Vr.exports;function qr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Br(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?qr(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qr(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var Hr={props:["media","id"],components:{Rankings:Ge,StatusDistribution:Ei,ScoreDistributionGraph:Ni,StatsGraph:zr},computed:{stats(){return{}},trends(){return this.$store.getters.entityPagePreview(this.media.trends)},airingTrends(){return this.$store.getters.entityPagePreview(this.media.airingTrends)},recentActivity(){return this.trends.map(t=>{let e=new Date(1e3*t.date).getUTCDate();return Br({},t,{date:`${e}${this.daySuffix(e)}`})})}},methods:{fetchStats(){var t=this;return Object(f["a"])(function*(){yield t.$store.dispatch("media/fetchStats",{id:t.media.id})})()},daySuffix(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},created(){this.fetchStats()}},Gr=Hr,Wr=(a("f653"),Object(u["a"])(Gr,Dr,Mr,!1,null,"126d7c30",null)),Yr=Wr.exports,Kr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"social"},[a("div",{staticClass:"activity-feed"},[a("h2",[t._v("Recent Activity")]),t._v(" "),t.activity.pageData?[t._l(t.activity.pageData,function(e,i){return t._l(e,function(t,e){return a("activity",{key:i+"-"+e,attrs:{id:t}})})})]:t._e(),t._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:t.fetchActivity,limit:2,paused:t.paused},on:{"update:paused":function(e){t.paused=e}}})],2),t._v(" "),t.media.id?a("div",[a("threads",{attrs:{id:t.media.id}}),t._v(" "),a("following",{attrs:{media:t.media}})],1):t._e()])},Qr=[],Jr={props:["media"],components:{Activity:rt["default"],Following:Ss,Threads:xs},mixins:[it["a"]],computed:{activity(){return this.$store.getters.entityPage(`mediaActivity-${this.media.id}`,this.page)}},methods:{fetchActivity(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("media/fetchActivity",{id:t.media.id,page:t.page,type:t.type})})()}}},Xr=Jr,Zr=(a("6471"),Object(u["a"])(Xr,Kr,Qr,!1,null,"3190611e",null)),tn=Zr.exports,en=[{path:"/:type(anime|manga)/:id(\\d+)/:slug?",component:Ja,props:!0,children:[{name:"MediaOverview",path:"",component:dr},{name:"MediaWatch",path:"watch",component:gr,meta:{scrollToAnchor:!0}},{name:"MediaCharacters",path:"characters",component:Cr,meta:{scrollToAnchor:!0}},{name:"MediaStaff",path:"staff",component:Ir,meta:{scrollToAnchor:!0}},{name:"MediaReviews",path:"reviews",component:Lr,props:!0,meta:{scrollToAnchor:!0}},{name:"MediaStats",path:"stats",component:Yr,props:!0,meta:{scrollToAnchor:!0}},{name:"MediaSocial",path:"social",component:tn,meta:{scrollToAnchor:!0}}]}],an=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user.id?a("div",{staticClass:"user user-page-unscoped",class:t.profileColor,style:t.customProfileColor},[a("user-header",{attrs:{user:t.user}}),t._v(" "),a("div",{staticClass:"content container"},[a("router-view",{attrs:{user:t.user}})],1)],1):t._e()},sn=[],rn=a("aca2"),nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-wrap"},[a("div",{staticClass:"banner",style:t.bannerStyle},[a("div",{staticClass:"shadow"}),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"banner-content"},[t.user.avatar?a("img",{staticClass:"avatar",attrs:{src:t.user.avatar.large}}):t._e(),t._v(" "),a("h1",{staticClass:"name"},[t._v(t._s(t.user.name))]),t._v(" "),t.user.moderatorStatus?a("div",{staticClass:"mod-badge"},[t._v("\n\t\t\t\t\t"+t._s(t.user.moderatorStatus)+"\n\t\t\t\t")]):t._e(),t._v(" "),t.user.isFollower?a("div",{staticClass:"mod-badge follower-badge"},[t._v("\n\t\t\t\t\tFollows You\n\t\t\t\t")]):t._e(),t._v(" "),a("div",{staticClass:"actions"},[t.auth&&t.auth.id!==t.user.id?a("div",{staticClass:"nav-btn",on:{click:t.toggleFollow}},t._l(t.followingVerbs,function(e,i){return a("span",{key:i},[t._v(t._s(e))])}),0):t._e(),t._v(" "),t.user.donatorTier?a("div",{staticClass:"nav-btn donator-badge"},[t._v(t._s(t.user.donatorBadge))]):t._e(),t._v(" "),t.auth&&t.auth.id!==t.user.id?a("el-dropdown",{staticClass:"dropdown",attrs:{placement:"bottom",size:"small",trigger:"click"},on:{command:t.dropdownAction}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-arrow-down"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"block"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.user.isBlocked?"Unblock":"Block")+"\n\t\t\t\t\t\t\t")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"report"}},[t._v("\n\t\t\t\t\t\t\t\tReport\n\t\t\t\t\t\t\t")])],1)],1):t._e()],1)])])]),t._v(" "),a("div",{staticClass:"nav-wrap"},[a("div",{staticClass:"nav container"},[a("router-link",{staticClass:"link",attrs:{id:"anchor",to:{name:"UserOverview",params:t.userParams},exact:""}},[t._v("\n\t\t\t\tOverview\n\t\t\t")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaList",params:{user:t.user.name,type:"anime"}}}},[t._v("\n\t\t\t\tAnime List\n\t\t\t")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaList",params:{user:t.user.name,type:"manga"}}}},[t._v("\n\t\t\t\tManga List\n\t\t\t")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"UserFavourites",params:{user:t.user.name}}}},[t._v("\n\t\t\t\tFavorites\n\t\t\t")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:t.userStatsLink}},[t._v("\n\t\t\t\tStats\n\t\t\t")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"UserSocial",params:t.userParams}}},[t._v("\n\t\t\t\tSocial\n\t\t\t")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"UserReviews"}}},[t._v("\n\t\t\t\tReviews\n\t\t\t")]),t._v(" "),t.auth.id===t.user.id||t.isDataMod()?a("router-link",{staticClass:"link",attrs:{to:{name:"UserSubmissions"}}},[t._v("\n\t\t\t\tSubmissions\n\t\t\t")]):t._e(),t._v(" "),t.isMod()?a("router-link",{staticClass:"link",attrs:{to:{name:"UserModeration"}}},[t._v("\n\t\t\t\tModeration\n\t\t\t")]):t._e()],1)])])},on=[],cn={props:["user"],components:{ElDropdown:at.a,ElDropdownMenu:tt.a,ElDropdownItem:X.a},mixins:[o["a"]],data(){return{loadingFollow:!1}},computed:{bannerStyle(){return{"background-image":`url(${this.user.bannerImage})`}},followingVerbs(){return this.user.isFollowing?["Following","Unfollow"]:["Follow","Follow"]},userParams(){return this.formatUserUrl(this.user)},userStatsLink(){const t=this.user,e=t.name,a=t.statistics;return{name:"UserStatsOverview",params:{user:e,type:a&&a.anime&&a.anime.count?"anime":"manga"}}}},methods:{toggleFollow(){var t=this;return Object(f["a"])(function*(){if(!t.auth)return void t.$notify({type:"error",message:"You need to be logged in to follow a user"});if(t.loadingFollow)return;t.loadingFollow=!0;const e=yield t.$store.dispatch("user/toggleFollow",t.user.id);e&&t.$notify({type:"success",message:`${t.user.name} ${t.user.isFollowing?"followed":"unfollowed"}`}),t.loadingFollow=!1})()},dropdownAction(t){"block"==t?this.toggleBlock():"report"==t&&this.reportUser()},toggleBlock(){var t=this;return Object(f["a"])(function*(){yield t.$store.dispatch("user/toggleBlock",t.user.id)})()},reportUser(){this.$prompt("Reason for report","Report User",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(t=>{this.$store.dispatch("user/createReport",{userId:this.user.id,reason:t.value})})}}},ln=cn,dn=(a("f0fc"),Object(u["a"])(ln,nn,on,!1,null,"5445dac8",null)),un=dn.exports,mn={name:"User",props:{id:{type:[Number,String],required:!0}},components:{UserHeader:un},mixins:[o["a"]],computed:{user(){const t=this.$store.getters.entity("userName",this.id.toLowerCase()).id||this.id;return this.$store.getters.entity("user",t)},profileColor(){if(!this.user.options)return;const t=this.user.options.profileColor;return[t,{"custom-color":t.startsWith("#")}]},customProfileColor(){if(!this.user.options)return;const t=this.user.options.profileColor;if(this.user.donatorTier>1&&"#"===t[0]){const e=Object(rn["convert"])(t).rgb,a=Object(rn["contrast"])(.7,t).rgb;return`\n\t\t\t\t--color-blue: ${e.r}, ${e.g}, ${e.b}; \n\t\t\t\t--color-blue-dim: ${a.r}, ${a.g}, ${a.b};`}}},methods:{getUserOverview(t){return this.$store.dispatch("user/fetchOverview",t)},getUserIdObject(t){return isNaN(t)||0===parseInt(t,10)?{name:t}:{id:t}}},created(){this.getUserOverview(this.getUserIdObject(this.id))},beforeRouteUpdate(t,e,a){this.getUserOverview(this.getUserIdObject(t.params.id)),a()},serverPrefetch(){return this.getUserOverview(this.getUserIdObject(this.id))},metaInfo(){return this.user.id&&this.user.avatar?{title:`${this.user.name}'s profile`,meta:[{property:"og:title",content:this.user.name},{property:"og:description",content:`${this.user.name}'s AniList user profile`},{property:"og:image",content:`https://img.anili.st/user/${this.user.id}`},{property:"og:url",content:`https://anilist.co${this.$route.path}`},{vmid:"twitter:card",name:"twitter:card",content:"summary_large_image"}],link:[{rel:"canonical",href:`https://anilist.co${this.formatUserUrl(this.user,!0)}`}]}:{}}},pn=mn,vn=(a("97e9"),Object(u["a"])(pn,an,sn,!1,null,null,null)),hn=vn.exports,gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview"},[a("div",{staticClass:"section"},[t.user.about?a("div",{staticClass:"about"},[a("div",{staticClass:"content-wrap"},[a("markdown",{attrs:{markdown:t.user.about}})],1)]):t._e(),t._v(" "),t.user.stats&&t.user.stats.activityHistory?a("activity-history",{staticClass:"desktop",attrs:{"activity-history":t.user.stats.activityHistory}}):t._e(),t._v(" "),t.user.statistics?a("genre-overview",{staticClass:"desktop",attrs:{stats:t.user.statistics}}):t._e(),t._v(" "),t.user.favourites?t._l(t.user.favourites,function(e,i){return a("favourite-section",{key:i,staticClass:"desktop",attrs:{"favourites-id":e,type:i,preview:!0,user:t.user}})}):t._e()],2),t._v(" "),a("div",{staticClass:"section"},[t.user.statistics?a("div",{staticClass:"stats-wrap",class:{"full-width":0==t.user.statistics.anime.count||0==t.user.statistics.manga.count}},[0!=t.user.statistics.anime.count?a("stats-preview",{attrs:{stats:t.user.statistics.anime,type:"anime"}}):t._e(),t._v(" "),0!=t.user.statistics.manga.count?a("stats-preview",{attrs:{stats:t.user.statistics.manga,type:"manga"}}):t._e()],1):t._e(),t._v(" "),a("activity-feed",{attrs:{user:t.user}})],1)])},fn=[],yn=a("e6e0"),bn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activity-feed-wrap"},[a("h2",{staticClass:"section-header"},[t._v("\n\t\tActivity\n\t\t"),a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.changeFeedType}},[a("span",{staticClass:"el-dropdown-link"},[t._v(" Filter"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:void 0}},[t._v("All")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"TEXT"}},[t._v("Status")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"MESSAGE"}},[t._v("Messages")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"MEDIA_LIST"}},[t._v("List")])],1)],1)],1),t._v(" "),t.auth?a("activity-editor",{attrs:{type:t.editorType,"recipient-id":t.user.id,"create-id":t.user.id},on:{refresh:t.refresh}}):t._e(),t._v(" "),a("div",{staticClass:"activity-feed"},[t._l(t.activityFeed.pageData,function(e){return t._l(e,function(e){return a("activity",{key:e,attrs:{id:e,small:!0},on:{refresh:t.refresh}})})})],2),t._v(" "),t.activityChanging?t._e():a("scroll-load",{ref:"scroll",attrs:{action:t.fetchActivity,limit:2,paused:t.paused},on:{"update:paused":function(e){t.paused=e}}})],1)},_n=[],wn={props:["user"],components:{Activity:rt["default"],ActivityEditor:nt["default"],ElDropdown:at.a,ElDropdownMenu:tt.a,ElDropdownItem:X.a},mixins:[it["a"],o["a"]],data(){return{type:void 0,activityChanging:!1}},computed:{activityFeed(){return this.$store.getters.entityPage(`userActivity-${this.type}-${this.user.id}`,this.page)},editorType(){return this.auth.id==this.user.id?"status":"message"}},methods:{fetchActivity(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("user/fetchActivity",{id:t.user.id,page:t.page,type:t.type})})()},changeFeedType(t){var e=this;return Object(f["a"])(function*(){e.activityChanging=!0,e.type=t,e.resetScrollLoader("activityChanging")})()},refresh(){var t=this;return Object(f["a"])(function*(){t.changeFeedType(),yield t.fetchActivity()})()}},watch:{user(t,e){e&&t.id===e.id||this.refresh()}}},Cn=wn,On=(a("3851"),Object(u["a"])(Cn,bn,_n,!1,null,"09492909",null)),$n=On.exports,kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.stats?a("div",{staticClass:"list-stats content-wrap"},[a("div",{staticClass:"stats-wrap"},t._l(t.typeStats,function(e,i){return a("div",{key:i,staticClass:"stat"},[a("div",{staticClass:"value"},[t._v(t._s(e.value))]),t._v(" "),a("div",{staticClass:"label"},[t._v(t._s(e.label))])])}),0),t._v(" "),a("div",{staticClass:"footer"},[a("div",{staticClass:"milestones"},t._l(t.progress.boundaries,function(e){return a("div",{key:e,staticClass:"milestone"},[t._v(t._s(e))])}),0),t._v(" "),a("div",{staticClass:"progress"},[a("div",{staticClass:"bar",style:{width:t.progress.percentage}})])])]):t._e()},Sn=[],Pn={props:["stats","type"],computed:{typeStats(){const t="anime"===this.type?this.animeStats:this.mangaStats;return t.filter(t=>0!=t.value).slice(0,3)},animeStats(){return[{label:"Total Anime",value:this.stats.count},{label:"Days Watched",value:this.minutesToDays(this.stats.minutesWatched)},{label:"Mean Score",value:this.stats.meanScore.toFixed(1)},{label:"Episodes Watched",value:this.stats.episodesWatched}]},mangaStats(){return[{label:"Total Manga",value:this.stats.count},{label:"Chapters Read",value:this.stats.chaptersRead},{label:"Mean Score",value:this.stats.meanScore.toFixed(1)},{label:"Volumes Read",value:this.stats.volumesRead}]},progress(){return"anime"===this.type?this.animeProgress:this.mangaProgress},animeProgress(){const t=this.minutesToDays(this.stats.minutesWatched),e={},a=[[0,12,1],[1,5,10],[10,30,50],[50,75,100]];if(e.boundaries=a.find(e=>{return t<e[2]}),e.boundaries)return e.percentage=this.progressPercent(t,e.boundaries[0],e.boundaries[2]),e;const i=100*Math.floor(t/100);return{boundaries:[i,i+50,i+100],percentage:this.progressPercent(t,i,i+100)}},mangaProgress(){const t=this.stats.chaptersRead,e={},a=[[0,50,100],[100,500,1e3],[1e3,3e3,5e3],[5e3,7500,1e4]];if(e.boundaries=a.find(e=>{return t<e[2]}),e.boundaries)return e.percentage=this.progressPercent(t,e.boundaries[0],e.boundaries[2]),e;const i=1e3*Math.floor(t/1e3);return{boundaries:[i,i+500,i+1e3],percentage:this.progressPercent(t,i,i+1e3)}}},methods:{minutesToDays:t=>{return(t/1440).toFixed(1)},progressPercent(t,e,a){return((t-e)/(a-e)*100).toFixed(1)+"%"}}},In=Pn,jn=(a("d7be"),a("6613"),Object(u["a"])(In,kn,Sn,!1,null,"815ccddc",null)),An=jn.exports,En=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.activityAmount,expression:"activityAmount != 0"}],on:{mouseleave:t.hideTooltip}},[a("h2",{staticClass:"section-header"},[t._v("Activity History")]),t._v(" "),a("tool-tip",{staticClass:"tooltip",attrs:{visible:t.tooltip.visible,parent:t.tooltip.parent,manual:!0}},[a("template",{slot:"title"},[t._v(t._s(t.tooltip.data.dateString))]),t._v(" "),a("template",{slot:"content"},[a("div",{staticClass:"circle",class:"lv-"+t.tooltip.data.level}),t._v("\n\t\t\tAmount: "+t._s(t.tooltip.data.amount)+"\n\t\t")])],2),t._v(" "),a("div",{staticClass:"activity-history content-wrap"},t._l(t.completeActivityHistory,function(e,i){return a("div",{key:i,ref:"day",refInFor:!0,staticClass:"history-day",class:"lv-"+e.level,on:{mouseenter:function(e){return t.showTooltip(i)}}})}),0)],1)},xn=[],Tn=a("4cb2"),Ln=a("5bcc");function Dn(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Mn(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Dn(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var Rn={props:["activityHistory"],components:{ToolTip:Tn["a"]},mixins:[Ln["a"]],data(){return{activityAmount:0}},computed:{completeActivityHistory(){const t=this.userActivityHistory(),e={level:0,amount:0};let a=+new Date,i=864e5,s=182+(new Date).getUTCDay(),r=[],n=null,o=a-s*i;for(let c=0;c<s;c++)n=new Date(o).toDateString(),"undefined"!==typeof t[n]?(r.push(t[n]),this.activityAmount++):r.push(e),o+=i;return r}},methods:{userActivityHistory(){let t={},e=null;return this.activityHistory.map(a=>{e=new Date(1e3*a.date).toDateString(),t[e]=Mn({},a,{dateString:e})}),t},showTooltip(t){const e=this.completeActivityHistory[t];e.amount&&(this.tooltip={visible:!0,parent:this.$refs.day[t],data:e})}},mounted(){this.$refs.day[0]&&(this.tooltip.parent=this.$refs.day[0])}},Nn=Rn,Fn=(a("7660"),Object(u["a"])(Nn,En,xn,!1,null,"514856af",null)),Un=Fn.exports,Vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.genres&&t.genres[0]?a("div",[a("h2",{staticClass:"section-header"},[t._v("Genre Overview")]),t._v(" "),a("div",{staticClass:"genre-overview content-wrap"},[a("div",{staticClass:"genres"},t._l(t.genreStats(5),function(e,i){return a("div",{key:e.genre,staticClass:"genre"},[a("div",{staticClass:"name",style:{background:t.genreColors[i]}},[t._v(t._s(e.genre))]),t._v(" "),a("div",{staticClass:"amount",style:{color:t.genreColors[i]}},[t._v("\n\t\t\t\t\t"+t._s(e.count)+"\n\t\t\t\t\t"),a("span",{staticClass:"label"},[t._v("Entries")])])])}),0),t._v(" "),a("div",{staticClass:"percentage-bar"},t._l(t.genreStats(6),function(e,i){return a("el-tooltip",{key:e.genre,attrs:{content:e.genre,placement:"top-start"}},[a("div",{staticClass:"percentage",class:e.genre,style:{"min-width":t.getPercent(e.count,t.total),background:t.genreColors[i]}})])}),1)])]):t._e()},zn=[],qn={props:["stats"],data(){return{total:0,genreColors:["#68d639","#02A9FF","#9256f3","#f779a4","#E85D75","#F79A63"]}},computed:{genres(){const t={},e=e=>{let a=e.genre,i=e.count;t[a]={genre:a,count:t[a]?i+t[a].count:i}};return this.stats.anime.genrePreview.forEach(e),this.stats.manga.genrePreview.forEach(e),Object.values(t)}},methods:{getPercent(t,e){const a=0;return(t-a)/(e-a)*100+"%"},genreStats(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e=sa()(this.genres,["count"],["desc"]);return e.slice(0,t)}},mounted(){this.total=0,this.genreStats(6).forEach(t=>{this.total+=t.count})}},Bn=qn,Hn=(a("1547"),Object(u["a"])(Bn,Vn,zn,!1,null,"aedb6876",null)),Gn=Hn.exports,Wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"favourites",class:{sorting:t.sorting,preview:t.preview},on:{mouseleave:t.hideTooltip}},[t.sortedFavourites.length?a("h2",{staticClass:"section-header"},[t._v("\n\t\t"+t._s(t.type)+"\n\t\t"),t.isAuthUser&&!t.preview?a("div",{staticClass:"actions"},[t.sorting?[a("div",{staticClass:"cancel",on:{click:t.cancelSorting}},[t._v("Cancel")]),t._v(" "),a("div",{on:{click:t.saveFavouriteOrder}},[t._v("Save Order")])]:a("div",{on:{click:function(e){t.sorting=!0}}},[t._v("Reorder")])],2):t.isAuthUser&&t.preview&&"anime"===t.type?a("div",{staticClass:"actions"},[a("router-link",{attrs:{to:{name:"UserFavourites",params:{user:t.user.name},query:{reorder:1}}}},[a("div",[t._v("Reorder")])])],1):t._e()]):t._e(),t._v(" "),t.sortedFavourites.length?[a("tool-tip",{staticClass:"tooltip",attrs:{visible:t.tooltip.visible,parent:t.tooltip.parent,manual:!0}},[a("template",{slot:"title"},[t._v(t._s(t.tooltip.data.name))]),t._v(" "),t.tooltip.data.info?a("template",{slot:"content"},[t._v(t._s(t.tooltip.data.info))]):t._e()],2),t._v(" "),a(t.sorting?"draggable":"div",{tag:"component",staticClass:"favourites-wrap",class:t.type,attrs:{list:t.sortedFavourites}},t._l(t.sortedFavourites,function(e,i){return a("favourite-card",{key:i,ref:"favourite",refInFor:!0,attrs:{id:e.node,type:t.type},nativeOn:{mouseenter:function(a){return t.showTooltip(e.node,i)}}})}),1)]:t._e(),t._v(" "),t.preview?t._e():a("scroll-load",{ref:"scroll",attrs:{action:t.fetchFavourites}})],2)},Yn=[],Kn=a("1516"),Qn=a.n(Kn),Jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("router-link",{staticClass:"favourite",class:t.entityType,style:t.image,attrs:{to:t.link,event:t.disabled?"":"click"}},["studios"===t.type?[t._v("\n\t\t"+t._s(t.entity.name)+"\n\t")]:t._e()],2):t._e()},Xn=[],Zn={props:["id","type","disabled"],mixins:[o["a"]],data(){return{entityTypeMap:{anime:"media",manga:"media",staff:"staff",characters:"character",studios:"studio"},linkTypeMap:{anime:"MediaOverview",manga:"MediaOverview",staff:"Staff",characters:"Character",studios:"Studio"}}},computed:{entity(){return this.$store.getters.entity(this.entityType,this.id)},entityType(){return this.entityTypeMap[this.type]},show(){return!!this.entity.id&&("anime"!==this.type&&"manga"!==this.type||(!this.entity.isAdult||this.displayAdult))},link(){const t=Object(ka["capitalize"])(this.entityType),e=`format${t}Url`;return{name:this.linkTypeMap[this.type],params:this[e](this.entity)}},image(){const t=this.entity.image||this.entity.coverImage;return t?{"background-image":`url(${t.large})`}:null}}},to=Zn,eo=(a("10d6"),Object(u["a"])(to,Jn,Xn,!1,null,"728ccf84",null)),ao=eo.exports,io={components:{FavouriteCard:ao,ToolTip:Tn["a"],Draggable:Qn.a},mixins:[o["a"],it["a"],Ln["a"]],props:["favouritesId","type","user","preview"],data(){return{sorting:!1,sortedFavourites:[],entityTypeMap:{anime:"media",manga:"media",staff:"staff",characters:"character",studios:"studio"}}},computed:{favourites(){return this.$store.getters.entityPage(this.favouritesId,this.page)},isAuthUser(){return this.auth&&this.user.id==this.auth.id}},methods:{fetchFavourites(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("user/fetchFavourites",{id:t.user.id,type:t.type,page:t.page,pageKey:t.favouritesId}),t.hasNextPage||t.$emit("loaded",t.type)})()},saveFavouriteOrder(){var t=this;return Object(f["a"])(function*(){const e="characters"==t.type||"studios"==t.type?t.type.slice(0,-1):t.type;yield t.$store.dispatch("user/updateFavouriteOrder",{[`${e}Ids`]:t.sortedFavourites.map(t=>t.node),[`${e}Order`]:t.sortedFavourites.map((t,e)=>e+1)}),t.sorting=!1,t.$notify({type:"success",message:"Favorites order saved"})})()},sortFavourites(){if(!this.favourites.pageData)return[];let t=[];if(this.prevew)t=this.favourites.pageData[1];else for(let e in this.favourites.pageData)t=t.concat(this.favourites.pageData[e]);this.sortedFavourites=vt()(t,t=>t.favouriteOrder)},cancelSorting(){this.sorting=!1,this.sortFavourites()},showTooltip(t,e){const a=this.entityTypeMap[this.type],i=this.$store.getters.entity(a,t);i.id&&!this.sorting&&"studio"!==a&&(this.tooltip={visible:!0,parent:this.$refs.favourite[e].$el,data:"media"===a?this.getMediaToolTipData(i):this.getToolTipData(i)})},getMediaToolTipData(t){const e=Object(ka["capitalizeFormat"])(t.format),a=t.startDate&&t.startDate.year?t.startDate.year+" ":"";return{name:t.title.userPreferred,info:`${a}${e}`}},getToolTipData(t){return{name:"string"===typeof t.name?t.name:t.name.full}}},watch:{favourites(t){t.pageData&&this.sortFavourites()}},created(){this.preview?this.page=1:this.$route.query.reorder&&this.isAuthUser&&(this.sorting=!0)},mounted(){this.$refs.favourite&&this.$refs.favourite[0]&&(this.tooltip.parent=this.$refs.favourite[0].$el)}},so=io,ro=(a("e161"),Object(u["a"])(so,Wn,Yn,!1,null,"45543a61",null)),no=ro.exports,oo={props:["user"],components:{Markdown:yn["a"],ActivityFeed:$n,StatsPreview:An,ActivityHistory:Un,GenreOverview:Gn,FavouriteSection:no},mixins:[o["a"]],metaInfo(){return this.user.id&&this.user.avatar?{title:`${this.user.name}'s profile`,meta:[{property:"og:title",content:this.user.name},{property:"og:description",content:`${this.user.name}'s AniList user profile`},{property:"og:image",content:`https://img.anili.st/user/${this.user.id}`},{property:"og:url",content:`https://anilist.co${this.$route.path}`}],link:[{rel:"canonical",href:`https://anilist.co${this.formatUserUrl(this.user,!0)}`}]}:{}}},co=oo,lo=(a("dd6a"),a("a825"),Object(u["a"])(co,gn,fn,!1,null,"5c30286e",null)),uo=lo.exports,mo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-reviews"},[t.reviews.pageData?a("div",{staticClass:"review-wrap"},[t._l(t.reviews.pageData,function(e){return t._l(e,function(t){return a("review-card",{key:t,attrs:{id:t}})})})],2):t._e(),t._v(" "),t.hasNextPage?a("scroll-load",{ref:"scroll",attrs:{action:t.fetchReviews,limit:2,paused:t.paused},on:{"update:paused":function(e){t.paused=e}}}):t._e(),t._v(" "),!t.loading&&t.reviews.pageInfo&&0==t.reviews.pageInfo.total?a("div",{staticClass:"no-reviews"},[t._v("\n\t\tNo reviews yet ｡ﾟヽ(ﾟ´Д｀)ﾉﾟ｡\n\t")]):t._e()],1)},po=[],vo={props:["user"],components:{ReviewCard:Ft},mixins:[it["a"]],computed:{reviews(){return this.$store.getters.entityPage(`userReviews-${this.user.id}`,this.page)}},methods:{fetchReviews(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("user/fetchReviews",{id:t.user.id,page:t.page})})()}}},ho=vo,go=(a("4036"),Object(u["a"])(ho,mo,po,!1,null,"5e6a17b4",null)),fo=go.exports,yo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-social user-social-unscoped"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"filter-group"},[a("div",{staticClass:"group-header"},[t._v("Social")]),t._v(" "),a("span",{class:{active:"following"==t.currentPage},on:{click:function(e){return t.setPage("following")}}},[t._v("\n\t\t\t\tFollowing\n\t\t\t")]),t._v(" "),a("span",{class:{active:"followers"==t.currentPage},on:{click:function(e){return t.setPage("followers")}}},[t._v("\n\t\t\t\tFollowers\n\t\t\t")]),t._v(" "),a("span",{class:{active:"forum-threads"==t.currentPage},on:{click:function(e){return t.setPage("forum-threads")}}},[t._v("\n\t\t\t\tForum Threads\n\t\t\t")]),t._v(" "),a("span",{class:{active:"forum-comments"==t.currentPage},on:{click:function(e){return t.setPage("forum-comments")}}},[t._v("\n\t\t\t\tForum Comments\n\t\t\t")])])]),t._v(" "),"following"==t.currentPage?a("follow",{key:"following",attrs:{id:t.user.id,type:"following"}}):"followers"==t.currentPage?a("follow",{key:"followers",attrs:{id:t.user.id,type:"followers"}}):"forum-threads"==t.currentPage?a("threads",{attrs:{id:t.user.id}}):"forum-comments"==t.currentPage?a("comments",{attrs:{id:t.user.id}}):t._e()],1)},bo=[],_o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-follow"},[t.follows.pageData?a("div",{staticClass:"wrap"},[t._l(t.follows.pageData,function(e){return t._l(e,function(e){return a("follow-card",{key:e,attrs:{id:e,"show-unfollow":t.showUnfollow}})})})],2):t._e(),t._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:t.fetchFollows}}),t._v(" "),!t.loading&&t.follows.pageInfo&&0==t.follows.pageInfo.total?a("div",{staticClass:"no-follows"},[t._v("\n\t\t"+t._s(t.noFollowsMessage)+" ｡ﾟヽ(ﾟ´Д｀)ﾉﾟ｡\n\t")]):t._e()],1)},wo=[],Co=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user.id&&t.user.avatar&&!t.unfollowed?a("div",{staticClass:"follow-card"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.user.avatar.large,expression:"user.avatar.large",arg:"background-image"}],staticClass:"avatar"},[a("router-link",{staticClass:"name",attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}},[t._v("\n\t\t\t"+t._s(t.user.name)+"\n\t\t")])],1),t._v(" "),t.showUnfollow?a("div",{staticClass:"unfollow",on:{click:t.unfollow}},[a("icon",{attrs:{icon:"times"}})],1):t._e()]):t._e()},Oo=[],$o={props:{id:{type:Number,required:!0},showUnfollow:{type:Boolean}},data(){return{unfollowed:!1}},computed:{user(){return this.$store.getters.entity("user",this.id)}},methods:{unfollow(){var t=this;return Object(f["a"])(function*(){const e=t.user,a=e.id,i=e.name;try{yield t.$confirm(`Are you sure you want to unfollow ${i}?`,"Warning")}catch(s){return}t.unfollowed=yield t.$store.dispatch("user/toggleFollow",a)})()}}},ko=$o,So=(a("9c4a"),Object(u["a"])(ko,Co,Oo,!1,null,"39573fe2",null)),Po=So.exports,Io={props:{id:{type:Number,required:!0},type:{type:String,required:!0}},mixins:[it["a"],o["a"]],components:{FollowCard:Po},computed:{follows(){return this.$store.getters.entityPage(`user${this.type}-${this.id}`,this.page)},noFollowsMessage(){return"following"===this.type?"Following 0 users":"No followers"},showUnfollow(){return"following"===this.type&&this.auth.id===this.id}},methods:{fetchFollows(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("user/fetchFollows",{id:t.id,type:t.type,page:t.page})})()}}},jo=Io,Ao=(a("a3bc"),Object(u["a"])(jo,_o,wo,!1,null,"844c46ec",null)),Eo=Ao.exports,xo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-threads"},[t.threads.pageData?a("div",{staticClass:"wrap"},[t._l(t.threads.pageData,function(e){return t._l(e,function(t){return a("thread-card",{key:t,attrs:{id:t}})})})],2):t._e(),t._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:t.fetchThreads}})],1)},To=[],Lo={props:{id:{type:Number,required:!0}},mixins:[it["a"]],components:{ThreadCard:Xt["a"]},computed:{threads(){return this.$store.getters.entityPage(`userThreads-${this.id}`,this.page)}},methods:{fetchThreads(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("user/fetchThreads",{id:t.id,page:t.page})})()}}},Do=Lo,Mo=(a("7fda"),Object(u["a"])(Do,xo,To,!1,null,"1931352b",null)),Ro=Mo.exports,No=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-comments"},[t.comments.pageData?a("div",{staticClass:"wrap"},[t._l(t.comments.pageData,function(e){return[t._l(e,function(e){return[t.thread(e).id?[a("router-link",{key:e+"-"+t.thread(e).id,staticClass:"title",attrs:{to:{name:"ForumThread",params:{id:t.thread(e).id}}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.thread(e).title)+"\n\t\t\t\t\t")]),t._v(" "),a("comment-card",{key:e,attrs:{id:e,depth:0,"hide-children":!0}})]:t._e()]})]})],2):t._e(),t._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:t.fetchComments}})],1)},Fo=[],Uo=a("49c6"),Vo={props:{id:{type:Number,required:!0}},mixins:[it["a"]],components:{CommentCard:Uo["a"]},computed:{comments(){return this.$store.getters.entityPage(`userComments-${this.id}`,this.page)}},methods:{fetchComments(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("user/fetchComments",{id:t.id,page:t.page})})()},thread(t){const e=this.$store.getters.entity("threadComment",t);return this.$store.getters.entity("thread",e.thread)}}},zo=Vo,qo=(a("6c2f"),Object(u["a"])(zo,No,Fo,!1,null,"ee1a47a4",null)),Bo=qo.exports,Ho={components:{Follow:Eo,Threads:Ro,Comments:Bo},props:["user"],data(){return{currentPage:"following"}},methods:{setPage(t){this.currentPage=t}}},Go=Ho,Wo=(a("d249"),Object(u["a"])(Go,yo,bo,!1,null,"310d8b7e",null)),Yo=Wo.exports,Ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user.id?a("div",{staticClass:"favourites"},t._l(t.sections,function(e,i){return a("favourite-section",{key:i,attrs:{"favourites-id":e,type:i,preview:!1,user:t.user},on:{loaded:t.setLoading}})}),1):t._e()},Qo=[],Jo={props:["user"],data(){return{types:["anime","manga","characters","staff","studios"],loading:{anime:!0,manga:!1,characters:!1,staff:!1,studios:!1}}},components:{FavouriteSection:no},computed:{sections(){const t={};return this.types.forEach(e=>{this.loading[e]&&(t[e]=`favourite${Object(ka["capitalize"])(e)}-${this.user.id}`)}),t}},methods:{setLoading(t){const e=this.types.indexOf(t),a=this.types[e+1];this.loading[a]=!0}}},Xo=Jo,Zo=Object(u["a"])(Xo,Ko,Qo,!1,null,null,null),tc=Zo.exports;const ec=()=>a.e("lists").then(a.bind(null,"4db7")),ac=()=>a.e("stats").then(a.bind(null,"2bd3")),ic=()=>a.e("stats").then(a.bind(null,"f1f8")),sc=()=>a.e("stats").then(a.bind(null,"50f3")),rc=()=>a.e("lists").then(a.bind(null,"9a7b")),nc=()=>Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"2795")),oc=()=>Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"d0f4"));var cc=[{path:"/user/:id/",component:hn,props:!0,children:[{name:"UserOverview",path:"",component:uo},{name:"MediaListCompare",path:":type(anime|manga)list/compare",component:rc,props:!0,meta:{scrollToAnchor:!0}},{name:"MediaList",path:":type(anime|manga)list/:section?",component:ec,props:t=>({id:t.params.id,type:t.params.type.toUpperCase(),section:t.params.section}),meta:{scrollToAnchor:!0}},{path:"stats",redirect:"stats/anime/overview"},{name:"UserStats",path:"stats/:type(anime|manga)/",component:ac,children:[{name:"UserStatsOverview",path:"overview",component:ic},{name:"UserStatsTable",path:":page",component:sc}]},{name:"UserReviews",path:"reviews",component:fo},{name:"UserSocial",path:"social",component:Yo},{name:"UserFavourites",path:"favorites",component:tc},{name:"UserSubmissions",path:"submissions",component:nc},{name:"UserModeration",path:"moderation",component:oc}]}];const lc=()=>a.e("staff").then(a.bind(null,"6859"));var dc=[{name:"Character",path:"/character/:id(\\d+)/:slug?",component:lc,props:!0}];const uc=()=>a.e("staff").then(a.bind(null,"8c33"));var mc=[{name:"Staff",path:"/staff/:id(\\d+)/:slug?",component:uc,props:!0}];const pc=()=>a.e("staff").then(a.bind(null,"94d9"));var vc=[{name:"Studio",path:"/studio/:id(\\d+)/:slug?",component:pc,props:!0}],hc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.review.id?a("div",{staticClass:"review"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.media.bannerImage,expression:"media.bannerImage",arg:"background-image"}],staticClass:"banner",class:{"no-image":!t.media.bannerImage}},[t.media.id?a("router-link",{staticClass:"title",attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\t\t"+t._s(t.media.title.userPreferred)+" "),t.review.private?a("span",[t._v("(Private)")]):t._e()]):t._e(),t._v(" "),t.user.id?a("router-link",{staticClass:"author",attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}},[t._v("\n\t\t\ta review by "+t._s(t.user.name)+"\n\t\t")]):t._e(),t._v(" "),a("div",{staticClass:"date"},[a("timeago",{attrs:{since:1e3*t.review.createdAt,"auto-update":60}})],1),t._v(" "),t.auth&&(t.auth.id==t.user.id||t.isMod())?a("router-link",{staticClass:"edit",attrs:{to:{name:"ReviewEditor",params:{mediaId:t.media.id,uId:t.user.id}}}},[t._v("\n\t\t\tEdit\n\t\t")]):t._e()],1),t._v(" "),t.review.body?a("div",{staticClass:"container"},[a("div",{staticClass:"body"},[a("markdown",{attrs:{markdown:t.review.body}}),t._v(" "),a("div",{staticClass:"score",class:t.scoreColor},[t._v("\n\t\t\t\t"+t._s(t.review.score)+"\n\t\t\t\t"),a("span",{staticClass:"total"},[t._v("/100")])])],1),t._v(" "),a("div",{staticClass:"rating"},[a("div",{staticClass:"actions"},[a("div",{staticClass:"icon",class:{active:"DOWN_VOTE"==t.review.userRating},on:{click:function(e){return t.rate("DOWN_VOTE")}}},[a("icon",{attrs:{icon:"thumbs-down"}})],1),t._v(" "),a("div",{staticClass:"icon",class:{active:"UP_VOTE"==t.review.userRating},on:{click:function(e){return t.rate("UP_VOTE")}}},[a("icon",{attrs:{icon:"thumbs-up"}})],1)]),t._v("\n\t\t\t"+t._s(t.review.rating)+" out of "+t._s(t.review.ratingAmount)+" users liked this review\n\t\t")])]):t._e()]):t._e()},gc=[],fc={name:"Review",props:["id"],components:{Markdown:yn["a"]},mixins:[o["a"]],computed:{review(){return this.$store.getters.entity("review",this.id)},media(){return this.$store.getters.entity("media",this.review.media)},user(){return this.$store.getters.entity("user",this.review.user)},scoreColor(){return this.review.score>=66?"green":this.review.score>=33?"orange":"red"}},methods:{fetchReview(t){var e=this;return Object(f["a"])(function*(){yield e.$store.dispatch("review/fetchReview",{id:t})})()},rate(t){t===this.review.userRating&&(t="NO_VOTE"),this.$store.dispatch("review/rate",{id:this.review.id,rating:t})}},created(){this.fetchReview(this.id)},beforeRouteUpdate(t,e,a){this.fetchReview(t.params.id),a()},serverPrefetch(){return this.fetchReview(this.id)},metaInfo(){if(!this.review.id||this.media.isAdult||!this.media.coverImage)return{};const t=this.media.title.userPreferred;return{title:`${this.user.name}'s review of ${t}`,meta:[{property:"og:title",content:`${t} Review`},{property:"og:description",content:`${this.user.name}'s review of ${t}`},{property:"og:image",content:this.media.coverImage.large},{property:"og:url",content:`https://anilist.co${this.$route.path}`}]}}},yc=fc,bc=(a("3638"),Object(u["a"])(yc,hc,gc,!1,null,"79936ac0",null)),_c=bc.exports,wc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recent-reviews container"},[t._m(0),t._v(" "),t.reviews.pageData?a("div",{staticClass:"review-wrap"},[t._l(t.reviews.pageData,function(e){return t._l(e,function(t){return a("review-card",{key:t,attrs:{id:t}})})})],2):t._e(),t._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:t.fetchReviews,limit:2,paused:t.paused},on:{"update:paused":function(e){t.paused=e}}})],1)},Cc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-wrap"},[a("h1",[t._v("Reviews")])])}],Oc={components:{ReviewCard:Ft},mixins:[it["a"]],computed:{reviews(){return this.$store.getters.entityPage("reviews",this.page)}},methods:{fetchReviews(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("review/fetchReviews",{page:t.page})})()}},metaInfo:{title:"Anime & Manga Reviews"}},$c=Oc,kc=(a("fffc"),Object(u["a"])($c,wc,Cc,!1,null,"ac4101ee",null)),Sc=kc.exports,Pc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?t._e():a("div",{staticClass:"review"},[a("div",{staticClass:"container"},[a("div",[a("div",{staticClass:"body editor"},[a("markdown-editor",{attrs:{markdown:t.review.body,input:t.input()},on:{update:function(e){return t.update("body",e)}}}),t._v(" "),a("el-input",{ref:"input",staticClass:"input",attrs:{type:"textarea",autosize:"",value:t.review.body,placeholder:"Write review"},on:{input:function(e){return t.update("body",e)}}})],1),t._v(" "),a("div",{staticClass:"form"},[a("h2",[t._v("Review Summary")]),t._v(" "),a("el-input",{staticClass:"input",attrs:{type:"textarea",autosize:"",value:t.review.summary,maxlength:120,placeholder:"Review summary"},on:{input:function(e){return t.update("summary",e)}}})],1),t._v(" "),a("div",{staticClass:"form"},[a("h2",[t._v("Score")]),t._v(" "),a("el-input-number",{attrs:{value:t.review.score,"controls-position":"right",min:0,max:100},on:{change:function(e){return t.update("score",e)}}})],1),t._v(" "),a("div",{staticClass:"form"},[a("el-checkbox",{attrs:{value:t.review.private},on:{input:function(e){return t.update("private",e)}}},[t._v("Private")])],1),t._v(" "),t._l(t.validation,function(e,i){return e.test?t._e():a("div",{key:i,staticClass:"validation"},[t._v("\n\t\t\t\t"+t._s(e.message)+"\n\t\t\t")])}),t._v(" "),a("div",{staticClass:"form"},[t.passesValidation?a("div",{staticClass:"save",on:{click:t.save}},[t._v("Save")]):t._e(),t._v(" "),t.review.id?a("div",{staticClass:"save delete",on:{click:t.deleteReview}},[t._v("Delete")]):t._e()])],2),t._v(" "),a("div",{staticClass:"body preview"},[a("markdown",{attrs:{markdown:t.review.body}})],1)])])},Ic=[],jc=a("e450"),Ac=a.n(jc),Ec=a("52d5");function xc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function Tc(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?xc(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):xc(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var Lc={name:"Review",props:["mediaId","uId"],components:{Markdown:yn["a"],MarkdownEditor:Ec["a"],ElInput:ta.a,ElInputNumber:Ac.a,ElCheckbox:b.a},mixins:[o["a"]],data(){return{loading:!0,saving:!1,reviewChanges:{},defaults:{body:"",summary:"",score:50,private:!1}}},computed:{review(){const t=Object.values(this.$store.state.entities.review).find(t=>{let e=t.user,a=t.media;return e==this.userId&&a==this.mediaId})||{};return Object(Ie["b"])(t,this.reviewChanges,this.defaults)},validation(){return[{test:this.review.body.length>2200,message:"Review must be greater than 2200 characters"},{test:this.review.summary.length>20&&this.review.summary.length<120,message:"Summary must be less than 120 characters and greater than 20 characters"}]},passesValidation(){return this.validation.every(t=>t.test)},userId(){const t=this.uId;return this.isMod()&&t?parseInt(t):this.auth.id}},methods:{update(t,e){const a=Tc({},this.reviewChanges);a[t]=e,this.reviewChanges=a},fetchReview(){var t=this;return Object(f["a"])(function*(){try{yield t.$store.dispatch("review/fetchReview",{mediaId:parseInt(t.mediaId),userId:t.userId,redirectOn404:!1})}catch(e){}t.loading=!1})()},save(){var t=this;return Object(f["a"])(function*(){if(t.saving)return;t.saving=!0;const e=yield t.$store.dispatch("review/save",Tc({},t.review,{mediaId:t.mediaId}));e.success&&Ed.push({path:`/review/${e.review.id}`}),t.saving=!1})()},deleteReview(){var t=this;return Object(f["a"])(function*(){try{yield t.$confirm("Are you sure you want to delete this review?","Warning")}catch(a){return}const e=yield t.$store.dispatch("review/delete",{id:t.review.id});e&&(t.$notify({type:"success",message:"Review deleted"}),Ed.push({path:"/"}))})()},input(){var t=this;return Object(f["a"])(function*(){if(yield t.$nextTick(),t.$refs.input&&t.$refs.input.$el)return t.$refs.input.$el.children[0]})()}},created(){var t=this;return Object(f["a"])(function*(){yield t.fetchReview()})()},metaInfo:{title:"Write Review"}},Dc=Lc,Mc=(a("ab98"),Object(u["a"])(Dc,Pc,Ic,!1,null,"40060794",null)),Rc=Mc.exports,Nc=[{name:"Review",path:"/review/:id",component:_c,props:!0},{name:"Reviews",path:"/reviews",component:Sc},{name:"ReviewEditor",path:"/review/editor/:mediaId/:uId?",component:Rc,props:!0}],Fc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recent-recommendations container"},[a("div",{staticClass:"header-wrap"},[a("h1",[t._v("Recommendations")]),t._v(" "),a("div"),t._v(" "),a("div",{staticClass:"switches"},[t.auth?a("al-switch",{staticClass:"list-switch",attrs:{value:t.onList,options:t.listSwitch},on:{change:t.changeListFilter}}):t._e(),t._v(" "),a("al-switch",{attrs:{value:t.sort,options:t.sortSwitch},on:{change:t.changeSortOrder}})],1)]),t._v(" "),t.recommendations.pageData?a("div",{staticClass:"recommendations-wrap"},[t._l(t.recommendations.pageData,function(e){return t._l(e,function(t){return a("recommendation-pair-card",{key:t,attrs:{id:t}})})})],2):t._e(),t._v(" "),t.chaningSort?t._e():a("scroll-load",{ref:"scroll",attrs:{action:t.fetchRecommendations,limit:3,paused:t.paused},on:{"update:paused":function(e){t.paused=e}}})],1)},Uc=[],Vc=a("1612"),zc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"recommendation-pair-card"},[t._l(t.recommendationMedia,function(e){return[a("router-link",{key:e.id,staticClass:"media",attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(e)}}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.coverImage.extraLarge||e.coverImage.large,expression:"media.coverImage.extraLarge || media.coverImage.large",arg:"background-image"}],staticClass:"cover",on:{click:t.showCoverOverlay}}),t._v(" "),a("div",{staticClass:"title"},[a("v-clamp",{attrs:{"max-lines":2}},[t._v("\n\t\t\t\t\t"+t._s(e.title.userPreferred)+"\n\t\t\t\t")])],1)])]}),t._v(" "),a("div",{staticClass:"rating-wrap"},[a("div",{staticClass:"actions"},[a("div",{staticClass:"icon thumbs-up",class:{active:"RATE_UP"==t.recommendation.userRating},on:{click:function(e){return t.rate("RATE_UP")}}},[a("icon",{attrs:{icon:"thumbs-up"}})],1),t._v(" "),a("div",{staticClass:"icon thumbs-down",class:{active:"RATE_DOWN"==t.recommendation.userRating},on:{click:function(e){return t.rate("RATE_DOWN")}}},[a("icon",{attrs:{icon:"thumbs-down"}})],1)]),t._v(" "),a("div",{staticClass:"rating",class:{"small-text":t.recommendation.rating>999}},[t._v("\n\t\t\t"+t._s(t.recommendation.rating>0?"+":"")+t._s(t.recommendation.rating)+"\n\t\t")])]),t._v(" "),t.isMod()?a("div",{staticClass:"remove",on:{click:t.remove}},[a("icon",{attrs:{icon:"times",size:"sm"}})],1):t._e()],2):t._e()},qc=[],Bc={extends:Bs,props:["id"],computed:{recommendationMedia(){return[this.$store.getters.entity("media",this.recommendation.media),this.$store.getters.entity("media",this.recommendation.mediaRecommendation)]},show(){const t=this.recommendationMedia[0].id&&this.recommendationMedia[1].id;return!!t&&!(this.recommendationMedia[0].isAdult&&!this.displayAdult)}},methods:{rate(t){var e=this;return Object(f["a"])(function*(){t===e.recommendation.userRating&&(t="NO_RATING"),yield e.$store.dispatch("recommendation/saveRecommendation",{id:e.recommendation.id,mediaId:e.recommendation.media,mediaRecommendationId:e.recommendation.mediaRecommendation,rating:t})})()}}},Hc=Bc,Gc=(a("356d"),Object(u["a"])(Hc,zc,qc,!1,null,"5293a8a4",null)),Wc=Gc.exports,Yc={components:{RecommendationPairCard:Wc,AlSwitch:Vc["a"]},mixins:[o["a"],it["a"]],data(){return{chaningSort:!1,sort:"ID_DESC",onList:!1,listSwitch:[{label:"All",value:!1},{label:"My List",value:!0}],sortSwitch:[{label:"Recent",value:"ID_DESC"},{label:"Highest Rated",value:"RATING_DESC"},{label:"Lowest Rated",value:"RATING"}]}},computed:{recommendations(){return this.$store.getters.entityPage(`recommendations-${this.sort}-${this.onList}`,this.page)}},methods:{fetchRecommendations(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("recommendation/fetchRecommendations",{page:t.page,sort:t.sort,onList:t.onList})})()},changeSortOrder(t){this.sort=t,this.resetScrollLoader("chaningSort")},changeListFilter(t){this.onList=t,this.resetScrollLoader("chaningSort")}},metaInfo:{title:"Anime & Manga Recommendations"}},Kc=Yc,Qc=(a("27f7"),Object(u["a"])(Kc,Fc,Uc,!1,null,"50ed2242",null)),Jc=Qc.exports,Xc=[{name:"Recommendations",path:"/recommendations",component:Jc}],Zc=a("47c5"),tl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.activity.id?a("div",{staticClass:"container"},[a("activity",{attrs:{id:t.id},on:{refresh:t.fetchActivity}})],1):t._e()},el=[],al={props:["id"],components:{Activity:rt["default"]},computed:{activity(){return this.$store.getters.entity("activity",this.id)}},methods:{fetchActivity(){var t=this;return Object(f["a"])(function*(){return yield t.$store.dispatch("activity/fetchActivity",{id:t.id})})()}},created(){this.fetchActivity()},serverPrefetch(){return this.fetchActivity()}},il=al,sl=(a("b140"),Object(u["a"])(il,tl,el,!1,null,"6be71fa9",null)),rl=sl.exports,nl=[{name:"Activity",path:"/activity/:id(\\d+)",component:rl,props:!0}],ol=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notifications-feed container"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"mobile-nav",on:{click:function(e){t.showMobileNav=!t.showMobileNav}}},[a("h1",[t._v("\n\t\t\t\tNotifications\n\t\t\t\t"),a("div",{staticClass:"filter-toggle",class:{active:t.showMobileNav}},[a("icon",{attrs:{icon:"ellipsis-h"}})],1)])]),t._v(" "),a("div",{staticClass:"filter-group",class:{"mobile-nav-hidden":!t.showMobileNav}},[a("div",{staticClass:"group-header"},[t._v("\n\t\t\t\tNotifications\n\t\t\t\t"),a("router-link",{staticClass:"value settings-btn",attrs:{to:{name:"NotificationSettings"}}},[a("el-tooltip",{attrs:{content:"Notification Settings",placement:"left"}},[a("icon",{attrs:{icon:"cog"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"link",class:{active:"all"==t.feed},on:{click:function(e){return t.changeFeed("all")}}},[t._v("All")]),t._v(" "),a("div",{staticClass:"link",class:{active:"airing"==t.feed},on:{click:function(e){return t.changeFeed("airing")}}},[t._v("Airing")]),t._v(" "),a("div",{staticClass:"link",class:{active:"activity"==t.feed},on:{click:function(e){return t.changeFeed("activity")}}},[t._v("Activity")]),t._v(" "),a("div",{staticClass:"link",class:{active:"forum"==t.feed},on:{click:function(e){return t.changeFeed("forum")}}},[t._v("Forum")]),t._v(" "),a("div",{staticClass:"link",class:{active:"follows"==t.feed},on:{click:function(e){return t.changeFeed("follows")}}},[t._v("Follows")])]),t._v(" "),a("div",{staticClass:"reset-btn",on:{click:function(e){return t.resetCount(!0)}}},[t._v("Mark all as read")])]),t._v(" "),t.changingFeed?t._e():a("div",{staticClass:"notifications"},[t.notifications?[t._l(t.notifications.pageData,function(e){return t._l(e,function(e,i,s){return a("notification",{key:s,attrs:{id:e,unread:t.isUnread(i)}})})})]:t.hasNextPage?t._e():a("h1",[t._v("No "+t._s("all"==this.feed?"":this.feed)+" notifications")]),t._v(" "),a("scroll-load",{ref:"scroll",attrs:{action:t.fetchNotifications,limit:3,paused:t.paused},on:{"update:paused":function(e){t.paused=e}}})],2)])},cl=[],ll=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.notification&&(t.media.id||t.user.id)?a("div",{staticClass:"notification",class:{unread:!t.read,hasMedia:t.media.id},on:{click:t.markRead}},[t.media.id?a("router-link",{staticClass:"cover",style:t.mediaCoverStyle,attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}}):t._e(),t._v(" "),t.user.id?a("router-link",{staticClass:"avatar",style:t.avatarStyle,attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}}):t._e(),t._v(" "),a("div",{staticClass:"details"},[t.isType("airing")?a("div",[a("span",{staticClass:"context"},[t._v(t._s(t.notification.contexts[0]))]),t._v("\n\t\t\t"+t._s(t.notification.episode)+"\n\t\t\t"),a("span",{staticClass:"context"},[t._v(t._s(t.notification.contexts[1]))]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t\t")]),t._v(" "),a("span",{staticClass:"context"},[t._v(t._s(t.notification.contexts[2]))])],1):t.isType("following")?a("div",[a("router-link",{staticClass:"link",attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}},[t._v("\n\t\t\t\t"+t._s(t.user.name)+"\n\t\t\t")]),t._v(" "),a("span",{staticClass:"context"},[t._v(t._s(t.notification.context))])],1):t.isType("activity")?a("div",[a("router-link",{staticClass:"link",attrs:{to:{name:"Activity",params:{id:t.notification.activityId}}}},[t._v("\n\t\t\t\t"+t._s(t.user.name)+"\n\t\t\t\t"),a("span",{staticClass:"context"},[t._v(t._s(t.notification.context))])])],1):t.isType("thread")?a("div",[a("router-link",{staticClass:"link",attrs:{to:t.threadUrl}},[t._v("\n\t\t\t\t"+t._s(t.user.name)+"\n\t\t\t\t"),a("span",{staticClass:"context"},[t._v(t._s(t.notification.context))]),t._v(" "),t.thread.id?a("span",[t._v("\n\t\t\t\t\t"+t._s(t.thread.title)+"\n\t\t\t\t")]):t._e()])],1):t.isType("addition")?a("div",[a("router-link",{staticClass:"link",attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t\t")]),t._v(" "),a("span",{staticClass:"context"},[t._v(t._s(t.notification.context))])],1):t._e(),t._v(" "),a("div",{staticClass:"time"},[a("timeago",{attrs:{since:1e3*t.notification.createdAt,"auto-update":60}})],1)])],1):t._e()},dl=[],ul={props:["id","unread"],data(){return{notificationTypes:{airing:["AIRING"],following:["FOLLOWING"],activity:["ACTIVITY_MESSAGE","ACTIVITY_MENTION","ACTIVITY_REPLY","ACTIVITY_REPLY_SUBSCRIBED","ACTIVITY_LIKE","ACTIVITY_REPLY_LIKE"],thread:["THREAD_COMMENT_REPLY","THREAD_SUBSCRIBED","THREAD_COMMENT_MENTION","THREAD_LIKE","THREAD_COMMENT_LIKE"],addition:["RELATED_MEDIA_ADDITION"]}}},computed:{notification(){return this.$store.getters.entity("notification",this.id)},media(){return this.$store.getters.entity("media",this.notification.media)},user(){return this.$store.getters.entity("user",this.notification.user)},thread(){return this.$store.getters.entity("thread",this.notification.thread)},read(){return this.$store.getters["notification/isRead"](this.notification.id)},mediaCoverStyle(){return{"background-image":`url(${this.media.coverImage.large})`}},avatarStyle(){return this.user.id?{"background-image":`url(${this.user.avatar.large})`}:{}},threadUrl(){if(this.isType("thread"))return this.notification.commentId?{name:"ForumThreadComment",params:{id:this.thread.id,commentId:this.notification.commentId}}:{name:"ForumThread",params:{id:this.thread.id}}}},methods:{isType(t){return this.notificationTypes[t].includes(this.notification.type)},markRead(){this.$store.dispatch("notification/markRead",this.notification.id)}},watch:{unread:function(t){t&&this.$store.dispatch("notification/addUnread",this.notification.id)}}},ml=ul,pl=(a("9b5d"),Object(u["a"])(ml,ll,dl,!1,null,"9132cd06",null)),vl=pl.exports,hl={components:{Notification:vl},mixins:[o["a"],it["a"]],data(){return{feed:"all",changingFeed:!1,showMobileNav:!1,loaded:!1}},computed:{notifications(){return this.$store.getters.entityPage(`notifications-${this.feed}`,this.page)},unreadCount(){return this.auth.unreadNotificationCount}},methods:{fetchNotifications(){var t=this;return Object(f["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("notification/fetchNotifications",{page:t.page,feed:t.feed}),"all"===t.feed&&(t.loaded=!0)})()},changeFeed(t){this.feed=t,this.resetScrollLoader("changingFeed")},isUnread(t){return t<this.unreadCount&&"all"==this.feed&&this.loaded},resetCount(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$store.dispatch("auth/resetNotificationCount"),t&&this.$store.dispatch("notification/clearUnread")}},beforeRouteLeave(t,e,a){this.resetCount(),a()},metaInfo:{title:"Notifications"}},gl=hl,fl=(a("00e2"),Object(u["a"])(gl,ol,cl,!1,null,"0a867854",null)),yl=fl.exports;function bl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function _l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?bl(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):bl(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var wl=[_l({name:"Notifications",path:"/notifications",component:yl},H)];const Cl=()=>a.e("forum").then(a.bind(null,"f4a2"));var Ol=[{name:"ForumFeed",path:"/forum/:type?",component:Cl,props:!0}];const $l=()=>a.e("forum").then(a.bind(null,"761a")),kl=()=>a.e("forum").then(a.bind(null,"caf5")),Sl=()=>a.e("forum").then(a.bind(null,"7b92"));var Pl=[{name:"ForumThreadEditor",path:"/forum/thread/editor/:id?",component:Sl,props:!0},{name:"ForumThread",path:"/forum/thread/:id/:commentPage?",component:$l,props:!0},{name:"ForumThreadComment",path:"/forum/thread/:id/comment/:commentId",component:kl,props:!0}];function Il(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function jl(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Il(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Il(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const Al=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"5ac7")),El=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"f2b6")),xl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"5887")),Tl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"5e03")),Ll=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"a47b")),Dl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"3dae")),Ml=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"b403")),Rl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"5677")),Nl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"cf58")),Fl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"eac56")),Ul=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"9cf1")),Vl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"8e24"));var zl=[jl({path:"/settings/",component:Al},H,{children:[{name:"ProfileSettings",path:"",component:El},{name:"AuthSettings",path:"account",component:xl},{name:"ListSettings",path:"lists",component:Tl},{name:"MediaSettings",path:"media",component:Ll},{name:"NotificationSettings",path:"notifications",component:Ul},{name:"ImportSettings",path:"import",component:Dl},{name:"TwitterSettings",path:"twitter",component:Ml},{name:"AppSettings",path:"apps",component:Rl},{name:"DeveloperSettings",path:"developer",component:Nl},{name:"ClientSettings",path:"client/:id",component:Fl,props:!0},{name:"NameClearSettings",path:"name-clear",component:Vl}]})],ql=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"apps"},t._l(t.allApps,function(e,i){return a("div",{key:i,staticClass:"app-section"},[a("h2",{staticClass:"header"},[t._v(t._s(i))]),t._v(" "),a("div",{staticClass:"wrap"},t._l(e,function(e,i){return a("a",{key:i,staticClass:"app",attrs:{href:e.url,target:"_blank"}},[a("img",{staticClass:"image",attrs:{src:"/img/apps/"+e.image}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"platforms"},t._l(e.platforms,function(t,e){return a("img",{key:e,staticClass:"icon",attrs:{src:"/img/apps/"+t+".svg"}})}),0)])])}),0)])}),0)},Bl=[],Hl={data(){return{allApps:{Mobile:[{name:"AL-chan",platforms:["android"],url:"https://play.google.com/store/apps/details?id=com.zen.alchan",image:"alchan.jpg"},{name:"AniDroid",platforms:["android"],url:"https://play.google.com/store/apps/details?id=com.jurasdev.anidroid",image:"anidroid.png"},{name:"AniLib",platforms:["android"],url:"https://play.google.com/store/apps/details?id=com.revolgenx.anilib",image:"anilib.jpg"},{name:"AniTrend",platforms:["android"],url:"https://play.google.com/store/apps/details?id=com.mxt.anitrend",image:"anitrend.jpg"},{name:"MyAniList",platforms:["apple"],url:"https://itunes.apple.com/us/app/myanilist/id741257899",image:"myanilist.jpg"},{name:"Oujo",platforms:["android"],url:"https://play.google.com/store/apps/details?id=com.ikn.oujo",image:"oujo.jpg"},{name:"Ryuusei",platforms:["apple"],url:"https://apps.apple.com/us/app/ryuusei/id1347721581?mt=8",image:"ryuusei.png"}],Desktop:[{name:"Hachidori",platforms:["apple"],url:"https://malupdaterosx.moe/hachidori/",image:"hachidori.jpg"},{name:"Mikazuki",platforms:["windows","apple","linux"],url:"https://www.mikazuki.moe/",image:"mikazuki.png"},{name:"Shukofukurou",platforms:["apple"],url:"https://anilist.co/forum/thread/2995",image:"shukofukurou.jpg"},{name:"Taiga",platforms:["windows"],url:"http://taiga.moe/",image:"taiga.jpg"},{name:"Trackma",platforms:["linux"],url:"https://github.com/z411/trackma",image:"trackma.jpg"},{name:"Yuna",platforms:["windows","apple","linux"],url:"https://yuna.moe/",image:"yuna.png"}],"Sites & Extensions":[{name:"AniMouto",platforms:[],url:"https://www.animouto.moe/",image:"animouto.png"},{name:"Anime Music Quiz",platforms:[],url:"https://animemusicquiz.com",image:"amq.jpg"},{name:"AL Search",platforms:[],url:"https://yellowfish085.github.io/al-search/",image:"alsearch.png"},{name:"Wait: What Anime Is This?",platforms:[],url:"https://trace.moe/",image:"wait.png"}]}}},metaInfo:{title:"Apps for AniList",meta:[{name:"description",content:"Explore the wide selection of community-made AniList apps available on all platforms: Android, iOS, macOS, Windows, and Linux."}]}},Gl=Hl,Wl=(a("62ce"),Object(u["a"])(Gl,ql,Bl,!1,null,"75c44e9a",null)),Yl=Wl.exports,Kl=[{name:"Apps",path:"/apps",component:Yl}];const Ql=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"9052")),Jl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"1e35")),Xl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"1aae")),Zl=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"f927")),td=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"caf7")),ed=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"67e6"));var ad=[{path:"/setup",component:Ql,children:[{name:"SetupLanguage",path:"",component:Jl},{name:"SetupScores",path:"scores",component:Xl},{name:"SetupAvatar",path:"avatar",component:Zl},{name:"SetupColor",path:"color",component:td},{name:"SetupComplete",path:"complete",component:ed}]}],id=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found container"},[t.message&&t.auth?a("div",{staticClass:"message"},[t._v(t._s(t.message))]):t._e(),t._v(" "),a("img",{attrs:{src:"/img/404/404_chan"+t.imageStage+".jpg"}}),t._v(" "),1==t.imageStage?a("div",[a("a",{on:{click:function(e){t.imageStage=2}}}),t._v(" "),a("router-link",{staticStyle:{right:"0"},attrs:{to:"/home"}})],1):t._e(),t._v(" "),2==t.imageStage?a("div",[a("a",{on:{click:function(e){t.imageStage=3}}}),t._v(" "),a("a",{staticStyle:{right:"0"},on:{click:function(e){t.imageStage=4}}})]):t._e(),t._v(" "),3==t.imageStage?a("div",[a("a",{staticStyle:{width:"100%"},on:{click:function(e){t.imageStage=5}}})]):t._e(),t._v(" "),4==t.imageStage?a("div",[a("a",{staticStyle:{width:"100%"},on:{click:function(e){t.imageStage=5}}})]):t._e(),t._v(" "),5==t.imageStage?a("div",[a("router-link",{staticStyle:{width:"100%",height:"100%",top:"0"},attrs:{to:"/home"}})],1):t._e()])},sd=[],rd={name:"notFound",mixins:[o["a"]],data(){return{imageStage:1,message:null}},mounted(){this.$store.commit("setAdDisplay",!1)},beforeRouteEnter(t,e,a){a(t=>{t.message=null,"MediaOverview"===e.name&&(t.message="(Psst! If you think this page does exist you can try enabling 18+ content in settings)")})}},nd=rd,od=(a("9b63"),Object(u["a"])(nd,id,sd,!1,null,"6e8851fc",null)),cd=od.exports,ld=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maintenance container"},[t._v("\n\t503 - Server Maintenance\n")])},dd=[],ud={mounted(){this.$store.commit("setAdDisplay",!1)}},md=ud,pd=(a("af50"),Object(u["a"])(md,ld,dd,!1,null,"4b0779d3",null)),vd=pd.exports,hd=[{path:"*",redirect:"/404"},{name:"NotFound",path:"/404",component:cd},{name:"Maintenance",path:"/503",component:vd}],gd={beforeEnter(t,e,a){const i=s["a"].getters["auth/viewer"],r=o["a"].methods.isDataMod(i);r?a():"/"===e.path&&null===e.name?a({name:"Landing"}):a(!1)}};function fd(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function yd(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?fd(Object(a),!0).forEach(function(e){Object(B["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):fd(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const bd=()=>Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"44f3")),_d=()=>Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"36982")),wd=()=>Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"14ab")),Cd=()=>Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"451b")),Od=()=>Promise.all([a.e("settings~submissions"),a.e("submissions")]).then(a.bind(null,"a6fb"));var $d=[yd({path:"/edit/dashboard/:page(feed|actions|anime|manga|characters|staff|tags|reports|imports|settings)",component:bd,props:!0},gd),{path:"/edit/:type(anime|manga)/:id(\\d+|new)/:form?/:submissionId?",component:_d,props:!0},{path:"/edit/character/:id(\\d+)",component:wd,props:!0},{path:"/edit/staff/:id(\\d+)",component:Cd,props:!0},yd({path:"/edit/studio/:id(\\d+)",component:Od,props:!0},gd)];const kd=()=>Promise.all([a.e("settings~submissions"),a.e("settings")]).then(a.bind(null,"b11a"));var Sd=[{name:"Listicles",path:"/article/Top-:amount(50|10)-:genre([A-Z-a-z %20])+-:type(Anime|Manga)-of-:year",component:kd,props:!0}];const Pd=()=>a.e("stats").then(a.bind(null,"ba51"));var Id=[{name:"SiteStats",path:"/site-stats",component:Pd}],jd=[].concat(v,q,ge,en,cc,dc,mc,vc,Nc,Xc,Zc["default"],nl,wl,Ol,Pl,hd,zl,Kl,$d,Sd,Id,ad);const Ad=new i["a"]({mode:"history",scrollBehavior(t,e,a){return a||(t.matched.some(t=>t.meta.scrollToAnchor)?{selector:"#anchor"}:{x:0,y:0})},routes:jd});Ad.afterEach(t=>{s["a"].dispatch("quickSearch/toggleVisibility",!1),s["a"].commit("setNavTransparency",t.path.includes("/user/")),s["a"].commit("setAdDisplay",!0)});var Ed=e["a"]=Ad},a1b9:function(t,e,a){"use strict";var i=a("2dc3"),s=a.n(i);s.a},a243:function(t,e,a){"use strict";var i=a("0ff7"),s=a.n(i);s.a},a32a:function(t,e,a){},a3bc:function(t,e,a){"use strict";var i=a("3808"),s=a.n(i);s.a},a532:function(t,e,a){},a709:function(t,e,a){},a805:function(t,e,a){},a825:function(t,e,a){"use strict";var i=a("c0b8"),s=a.n(i);s.a},a82f:function(t,e,a){},a871:function(t,e,a){"use strict";var i=a("4428"),s=a.n(i);s.a},a8d6:function(t,e,a){"use strict";var i=a("4aaa"),s=a.n(i);s.a},a8e9:function(t,e,a){},a949:function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),s=a("d78e"),r=a.n(s),n=a("395c"),o=a.n(n),c=a("0284"),l=a.n(c),d=a("ade3"),u=a("f529"),m=a.n(u),p=a("6ed5"),v=a.n(p),h=a("299c"),g=a.n(h),f=(a("ac6a"),a("8c4f")),y=a("31bd"),b=a("4897"),_=a.n(b),w=a("b2d6"),C=a.n(w),O=a("5f65"),$=a.n(O),k=a("283e"),S=a.n(k),P=a("0a89"),I=a.n(P),j=a("ad3d"),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{transparent:t.navTransparency},attrs:{id:"app"}},[a("progress-bar"),t._v(" "),t.isDesktop?a("desktop-nav"):t._e(),t._v(" "),t.isDesktop?t._e():a("mobile-nav"),t._v(" "),a("div",{staticClass:"page-content"},[a("router-view")],1),t._v(" "),t.auth&&t.listEditorActive?a("list-entry-editor"):t._e(),t._v(" "),a("site-footer")],1)},E=[],x=a("199c"),T=x["a"],L=(a("5c0b"),a("2877")),D=Object(L["a"])(T,A,E,!1,null,null,null),M=D.exports,R=a("4360"),N=a("a18c"),F=a("9132"),U=a("5ad4");function V(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?V(Object(a),!0).forEach(function(e){Object(d["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}a("b75f"),i["default"].config.productionTip=!1,i["default"].use(f["a"]),Object.keys(U).forEach(t=>{i["default"].filter(t,U[t])}),i["default"].mixin(F["a"]),_.a.use(C.a),i["default"].use(g.a),i["default"].use($.a,{locale:"en-US",locales:{"en-US":a("fd77")}}),i["default"].component("icon",j["a"]),i["default"].use(S.a),i["default"].use(I.a),i["default"].prototype.$message=v.a,i["default"].prototype.$alert=v.a.alert,i["default"].prototype.$confirm=v.a.confirm,i["default"].prototype.$prompt=v.a.prompt,i["default"].prototype.$notify=m.a;Object(y["sync"])(R["a"],N["a"]);function q(){const t=new i["default"](z({},M,{store:R["a"],router:N["a"],metaInfo:{titleTemplate:t=>{return t?t.startsWith("AniList:")?t:`${t} · AniList`:"AniList"},meta:[{vmid:"twitter:card",name:"twitter:card",content:"summary"}]}}));return{app:t,router:N["a"],store:R["a"]}}var B=a("359d");const H=q(),G=H.app,W=H.router;i["default"].use(o.a),i["default"].use(r.a.Adsense),i["default"].use(l.a,{id:"UA-40137036-2",router:W,debug:{sendHitTask:!0}});try{Object(B["b"])()}catch(Y){console.info("Failed to init idb cache")}W.onReady(()=>{G.$mount("#app")})},aa0d:function(t,e,a){},ab3d:function(t,e,a){"use strict";var i=a("caac"),s=a.n(i);s.a},ab98:function(t,e,a){"use strict";var i=a("c4f2"),s=a.n(i);s.a},adbc:function(t,e,a){"use strict";var i=a("4260");e["a"]={data(){return{intervalId:null,hiddenAt:null}},computed:{refreshIntervalMilliseconds(){return 6e4*this.refreshInterval}},methods:{autoRefresh(){document.hidden||this[this.refreshMethod]()},pageVisibilityChange(){document.hidden?this.hiddenAt=Date.now():(this.hiddenAt&&this.hiddenAt+this.refreshIntervalMilliseconds<Date.now()&&this.autoRefresh(),this.hiddenAt=null)}},created(){Object(i["j"])(()=>{this.intervalId=setInterval(this.autoRefresh,this.refreshIntervalMilliseconds),window.addEventListener("visibilitychange",this.pageVisibilityChange)})},destroyed(){clearInterval(this.intervalId),window.removeEventListener("visibilitychange",this.pageVisibilityChange)}}},af50:function(t,e,a){"use strict";var i=a("16e8"),s=a.n(i);s.a},afba:function(t,e,a){},b03e:function(t,e,a){},b06f:function(t,e,a){"use strict";var i=a("6c0b"),s=a.n(i);s.a},b140:function(t,e,a){"use strict";var i=a("d751"),s=a.n(i);s.a},b333:function(t,e,a){},b366:function(t,e,a){},b476:function(t,e,a){},b47d:function(t,e,a){"use strict";var i=a("3bbd"),s=a.n(i);s.a},b551:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"active-filters",class:{mobile:t.isMobile}},[t.activeFilters[0]?a("icon",{staticClass:"tags-icon",attrs:{icon:"tags"}}):t._e(),t._v(" "),t._l(t.activeFilters,function(e,i){return a("div",{key:i,staticClass:"filter",on:{click:function(a){return t.clear(e)}}},[a("span",{staticClass:"label"},[t._v(t._s(e.label))]),t._v(" "),a("icon",{staticClass:"icon",attrs:{icon:"times"}})],1)}),t._v(" "),t.activeFilters[1]?a("div",{staticClass:"filter clear-all",on:{click:t.clearAll}},[a("span",{staticClass:"label"},[t._v("Clear All")]),t._v(" "),a("icon",{staticClass:"icon",attrs:{icon:"times"}})],1):t._e()],2)},s=[],r=a("3835"),n=(a("ac6a"),{computed:{filters(){return this.$store.getters["search/filters"]},activeFilters(){const t=[],e=Object.entries(this.$store.getters["search/activeFilters"]);return e.forEach(e=>{let a=Object(r["a"])(e,2),i=a[0],s=a[1];if(s&&"sort"!==i){const e=this.filters[i],a=Array.isArray(s)&&"range"!==e.inputType?s:[s];a.forEach(e=>{t.push({name:i,value:e,label:this.getLabel(i,e)})})}}),t},isMobile(){return this.$store.state.screen.isMobile}},methods:{clear(t){let e=t.name,a=t.value;if(this.filters[e].multiSelect){const t=this.$store.getters["search/activeFilters"][e]||[],i=t.filter(t=>t!==a);this.$store.dispatch("search/setActiveFilter",{name:e,value:i[0]?i:null})}else this.$store.dispatch("search/setActiveFilter",{name:e,value:null});this.$emit("filter-change")},clearAll(){this.$store.dispatch("search/resetActiveFilters"),this.$emit("filter-change")},getLabel(t,e){const a=this.filters[t];if(a){if(a.formatLabel&&(e=a.formatLabel(e)),"checkbox"===a.inputType)return t;if("array"===a.type)return e;if("input"===a.inputType)return`Search: ${e}`;if("range"===a.inputType)return`${t}: ${e[0]}-${e[1]}`;if(a.values&&"undefined"!==typeof a.values.groups)for(const t in a.values.groups){const i=a.values.groups[t];if(i&&i[e])return i[e]}return a.values&&a.values[e]||e}}}}),o=n,c=(a("5042"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"cd1dc2b6",null);e["a"]=l.exports},b565:function(t,e,a){"use strict";(function(t){a("ac6a");var i=a("ade3"),s=a("1da1"),r=a("365c"),n=a("4260"),o=a("df68"),c=a("359d"),l=a("5224"),d=a("e037"),u=a("7205"),m=a("8bc1"),p=a("fc7b"),v=a("408e");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const f={querySchema:"internal"};e["a"]={namespaced:!0,state:{viewerId:!1},getters:{viewer:t=>{if(!t.viewerId){const t=localStorage.getItem("auth");if(null!==t&&"false"!==t)return JSON.parse(t)}const e=Object(o["a"])("user",t.viewerId);return!!e.id&&e}},actions:{fetchViewer(e){var a=arguments;return Object(s["a"])(function*(){let i=e.commit,s=a.length>1&&void 0!==a[1]&&a[1];if(!t.browser)return;const n=localStorage.getItem("auth"),o=null!==n&&"false"!==n;if(o||s){o&&i("setViewerFromCache",JSON.parse(n));try{const t=yield Object(r["b"])(l["a"],{},{schema:"user",root:"Viewer"}),e=t.entities;i("setViewerEntity",e)}catch(c){401===c[0].status&&i("deleteViewer"),console.log("Guest user")}}})()},login(t,e){return Object(s["a"])(function*(){let a=t.commit;try{const t=yield Object(r["b"])(d["a"],e,g({schema:"user",root:"Login"},f)),s=t.entities;return a("setViewerEntity",s),{success:!0}}catch(i){const t=i[0]?i[0].message:"Login failed for unknown reason, please check your details or email support.";return{success:!1,error:t}}})()},logout(t){return Object(s["a"])(function*(){let e=t.commit;try{yield Object(r["b"])(u["a"],{},f),Object(c["a"])()}catch(a){}e("deleteViewer")})()},signup(t,e){return Object(s["a"])(function*(){let a=t.commit;try{const t=yield Object(r["b"])(m["a"],e,g({schema:"user",root:"CreateUser"},f)),s=t.entities;return a("setViewerEntity",s),{success:!0}}catch(i){return"Email Verification Required."===i[0].message?{success:!0,email:!0}:(Object(n["a"])(i),{success:!1})}})()},resetPassword(t,e){return Object(s["a"])(function*(){try{return yield Object(r["b"])(p["a"],e,f),!0}catch(t){return!1}})()},verifyEmail(t,e){return Object(s["a"])(function*(){try{return yield Object(r["b"])(v["a"],e,f),!0}catch(t){return Object(n["a"])(t),!1}})()},resetNotificationCount(t){let e=t.commit;e("updateViewer",{unreadNotificationCount:0})}},mutations:{setViewerEntity(t,e){const a=Object.values(e.user)[0];a&&(Object(o["e"])(e),t.viewerId=!!a&&a.id,localStorage.setItem("auth",JSON.stringify(a)))},setViewerFromCache(t,e){if(!e)return;const a=e.id,i=e.name;Object(o["e"])({user:{[a]:e},userName:{[i]:{id:a}}}),t.viewerId=a},updateViewer(t,e){Object(o["e"])({user:{[t.viewerId]:g({},e)}}),e.name&&Object(o["e"])({userName:{[e.name]:{id:t.viewerId}}})},deleteViewer(t){localStorage.removeItem("auth"),t.viewerId=!1}}}}).call(this,a("f28c"))},b6b4:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progress",class:{fixed:100!==t.percent,show:t.show},style:{width:t.percent+"%"}})},s=[],r={data(){return{percent:0,duration:2e3,show:!1}},computed:{loading(){return this.$store.state.loading}},watch:{loading(t){t?this.start():this.finish()}},methods:{start(){this.timer&&(clearInterval(this.timer),this.percent=0),this.show=!0,this.cut=1e4/Math.floor(this.duration),this.timer=setInterval(()=>{this.increase(this.cut*Math.random()),this.percent>95&&this.finish()},100)},increase(t){this.percent=this.percent+Math.floor(t)},finish(){clearInterval(this.timer),this.percent=100,this.show=!1}}},n=r,o=(a("ead3"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"5d42c114",null);e["a"]=c.exports},b75f:function(t,e,a){"use strict";a.r(e);var i=a("ecee"),s=a("b702"),r=a("f2d1"),n=a("c074");i["c"].add(n["a"],n["b"],n["c"],r["a"],n["d"],n["e"],n["f"],n["g"],n["h"],n["i"],n["j"],n["k"],n["l"],n["m"],n["n"],n["o"],n["p"],n["q"],n["r"],n["s"],n["t"],n["u"],n["v"],n["w"],r["b"],n["x"],n["y"],n["z"],n["A"],n["B"],n["D"],n["C"],n["E"],n["F"],n["G"],s["a"],n["I"],n["J"],n["K"],n["L"],n["M"],n["N"],n["O"],n["P"],n["Q"],n["R"],n["S"],n["T"],n["U"],s["b"],n["W"],n["X"],n["Y"],n["Z"],n["ab"],n["bb"],n["cb"],n["db"],n["eb"],n["fb"],n["gb"],n["hb"],n["ib"],n["jb"],n["kb"],n["lb"],n["mb"],s["c"],n["pb"],s["d"],n["qb"],n["rb"],n["sb"],n["tb"],n["nb"],n["ub"],n["vb"],n["wb"],n["xb"],n["yb"],n["zb"],n["Ab"],n["Bb"],n["Cb"],n["Db"],n["Eb"],n["Hb"],n["Fb"],n["Gb"],n["Ib"],n["Jb"],r["c"],n["H"],n["V"],n["ob"])},b9f6:function(t,e,a){"use strict";var i=a("c9c8"),s=a.n(i);s.a},bb64:function(t,e,a){"use strict";var i=a("7ae9"),s=a.n(i);s.a},bcac:function(t,e,a){},bcad:function(t,e,a){"use strict";var i=a("03ed"),s=a.n(i);s.a},bd26:function(t,e,a){"use strict";var i=a("a709"),s=a.n(i);s.a},bd75:function(t,e,a){},bead:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-card",style:t.colors},[t.loading?[a("div",{staticClass:"cover loading"}),t._v(" "),t._m(0)]:[a("div",{staticClass:"cover"},[t.displayBackgroundColor&&"hsl(202,57%,89%)"!==t.colors["--media-background"]?a("div",{staticClass:"background-color"}):t._e(),t._v(" "),a("router-link",{staticClass:"image-link",attrs:{to:t.mediaLink}},[a("img",{staticClass:"image",class:{loaded:t.coverImageLoaded},attrs:{src:t.media.coverImage.extraLarge},on:{load:t.onImageLoad}})]),t._v(" "),a("div",{staticClass:"overlay"},[a("router-link",{staticClass:"title",attrs:{to:t.mediaLink}},[t._v(t._s(t.media.title.userPreferred))]),t._v(" "),t.studios[0]?a("div",{staticClass:"studio"},[t._l(t.studios,function(e,i){return[a("router-link",{key:e.id,attrs:{to:{name:"Studio",params:t.formatStudioUrl(e)}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.name))]),t.studios[i+1]?[t._v(",")]:t._e()]})],2):t._e()],1)],1),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"body",on:{mouseenter:t.showScroll,mouseleave:t.hideScroll}},[a(t.scrollDescription?"scroll-bar":"div",{tag:"component",staticClass:"scroll-wrap",class:{active:t.scrollDescription}},[a("div",{staticClass:"header"},[a("div",[t.airingCountdown?a("div",{staticClass:"date airing"},[a("div",{staticClass:"episode"},[t._v("\n\t\t\t\t\t\t\t\t\tEp "+t._s(t.media.nextAiringEpisode.episode)+" airing in\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"countdown"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.airingCountdown)+"\n\t\t\t\t\t\t\t\t")])]):a("div",{staticClass:"date",class:{small:t.date.includes("Since")}},[t._v(t._s(t.date))]),t._v(" "),a("div",{staticClass:"typings"},[t.media.format?a("span",[t._v(t._s(t._f("capitalizeFormat")(t.media.format,!0)))]):t._e(),t._v(" "),t.media.format&&t.length?a("span",{staticClass:"separator"},[t._v("•")]):t._e(),t._v(" "),t.length?a("span",[t._v(t._s(t.length))]):t._e()])]),t._v(" "),a("div",[t.rank&&t.rank<101&&t.rank>0?a("div",{staticClass:"score rank"},[a("span",{staticClass:"hash"},[t._v("#")]),t._v(t._s(t.rank)+"\n\t\t\t\t\t\t\t")]):t.media.averageScore?a("div",{staticClass:"score"},[a("icon",{staticClass:"icon",attrs:{icon:["far",t.scoreIcon.name],color:"rgb(var(--color-"+t.scoreIcon.color+"))","fixed-width":""}}),t._v(" "),a("span",{staticClass:"percentage"},[t._v(t._s(t.media.averageScore)+"%")])],1):t._e()])]),t._v(" "),a("div",{staticClass:"description",domProps:{innerHTML:t._s(t.description)}})])],1),t._v(" "),a("div",{staticClass:"footer"},[a("div",{staticClass:"genres"},t._l(t.media.genres,function(e,i){return a("router-link",{key:i,staticClass:"genre",attrs:{to:t.formatGenreUrl(e,t.media.type)}},[t._v("\n\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t")])}),1),t._v(" "),t.auth?a("list-editor-btns",{staticClass:"list-btns-wrap",attrs:{id:t.media.id}}):t._e()],1)])]],2)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"description loading"},[a("div"),t._v(" "),a("div"),t._v(" "),a("div")])}],r=(a("a481"),a("25c9")),n=a("427e"),o={extends:n["a"],components:{ScrollBar:r["a"]},data(){return{scrollDescription:!1,hovering:!1,airingCountdownForm:"long"}},computed:{studios(){return this.media.studios?this.media.studios.edges.filter(t=>t.isMain).map(t=>this.$store.getters.entity("studio",t.node)):[]},description(){let t=this.media.description;return t&&""!==t?t.replace(/((<br ?\/?>)|(\n)|(\(S?ource: ?.+\)))/gim," "):null}},methods:{showScroll(){this.hovering=!0,setTimeout(()=>{this.hovering&&(this.scrollDescription=!0)},350)},hideScroll(){this.hovering=!1,this.scrollDescription=!1}}},c=o,l=(a("530e"),a("2877")),d=Object(l["a"])(c,i,s,!1,null,"fe021542",null);e["a"]=d.exports},bf88:function(t,e,a){"use strict";var i=a("8b88"),s=a.n(i);s.a},c01a:function(t,e,a){"use strict";var i=a("1465"),s=a.n(i);s.a},c03a:function(t,e,a){"use strict";var i=a("03ca"),s=a.n(i);s.a},c091:function(t,e,a){"use strict";var i=a("39a6"),s=a.n(i);s.a},c0b8:function(t,e,a){},c2b0:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav nav-unscoped",class:{transparent:t.navTransparency,hide:t.hide},style:{top:t.top,transition:t.transition},attrs:{id:"nav"}},[a("quick-search"),t._v(" "),t.auth?a("div",{staticClass:"wrap"},[a("router-link",{staticClass:"logo",attrs:{to:"/home"}},[a("img",{attrs:{src:"/img/icons/icon.svg"}})]),t._v(" "),a("div",{staticClass:"links"},[a("router-link",{staticClass:"link",attrs:{to:"/home"}},[t._v("home")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"UserOverview",params:{id:t.auth.name}}}},[t._v("\n\t\t\t\tprofile\n\t\t\t")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaList",params:{id:t.auth.name,type:"anime"}}}},[t._v("\n\t\t\t\tanime list\n\t\t\t")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:{name:"MediaList",params:{id:t.auth.name,type:"manga"}}}},[t._v("\n\t\t\t\tmanga list\n\t\t\t")]),t._v(" "),a("span",{staticClass:"browse-wrap"},[a("router-link",{staticClass:"link",attrs:{to:"/search/anime"}},[t._v("browse")]),t._v(" "),a("search-nav-dropdown")],1),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/forum/overview"}},[t._v("forum")])],1),t._v(" "),a("div",{staticClass:"search",on:{click:t.showQuickSearch}},[a("icon",{attrs:{icon:"search",size:"lg"}})],1),t._v(" "),a("div",{staticClass:"user"},[a("div",{staticClass:"user-wrap"},[a("div",{staticClass:"avatar",style:t.avatar}),t._v(" "),a("icon",{staticClass:"chevron",attrs:{icon:"chevron-down","fixed-width":""}}),t._v(" "),a("user-nav-dropdown")],1),t._v(" "),t.unreadNotificationCount?a("router-link",{staticClass:"notification-dot",class:{"large-count":t.unreadNotificationCount>9},attrs:{to:"/notifications"}},[t._v("\n\t\t\t\t"+t._s(t.unreadNotificationCount)+"\n\t\t\t")]):t._e()],1)],1):a("div",{staticClass:"wrap guest"},[a("router-link",{staticClass:"logo",attrs:{to:"/"}},[a("img",{attrs:{src:"/img/icons/icon.svg"}})]),t._v(" "),a("div",{staticClass:"links"},[a("span",{staticClass:"browse-wrap"},[a("router-link",{staticClass:"link",attrs:{to:"/search/anime"}},[t._v("browse")]),t._v(" "),a("search-nav-dropdown")],1),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/social"}},[t._v("social")]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/forum/overview"}},[t._v("forum")]),t._v(" "),a("router-link",{staticClass:"link login",attrs:{to:"/login"}},[t._v("Login")]),t._v(" "),a("router-link",{staticClass:"link signup",attrs:{to:"/signup"}},[t._v("Sign Up")])],1)],1)],1)},s=[],r=a("a18c"),n=a("a189"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hide?t._e():a("div",{staticClass:"dropdown",on:{click:t.onClick}},[a("div",{staticClass:"primary-links"},[a("div",{staticClass:"primary-link"},[a("router-link",{attrs:{to:"/search/anime"}},[a("icon",{staticClass:"icon",attrs:{icon:"play"}})],1),t._v(" "),a("section",[a("router-link",{staticClass:"primary-link-text",attrs:{to:"/search/anime"}},[t._v("\n\t\t\t\t\tAnime\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"secondary-links"},[a("router-link",{attrs:{to:"/search/anime/top-100"}},[t._v("Top 100")]),t._v(" "),a("router-link",{attrs:{to:"/search/anime/trending"}},[t._v("Trending")]),t._v(" "),a("router-link",{attrs:{to:"/search/anime/top-movies"}},[t._v("Top Movies")])],1)],1)],1),t._v(" "),a("div",{staticClass:"primary-link"},[a("router-link",{attrs:{to:"/search/manga"}},[a("icon",{staticClass:"icon",attrs:{icon:"book-open"}})],1),t._v(" "),a("section",[a("router-link",{staticClass:"primary-link-text",attrs:{to:"/search/manga"}},[t._v("\n\t\t\t\t\tManga\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"secondary-links"},[a("router-link",{attrs:{to:"/search/manga/top-100"}},[t._v("Top 100")]),t._v(" "),a("router-link",{attrs:{to:"/search/manga/trending"}},[t._v("Trending")]),t._v(" "),a("router-link",{attrs:{to:"/search/manga/top-manhwa"}},[t._v("Top Manhwa")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"footer"},[a("router-link",{attrs:{to:"/search/staff"}},[a("icon",{staticClass:"icon",attrs:{icon:"user-tie"}}),t._v("\n\t\t\tStaff\n\t\t")],1),t._v(" "),a("router-link",{attrs:{to:"/search/characters"}},[a("icon",{staticClass:"icon",attrs:{icon:"user-astronaut"}}),t._v("\n\t\t\tCharacters\n\t\t")],1),t._v(" "),a("router-link",{attrs:{to:"/reviews"}},[a("icon",{staticClass:"icon",attrs:{icon:"star"}}),t._v("\n\t\t\tReviews\n\t\t")],1),t._v(" "),a("router-link",{attrs:{to:"/recommendations"}},[a("icon",{staticClass:"icon",attrs:{icon:"thumbs-up"}}),t._v("\n\t\t\tRecommendations\n\t\t")],1)],1)])},c=[],l={data(){return{hide:!1}},methods:{onClick(t){const e=!!t.path.find(t=>{let e=t.localName;return"a"===e});e&&(this.hide=!0,setTimeout(()=>{this.hide=!1},30))}}},d=l,u=(a("017b"),a("2877")),m=Object(u["a"])(d,o,c,!1,null,"38edf8f8",null),p=m.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hide?t._e():a("div",{staticClass:"dropdown",on:{click:t.onClick}},[a("div",{staticClass:"primary-links"},[a("router-link",{staticClass:"primary-link",attrs:{to:{name:"UserOverview",params:{id:this.auth.name}}}},[a("icon",{staticClass:"icon",attrs:{icon:"user","fixed-width":""}}),t._v(" "),a("div",{staticClass:"label"},[t._v("Profile")])],1),t._v(" "),a("router-link",{staticClass:"primary-link",attrs:{to:"/notifications"}},[a("icon",{staticClass:"icon",attrs:{icon:"envelope","fixed-width":""}}),t._v(" "),a("div",{staticClass:"label"},[t._v("Notifications")])],1),t._v(" "),a("router-link",{staticClass:"primary-link",attrs:{to:"/settings"}},[a("icon",{staticClass:"icon",attrs:{icon:"cog","fixed-width":""}}),t._v(" "),a("div",{staticClass:"label"},[t._v("Settings")])],1),t._v(" "),t.isDataMod()?a("router-link",{staticClass:"primary-link",attrs:{to:"/edit/dashboard/feed"}},[a("icon",{staticClass:"icon",attrs:{icon:"magic","fixed-width":""}}),t._v(" "),a("div",{staticClass:"label"},[t._v("Mod Tools")])],1):t._e()],1),t._v(" "),a("div",{staticClass:"footer"},[a("router-link",{staticClass:"secondary-link",attrs:{to:"/forum/thread/2340"}},[a("icon",{attrs:{icon:"heart","fixed-width":""}}),t._v("\n\t\t\tDonate\n\t\t")],1),t._v(" "),a("router-link",{staticClass:"secondary-link",attrs:{to:"/apps"}},[a("icon",{attrs:{icon:["fab","app-store-ios"],"fixed-width":""}}),t._v("\n\t\t\tApps\n\t\t")],1),t._v(" "),a("a",{staticClass:"secondary-link",on:{click:t.discord}},[a("icon",{attrs:{icon:["fab","discord"],"fixed-width":""}}),t._v("\n\t\t\tDiscord\n\t\t")],1),t._v(" "),a("a",{staticClass:"secondary-link",on:{click:t.logout}},[a("icon",{attrs:{icon:"sign-out-alt","fixed-width":""}}),t._v("\n\t\t\tLogout\n\t\t")],1)],1)])},h=[],g=a("1da1"),f=(a("a481"),{mixins:[n["a"]],data(){return{hide:!1}},methods:{discord(){location.replace("https://discord.gg/TF428cr")},logout(){var t=this;return Object(g["a"])(function*(){try{yield t.$confirm("Are you sure you want to logout?",{title:"Confirm Logout",confirmButtonText:"Yes, Logout"})}catch(e){return}yield t.$store.dispatch("auth/logout"),r["a"].push({path:"/"})})()},onClick(t){const e=!!t.path.find(t=>{let e=t.localName;return"a"===e});e&&(this.hide=!0,setTimeout(()=>{this.hide=!1},30))}}}),y=f,b=(a("4637"),Object(u["a"])(y,v,h,!1,null,"0bb70ffa",null)),_=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quick-search",class:{visible:t.visible},on:{click:t.close}},[a("div",{staticClass:"input"},[a("icon",{staticClass:"icon left",attrs:{icon:"search",size:"sm"}}),t._v(" "),a("input",{ref:"input",attrs:{type:"text",placeholder:"Search AniList"},domProps:{value:t.query},on:{input:t.search}}),t._v(" "),a("icon",{staticClass:"icon right",attrs:{icon:"times",size:"sm"},on:{click:function(e){return t.close(null)}}}),t._v(" "),a("div",{staticClass:"hint"},[t._v("Hint: "+t._s(t.hint))])],1),t._v(" "),a("div",{staticClass:"results"},t._l(t.results,function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.results[0],expression:"resultCol.results[0]"}],key:i,staticClass:"result-col"},[a("h3",{staticClass:"title"},[t._v(t._s(i))]),t._v(" "),t._l(e.results,function(e){return a("div",{key:e,staticClass:"result"},["anime"==i||"manga"==i?a("media-row",{attrs:{id:e}}):"characters"==i?a("character-row",{attrs:{id:e}}):"staff"==i?a("staff-row",{attrs:{id:e}}):"users"==i?a("user-row",{attrs:{id:e}}):"studios"==i?a("studio-row",{attrs:{id:e}}):t._e()],1)}),t._v(" "),t.results[i].pageInfo&&t.results[i].pageInfo.total>13?a("div",{staticClass:"view-all result"},[a("router-link",{attrs:{to:{name:"Search",params:{type:i},query:{search:t.query,sort:"SEARCH_MATCH"}}}},[t._v("\n\t\t\t\t\tView all "+t._s(t.results[i].pageInfo.total)+"+ "+t._s(i)+" results\n\t\t\t\t")])],1):t._e()],2)}),0)])},C=[],O=a("b047"),$=a.n(O),k=a("7d3a"),S=a.n(k),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-link",{attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[t.media.coverImage?a("div",{staticClass:"image",style:t.image}):t._e(),t._v(" "),a("div",{staticClass:"name"},[t._v("\n\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t\t"),a("div",{staticClass:"info"},[t.media.startDate&&t.media.startDate.year?a("span",[t._v("\n\t\t\t\t\t"+t._s(t.media.startDate.year)+"\n\t\t\t\t")]):t._e(),t._v(" "),t.media.format?a("span",[t._v(t._s(t._f("capitalizeFormat")(t.media.format)))]):t._e(),t._v(" "),t.media.isLicensed?t._e():a("span",[t._v(" (Doujin)")])])])]),t._v(" "),t.auth?a("span",{staticClass:"open-list-editor",on:{click:function(e){return t.openListEditor(t.media.id)}}},[a("icon",{staticClass:"icon",attrs:{icon:"plus",size:"sm"}})],1):t._e()],1)},I=[],j={props:["id"],mixins:[n["a"]],computed:{media(){return this.$store.getters.entity("media",this.id)},image(){return{"background-image":`url(${this.media.coverImage.medium})`}}},methods:{openListEditor(t){this.$store.dispatch("medialistEditor/open",t)}}},A=j,E=Object(u["a"])(A,P,I,!1,null,null,null),x=E.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:{name:"Character",params:t.formatCharacterUrl(t.character)}}},[t.character.image?a("div",{staticClass:"image",style:t.image}):t._e(),t._v(" "),a("div",{staticClass:"name"},[t._v(t._s(t.character.name.full))])])},L=[],D={props:["id"],computed:{character(){return this.$store.getters.entity("character",this.id)},image(){return{"background-image":`url(${this.character.image.medium})`}}}},M=D,R=Object(u["a"])(M,T,L,!1,null,null,null),N=R.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:{name:"Staff",params:t.formatStaffUrl(t.staff)}}},[t.staff.image?a("div",{staticClass:"image",style:t.image}):t._e(),t._v(" "),a("div",{staticClass:"name"},[t._v(t._s(t.staff.name.full))])])},U=[],V={props:["id"],computed:{staff(){return this.$store.getters.entity("staff",this.id)},image(){return{"background-image":`url(${this.staff.image.medium})`}}}},z=V,q=Object(u["a"])(z,F,U,!1,null,null,null),B=q.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}},[t.user.avatar?a("div",{staticClass:"image",style:t.image}):t._e(),t._v(" "),a("div",{staticClass:"name"},[t._v(t._s(t.user.name))])])},G=[],W={props:["id"],computed:{user(){return this.$store.getters.entity("user",this.id)},image(){return{"background-image":`url(${this.user.avatar.medium})`}}}},Y=W,K=Object(u["a"])(Y,H,G,!1,null,null,null),Q=K.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"studio",attrs:{to:{name:"Studio",params:t.formatStudioUrl(t.studio)}}},[a("div",{staticClass:"name"},[t._v(t._s(t.studio.name))])])},X=[],Z={props:["id"],computed:{studio(){return this.$store.getters.entity("studio",this.id)}}},tt=Z,et=Object(u["a"])(tt,J,X,!1,null,null,null),at=et.exports,it={data(){return{query:null}},mixins:[n["a"]],components:{MediaRow:x,CharacterRow:N,StaffRow:B,UserRow:Q,StudioRow:at},computed:{results(){return this.$store.getters["quickSearch/search"](this.query)},visible(){return this.$store.getters["quickSearch/visible"]},hint(){return S()(["Hit Ctrl-S to quickly toggle Quick Search","Want more advanced searching? Try the Browse page"])}},methods:{search(t){let e=t.target.value;this.query=e,this.query&&this.fetchSearch()},fetchSearch:$()(function(){if(!this.query)return;const t={search:this.query};this.displayAdult||(t.isAdult=!1),this.$store.dispatch("quickSearch/fetchSearch",t)},300),open(t){const e=("83"==t.keyCode||"s"==t.key)&&(t.ctrlKey||t.metaKey),a="Escape"===t.key;(e||this.visible&&a)&&(t.preventDefault(),this.$store.dispatch("quickSearch/toggleVisibility"))},close(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){const e=["quick-search visible","results"];if(!e.includes(t.target.className))return}this.$store.dispatch("quickSearch/toggleVisibility",!1),this.$refs.input.blur(),this.query=null}},watch:{visible(t){t?this.$refs.input.focus():this.close()}},mounted(){document.addEventListener("keydown",this.open)},destroyed(){document.removeEventListener("keydown",this.open)}},st=it,rt=(a("73e3"),a("380b"),Object(u["a"])(st,w,C,!1,null,"bcbe965e",null)),nt=rt.exports,ot={components:{SearchNavDropdown:p,UserNavDropdown:_,QuickSearch:nt},mixins:[n["a"]],data(){return{hide:!1,top:0,transition:null,scrollPosotion:{new:0,old:0}}},computed:{navTransparency(){return this.$store.state.navTransparency&&this.scrollPosotion.new<60},avatar(){return{"background-image":`url(${this.auth.avatar.large})`}}},methods:{onScroll(){this.scrollPosotion.old=this.scrollPosotion.new,this.scrollPosotion.new=window.scrollY,this.hide=this.scrollPosotion.new>this.scrollPosotion.old,this.scrollPosotion.new<60&&this.hide?(this.top=`-${this.scrollPosotion.new}px`,this.transition=null):(this.transition="background 0.8s ease, top 0.5s",this.top=null)},showQuickSearch(){this.$store.dispatch("quickSearch/toggleVisibility")}},created(){window.addEventListener("scroll",this.onScroll)}},ct=ot,lt=(a("0084"),a("065b"),Object(u["a"])(ct,i,s,!1,null,"4fbac4e1",null));e["a"]=lt.exports},c39c:function(t,e,a){"use strict";var i=a("68e4"),s=a.n(i);s.a},c49e:function(t,e,a){"use strict";var i=a("f2b5"),s=a.n(i);s.a},c4f2:function(t,e,a){},c551:function(t,e,a){"use strict";var i,s,r=a("de91"),n={extends:r["a"],computed:{staff(){return this.$store.getters.entity("character",this.entityId)},staffLink(){return this.staff.name?{name:"Character",params:this.formatCharacterUrl(this.staff)}:{}}}},o=n,c=a("2877"),l=Object(c["a"])(o,i,s,!1,null,null,null);e["a"]=l.exports},c9c8:function(t,e,a){},caac:function(t,e,a){},caf6:function(t,e,a){},cbf5:function(t,e,a){"use strict";var i=a("a82f"),s=a.n(i);s.a},cdec:function(t,e,a){},ce11:function(t,e,a){},ce63:function(t,e,a){"use strict";a.d(e,"a",function(){return c}),a.d(e,"b",function(){return l});var i=a("3835"),s=a("4360"),r=a("9132");const n=r["a"].methods,o={anime:["media","formatMediaUrl"],manga:["media","formatMediaUrl"],staff:["staff","formatStaffUrl"],characters:["character","formatCharacterUrl"],users:["user","formatUserUrl"],studios:["studio","formatStudioUrl"]},c={"@context":"http://schema.org","@type":"WebSite",url:"https://anilist.co",potentialAction:[{"@type":"SearchAction",target:"https://anilist.co/search/anime?search={search_term_string}","query-input":"required name=search_term_string"}]},l=(t,e)=>{if(!t.pageInfo||!t.pageData[1]||!e)return{};const a=t.pageData[1],r=Object(i["a"])(o[e.toLowerCase()],2),c=r[0],l=r[1];return{"@context":"https://schema.org","@type":"ItemList",itemListElement:a.map((t,e)=>{const a=s["a"].getters.entity(c,t),i=n[l](a,!0);return{"@type":"ListItem",position:e+1,url:`https://anilist.co${i}`}})}}},cf12:function(t,e,a){"use strict";var i=a("6317"),s=a.n(i);s.a},cfda:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search",class:{"other-type":!t.isMediaSearch}},[a("div",{staticClass:"container"},[t.isDesktop?t.isRouteAlias&&t.routeAlias?a("h1",{staticClass:"alias-title"},[t._v(t._s(t.routeAlias.title))]):t.isMediaSearch?t._e():a("h1",{staticClass:"alias-title"},[t._v("Search "+t._s(t.type.toLowerCase()))]):a("mobile-nav",{attrs:{type:t.type}}),t._v(" "),a("filters",{staticClass:"primary-filters",attrs:{type:t.type.toLowerCase()},on:{"filter-change":t.updateRoute}}),t._v(" "),t.isMediaSearch?a("div",{staticClass:"secondary-filters"},[a("active-filters",{on:{"filter-change":t.updateRoute}}),t._v(" "),t.displaySearchLanding?t._e():a("div",{staticClass:"selects-wrap"},[t.isMobile?t._e():a("sort-select",{staticClass:"sort-select",on:{"filter-change":t.updateRoute}}),t._v(" "),a("view-select")],1)],1):t._e(),t._v(" "),t.displaySearchLanding?a("landing",{staticClass:"landing",attrs:{type:t.type}}):t.noResults?a("div",{staticClass:"no-results"},[t._v("\n\t\t\tNo Results\n\t\t")]):a("div",{staticClass:"results",class:t.resultsView.layout},[t._l(t.results.pageData,function(e,i){return t._l(e,function(e,s,r){return a(t.resultsView.component,{key:r,tag:"component",attrs:{"entity-id":e,rank:!!t.showRanks&&(20*(i-1)+s+1||1)}})})})],2),t._v(" "),t.changingPage?t._e():a("scroll-load",{ref:"scroll",attrs:{action:t.getNextPage}})],1)])},s=[],r=a("d295"),n=r["a"],o=(a("6696"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"7a42bb24",null);e["a"]=c.exports},d10a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"activity-entry",class:[{"full-width":t.showReplies},t.typeClass]},[a("div",{staticClass:"wrap"},["ANIME_LIST"===t.activity.type||"MANGA_LIST"===t.activity.type?a("div",{staticClass:"list",class:{small:t.small}},[a("router-link",{staticClass:"cover",style:t.mediaCoverStyle,attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}}),t._v(" "),a("div",{staticClass:"details"},[a("router-link",{staticClass:"name",attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}},[t._v("\n\t\t\t\t\t"+t._s(t.user.name)+"\n\t\t\t\t")]),t._v(" "),t.user.donatorTier&&!t.small?a("div",{staticClass:"donator-badge",class:{rainbow:t.user.donatorTier>4}},[t._v("\n\t\t\t\t\t"+t._s(t.user.donatorTier>3?t.user.donatorBadge:"Donator")+"\n\t\t\t\t")]):t._e(),t._v(" "),a("div",{staticClass:"status"},[t._v("\n\t\t\t\t\t"+t._s(t.status)+"\n\t\t\t\t\t"),a("router-link",{staticClass:"title",attrs:{to:{name:"MediaOverview",params:t.formatMediaUrl(t.media)}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.media.title.userPreferred)+"\n\t\t\t\t\t")])],1),t._v(" "),a("router-link",{staticClass:"avatar",style:t.avatarStyle,attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}}),t._v(" "),t.auth&&t.media.status?a("el-dropdown",{staticClass:"entry-dropdown",attrs:{size:"small",trigger:"click"},on:{command:t.editListStatus}},[a("span",{staticClass:"el-dropdown-link"},[a("icon",{attrs:{icon:"angle-down"}})],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"PLANNING"}},[t._v("\n\t\t\t\t\t\t\tSet as Planning\n\t\t\t\t\t\t")]),t._v(" "),"FINISHED"==t.media.status?a("el-dropdown-item",{attrs:{command:"COMPLETED"}},[t._v("\n\t\t\t\t\t\t\tSet as Complete\n\t\t\t\t\t\t")]):t._e(),t._v(" "),"NOT_YET_RELEASED"!=t.media.status?a("el-dropdown-item",{attrs:{command:"CURRENT"}},[t._v("\n\t\t\t\t\t\t\tSet as "+t._s("ANIME"==t.media.type?"Watching":"Reading")+"\n\t\t\t\t\t\t")]):t._e(),t._v(" "),a("el-dropdown-item",{attrs:{command:"open",divided:""}},[t._v("\n\t\t\t\t\t\t\tOpen List Editor\n\t\t\t\t\t\t")])],1)],1):t._e()],1)],1):a("div",{staticClass:"text"},[a("div",{staticClass:"header"},[a("router-link",{staticClass:"avatar",style:t.avatarStyle,attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}}),t._v(" "),a("router-link",{staticClass:"name",attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}},[t._v("\n\t\t\t\t\t"+t._s(t.user.name)+"\n\t\t\t\t")]),t._v(" "),t.user.donatorTier?a("div",{staticClass:"donator-badge",class:{rainbow:t.user.donatorTier>4}},[t._v("\n\t\t\t\t\t"+t._s(t.user.donatorTier>3?t.user.donatorBadge:"Donator")+"\n\t\t\t\t")]):t._e(),t._v(" "),4===t.user.id||t.isMod(t.user)?a("div",{staticClass:"donator-badge mod-badge"},[a("icon",{staticClass:"icon",attrs:{icon:"shield-alt"}}),t._v(" Mod\n\t\t\t\t")],1):t._e(),t._v(" "),t.activity.isPrivate?a("div",{staticClass:"donator-badge private-badge has-label",attrs:{label:t.privateMessageLabel}},[a("icon",{staticClass:"icon",attrs:{icon:"eye-slash"}}),t._v(" Private\n\t\t\t\t")],1):t._e()],1),t._v(" "),a("div",{staticClass:"activity-markdown"},[a("markdown",{attrs:{markdown:t.text}})],1)]),t._v(" "),a("div",{staticClass:"time"},[t.auth?a("span",{staticClass:"action has-label",class:{active:t.activity.isSubscribed},attrs:{label:t.activity.isSubscribed?"Unsubscribe":"Subscribe"},on:{click:t.toggleSubscription}},[a("icon",{attrs:{icon:"bell"}})],1):t._e(),t._v(" "),a("el-dropdown",{staticClass:"extras-dropdown",attrs:{trigger:"click",size:"medium"}},[a("span",{staticClass:"el-dropdown-link action"},[a("icon",{attrs:{icon:"ellipsis-h"}})],1),t._v(" "),a("el-dropdown-menu",{staticClass:"activity-extras-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[a("router-link",{staticClass:"el-dropdown-menu__item",attrs:{to:{name:"Activity",params:{id:t.activity.id}}}},[a("div",{staticClass:"icon"},[a("icon",{attrs:{icon:"link",size:"sm"}})],1),t._v("\n\t\t\t\t\t\tDirect Link\n\t\t\t\t\t")]),t._v(" "),t.auth&&t.user.id!==t.auth.id&&t.text&&!t.isMod()?a("div",{staticClass:"el-dropdown-menu__item",on:{click:t.reportActivity}},[a("div",{staticClass:"icon"},[a("icon",{attrs:{icon:"exclamation",size:"sm"}})],1),t._v("\n\t\t\t\t\t\tReport\n\t\t\t\t\t")]):t.isMod()&&t.text?a("div",{staticClass:"el-dropdown-menu__item",on:{click:t.saveAsModNote}},[a("div",{staticClass:"icon"},[a("icon",{attrs:{icon:"sticky-note",size:"sm"}})],1),t._v("\n\t\t\t\t\t\tSave As Mod Note\n\t\t\t\t\t")]):t._e(),t._v(" "),t.showEdit?a("div",{staticClass:"el-dropdown-menu__item",on:{click:function(e){t.editing=!t.editing}}},[a("div",{staticClass:"icon"},[a("icon",{attrs:{icon:"pencil-alt",size:"sm"}})],1),t._v("\n\t\t\t\t\t\tEdit\n\t\t\t\t\t")]):t._e(),t._v(" "),t.isMod()||t.showDelete?a("div",{staticClass:"el-dropdown-menu__item",on:{click:t.deleteActivity}},[a("div",{staticClass:"icon"},[a("icon",{attrs:{icon:"times",size:"sm"}})],1),t._v("\n\t\t\t\t\t\tDelete\n\t\t\t\t\t")]):t._e(),t._v(" "),t.isMod()?a("div",{staticClass:"el-dropdown-menu__item",on:{click:t.toggleActivityLock}},[a("div",{staticClass:"icon"},[a("icon",{attrs:{icon:"lock",size:"sm"}})],1),t._v("\n\t\t\t\t\t\t"+t._s(t.activity.isLocked?"Unlock":"Lock")+"\n\t\t\t\t\t")]):t._e()],1)],1),t._v(" "),a("timeago",{attrs:{since:1e3*t.activity.createdAt,"auto-update":60}})],1),t._v(" "),a("div",{staticClass:"actions"},[a("div",{staticClass:"action replies",on:{click:function(e){t.showReplies=!t.showReplies}}},[0!=t.activity.replyCount?a("span",{staticClass:"count"},[t._v(t._s(t.activity.replyCount))]):t._e(),t._v(" "),a("icon",{attrs:{icon:"comments",size:"sm"}})],1),t._v(" "),a("div",{staticClass:"action likes"},[a("likes",{attrs:{likeable:t.activity,type:"activity"}},[a("icon",{attrs:{icon:"heart",size:"sm"}})],1)],1)])]),t._v(" "),t.editing?a("el-dialog",{attrs:{"custom-class":"activity-editor-unscoped",visible:t.editing},on:{close:function(e){t.editing=!1}}},[a("activity-editor",{attrs:{type:"TEXT"==t.activity.type?"status":"message","activity-text":t.activity.text||t.activity.message,id:t.activity.id},on:{close:t.closeEditor,refresh:t.refresh}})],1):t._e(),t._v(" "),t.activity.id&&!t.hideReply?a("div",{staticClass:"reply-wrap"},[a("replies",{attrs:{id:t.activity.id,"show-replies":t.showReplies,locked:t.activity.isLocked}})],1):t._e()],1):t._e()},s=[],r=a("1da1"),n=a("18ff"),o=a.n(n),c=a("defb"),l=a.n(c),d=a("b370"),u=a.n(d),m=a("df33"),p=a.n(m),v=a("a189"),h=a("5ad4"),g=a("e6e0"),f=a("4e30"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.repliesVisible?a("div",{staticClass:"activity-replies"},[t.replies.pageData?[t._l(t.replies.pageData,function(e){return t._l(e,function(e){return a("activity-reply",{key:e,attrs:{id:e},on:{refresh:t.refresh}})})})]:t._e(),t._v(" "),t.refreshing?t._e():a("scroll-load",{ref:"scroll",attrs:{action:t.fetchReplies}}),t._v(" "),t.auth?[!t.locked||t.isMod()?a("activity-editor",{attrs:{type:"reply","create-id":t.id,"parent-id":t.id},on:{refresh:t.refresh}}):t._e(),t._v(" "),t.locked?a("div",{staticClass:"activity-locked"},[a("icon",{staticClass:"icon",attrs:{icon:"lock"}}),t._v("\n\t\t\tActivity Locked\n\t\t")],1):t._e()]:t._e()],2):t._e()},b=[],_=a("dc26"),w=a("59fe"),C={props:["id","showReplies","locked"],components:{ActivityReply:_["a"],ActivityEditor:f["default"]},mixins:[v["a"],w["a"]],data(){return{onActivityPage:!1,refreshing:!1,newReply:!1}},computed:{replies(){return this.$store.getters.entityPage(`activityReplies-${this.id}`,this.page)},repliesVisible(){return this.showReplies||this.onActivityPage}},methods:{fetchReplies(){var t=this;return Object(r["a"])(function*(){t.hasNextPage=yield t.$store.dispatch("activity/fetchReplies",{id:t.id,page:t.page})})()},refresh(){var t=this;return Object(r["a"])(function*(){t.refreshing=!0,t.newReply=!0,t.resetScrollLoader("refreshing")})()}},created(){"Activity"===this.$store.state.route.name&&(this.onActivityPage=!0)}},O=C,$=(a("d3b5"),a("2877")),k=Object($["a"])(O,y,b,!1,null,"7ce9ffb8",null),S=k.exports,P=a("2840"),I={props:["id","small","hideReply"],components:{Replies:S,Markdown:g["a"],Likes:P["a"],ActivityEditor:f["default"],ElDialog:p.a,ElDropdown:u.a,ElDropdownMenu:l.a,ElDropdownItem:o.a},mixins:[v["a"]],data(){return{showReplies:!1,editing:!1,saving:!1}},computed:{activity(){return this.$store.getters.entity("activity",this.id)},user(){const t="MESSAGE"===this.activity.type?this.activity.messenger:this.activity.user;return this.$store.getters.entity("user",t)},media(){return this.$store.getters.entity("media",this.activity.media)},listEntry(){return this.$store.getters.entity("listEntry",this.media.mediaListEntry)},mediaCoverStyle(){return{"background-image":`url(${this.media.coverImage.large})`}},avatarStyle(){return{"background-image":`url(${this.user.avatar.large})`}},status(){const t=this.activity.status.includes("watched")||this.activity.status.includes("read");let e=this.activity.status.charAt(0).toUpperCase()+this.activity.status.slice(1);return this.activity.progress&&t&&(e+=` ${this.activity.progress} of `),e},text(){return"MESSAGE"===this.activity.type?this.activity.message:this.activity.text},typeClass(){return`activity-${this.activity.type.toLowerCase()}`},privateMessageLabel(){const t=this.auth.id===this.activity.user?this.activity.messenger:this.activity.user,e=this.$store.getters.entity("user",t);return`Only visible to you, ${e.name}, and community moderators`},show(){return!!this.activity.id&&(this.media.id?!this.media.isAdult||this.auth&&this.auth.options.displayAdultContent:!!this.user.id)},showEdit(){return!(!this.auth||!this.text)&&(this.isMod()||this.user.id==this.auth.id)},showDelete(){return!!this.auth&&(this.activity.user==this.auth.id||this.activity.messenger==this.auth.id)}},methods:{toggleSubscription(){var t=this;return Object(r["a"])(function*(){yield t.$store.dispatch("activity/toggleSubscription",{id:t.activity.id,subscribe:!t.activity.isSubscribed})})()},deleteActivity(){var t=this;return Object(r["a"])(function*(){try{yield t.$confirm("Are you sure you want to delete this activity?","Warning"),yield t.$store.dispatch("activity/deleteActivity",t.activity.id)}catch(e){}})()},toggleActivityLock(){var t=this;return Object(r["a"])(function*(){const e=!t.activity.isLocked;try{yield t.$confirm(`Are you sure you want to ${e?"lock":"unlock"} this activity?`,"Warning")}catch(s){return}const a={ANIME_LIST:"list",MANGA_LIST:"list",TEXT:"status",MESSAGE:"message"},i=yield t.$store.dispatch("activity/saveActivity",{id:t.activity.id,type:a[t.activity.type],isLocked:e});i&&t.$notify({type:"success",message:`Activity ${e?"locked":"unlocked"}`})})()},reportActivity(){this.$prompt("Reason for report","Report Activity",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(t=>{this.$store.dispatch("user/createReport",{userId:this.user.id,reason:`${t.value}\n\t\t\t\t\tUrl: https://anilist.co/activity/${this.activity.id}\n\t\t\t\t\tText/Message:\n\t\t\t\t\t${this.text}`})})},refresh(){this.$emit("refresh"),this.editing=!1},closeEditor(){this.editing=!1},editListStatus(t){var e=this;return Object(r["a"])(function*(){const a=e.media,i=a.id,s=a.title,r=a.type;if("open"==t)return void e.$store.dispatch("medialistEditor/open",i);const n=yield e.$store.dispatch("medialistEditor/save",{status:t,mediaId:i});if(n){const t=Object(h["capitalizeListStatus"])(e.listEntry.status,r).toLowerCase();e.$notify({type:"success",message:`${s.userPreferred} added to ${t} list`})}})()},saveAsModNote(){var t=this;return Object(r["a"])(function*(){if(t.saving)return;try{yield t.$confirm("Are you sure you want to save this a mod note?",{title:"Confirm note creation",confirmButtonText:"Yes"})}catch(s){return}t.saving=!0;const e=`https://anilist.co/activity/${t.id}`;let a="Text Activity:";if("MESSAGE"===t.activity.type){const e=t.$store.getters.entity("user",t.activity.user);a=`Message to: [${e.name}](/user/${e.id})`}const i=yield t.$store.dispatch("user/saveModNote",{userId:t.user.id,note:a+`\n ${e} \n ${t.text}`});t.saving=!1,i&&t.$notify({type:"success",message:"Note created"})})()}}},j=I,A=(a("a243"),a("78e1"),Object($["a"])(j,i,s,!1,null,"6c3dc0b8",null));e["default"]=A.exports},d113:function(t,e,a){},d171:function(t,e,a){},d1c1:function(t,e,a){"use strict";var i=a("64ed"),s=a.n(i);s.a},d230:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"media-embed",attrs:{"data-media-id":t.id,"data-media-type":t.type,href:t.url,target:"_blank"}},[t.media.id?a("div",[a("div",{staticClass:"embed"},[t.media.coverImage?a("div",{staticClass:"cover",style:t.coverStyle}):t._e(),t._v(" "),a("div",{staticClass:"wrap"},[t.media.title?a("div",{staticClass:"title"},[t._v(t._s(t.media.title.userPreferred))]):t._e(),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"genres"},[t.media.genres&&t.media.genres[0]?t._l(t.media.genres,function(e,i){return a("span",{key:i},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e)),a("span",{directives:[{name:"show",rawName:"v-show",value:t.media.genres[i+1],expression:"media.genres[index + 1]"}]},[t._v(", ")])])}):t._e()],2),t._v(" "),t.media.format?a("span",[t._v(t._s(t._f("capitalizeFormat")(t.media.format))+" ·")]):t._e(),t._v(" "),t.media.status?a("span",[t._v(t._s(t._f("capitalize")(t.media.status))+" ·")]):t._e(),t._v(" "),t.media.startDate&&t.media.startDate.year?a("span",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("capitalize")(t.media.season))+" "+t._s(t.media.startDate.year)+" ·\n\t\t\t\t\t")]):t._e(),t._v(" "),t.media.averageScore?a("span",[t._v(t._s(t.media.averageScore)+"%")]):t._e()])])])]):[t._v(t._s(t.url))]],2)},s=[],r=a("1da1"),n={props:["id","type"],computed:{media(){return this.$store.getters.entity("media",this.id)},url(){return this.media.id?this.formatMediaUrl(this.media,!0):`https://anilist.co/${this.type}/${this.id}`},coverStyle(){return{"background-image":`url(${this.media.coverImage.large})`}},isMediaCached(){const t=["id","genres","format","status","startDate","averageScore"];return t.every(t=>"undefined"!==typeof this.media[t])}},methods:{fetchMediaEmbed(){var t=this;return Object(r["a"])(function*(){yield t.$store.dispatch("embed/fetchMedia",t.id)})()}},mounted(){this.isMediaCached||this.fetchMediaEmbed()}},o=n,c=(a("780e"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"e529d5e4",null);e["a"]=l.exports},d249:function(t,e,a){"use strict";var i=a("54b9"),s=a.n(i);s.a},d295:function(t,e,a){"use strict";(function(t){a("55dd");var i=a("3835"),s=(a("ac6a"),a("1da1")),r=(a("a481"),a("ade3")),n=a("ab3e"),o=a.n(n),c=a("13ea"),l=a.n(c),d=a("a18c"),u=a("a189"),m=a("59fe"),p=a("235f"),v=a("eaba"),h=a("ce63"),g=a("00b7"),f=a("b551"),y=a("427e"),b=a("bead"),_=a("6bae"),w=a("de91"),C=a("c551"),O=a("0675"),$=a("4e48"),k=a("669d"),S=a("77a5"),P=a("9bd1"),I=a("311c");function j(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}e["a"]={mixins:[u["a"],m["a"]],components:{Filters:v["a"],ActiveFilters:f["a"],SortSelect:k["a"],ViewSelect:S["a"],MobileNav:P["a"],CoverCard:y["a"],ChartCard:b["a"],TableCard:_["a"],StaffCard:w["a"],CharacterCard:C["a"],UserCard:O["a"],StudioCard:$["a"],Landing:I["a"]},props:{type:{type:String,required:!0},isRouteAlias:{type:Boolean,default:!1}},data(){return{changingPage:!1,isMounted:!1,routeAliases:{}}},computed:{results(){const t=(this.type||"ANIME").toUpperCase(),e=`${t}-${JSON.stringify(this.activeFilters)}`,a=this.$store.getters.entityPage(e,this.page);if(!this.loading)return a;if(l()(a.pageData))return{pageData:[new Array(20).fill("loading")]};const i=Number(o()(a.pageData))+1;return{pageData:A({},a.pageData,{},{[i]:new Array(6).fill("loading")})}},resultsView(){if(this.isMediaSearch)return this.mediaResultsView;const t={STAFF:"StaffCard",CHARACTERS:"CharacterCard",USERS:"UserCard",STUDIOS:"StudioCard"};return{component:t[this.type],layout:"cover"}},mediaResultsView(){const t=this.$store.getters["search/view"],e={cover:{component:"CoverCard",layout:"cover"},chart:{component:"ChartCard",layout:"chart"},table:{component:"TableCard",layout:"table"}};return e[t]||e.cover},noResults(){const t=this.results;return!this.loading&&t.pageData&&t.pageData[1]&&!t.pageData[1][0]},displaySearchLanding(){return l()(this.activeFilters)&&this.isMounted},filters(){return this.$store.getters["search/filters"]},activeFilters(){const t=this.$store.getters["search/activeFilters"],e={},a=(t,e)=>!t||"sort"===e&&"SEARCH_MATCH"===t;for(const i in t){const s=t[i];a(s,i)||(e[i]=s)}return e},routeAlias(){const t=this.$route.name.replace("searchAlias-",""),e=this.routeAliases[t],a="manga"===this.type.toLowerCase()?"read":"watch";if(e)return A({},e,{title:e.title.replace("$type",this.type.toLowerCase()),description:e.description&&e.description.replace(/\$type/g,this.type.toLowerCase()).replace(/\$action/g,a)})},showRanks(){const t=this.routeAlias;return t&&t.title.startsWith("Top")},isMediaSearch(){return"ANIME"===this.type||"MANGA"===this.type},isDesktop(){return this.$store.state.screen.isDesktop},isMobile(){return this.$store.state.screen.isMobile},structuredData(){return"Landing"===this.$route.name?h["a"]:Object(h["b"])(this.results,this.type)}},methods:{fetchSearchResults(t,e){var a=this;return Object(s["a"])(function*(){a.hasNextPage=yield a.$store.dispatch("search/fetchSearch",{page:t,routeQuery:a.activeFilters,type:(e||"ANIME").toUpperCase()})})()},getNextPage(){var t=this;return Object(s["a"])(function*(){if(!t.displaySearchLanding&&t.isMounted)return yield t.fetchSearchResults(t.page,t.type)})()},updateRoute(){const t=l()(this.$route.query)?"push":"replace";d["a"][t]({name:"Search",params:{type:this.type.toLowerCase()},query:this.activeFilters})},setFiltersFromUrl(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.isRouteAlias;if(a&&e){const a=this.routeAliases[e.replace("searchAlias-","")];a&&a.query&&(t=a.query)}let s=!1;return Object.entries(t).forEach(e=>{let a=Object(i["a"])(e,2),r=a[0],n=a[1];const o=this.filters[r];if(o){s=!0;const e=o.multiSelect;this.$store.dispatch("search/setActiveFilter",{name:r,value:e&&!Array.isArray(n)?[n]:n}),"search"!==r||t.sort||this.$store.dispatch("search/setActiveFilter",{name:"sort",value:"SEARCH_MATCH"})}}),this.isMounted=!0,s}},serverPrefetch(){var t=this;return Object(s["a"])(function*(){yield t.$store.dispatch("search/initFilters",t.type),t.setFiltersFromUrl(t.$route.query,t.$route.name),!t.displaySearchLanding&&t.isMounted&&(yield t.fetchSearchResults(1,t.type),t.page=1)})()},mounted(){"Landing"===this.$route.name&&(this.$store.dispatch("search/initFilters",this.type),this.$store.dispatch("search/setView"),this.isMounted=!0)},beforeRouteEnter(e,i,s){s(i=>{if(i.routeAliases=a("47c5").aliases,i.$store.dispatch("search/setView"),i.$store.dispatch("search/resetActiveFilters"),!t.browser)return;i.$store.dispatch("search/initFilters",e.params.type);const s=Object(g["a"])(e.query,e.params.type),r=i.setFiltersFromUrl(s,e.name);r&&i.resetScrollLoader("changingPage")})},beforeRouteUpdate(t,e,a){e.params.type!==t.params.type?(this.resetScrollLoader("changingPage"),this.$store.dispatch("search/resetActiveFilters"),this.$store.dispatch("search/initFilters",t.params.type),this.routeAliases[t.name.replace("searchAlias-","")]&&this.setFiltersFromUrl(t.query,t.name,!0)):l()(t.query)?this.$store.dispatch("search/resetActiveFilters"):l()(t.query)||(this.setFiltersFromUrl(t.query,t.name),this.resetScrollLoader("changingPage")),a()},metaInfo(){return A({},Object(p["a"])(this.$route,this.type,this.routeAlias),{script:[{type:"application/ld+json",innerHTML:JSON.stringify(this.structuredData)}],__dangerouslyDisableSanitizers:["script"]})}}}).call(this,a("f28c"))},d3b5:function(t,e,a){"use strict";var i=a("400f"),s=a.n(i);s.a},d4a2:function(t,e,a){},d551:function(t,e,a){"use strict";var i=a("a532"),s=a.n(i);s.a},d6f5:function(t,e,a){},d751:function(t,e,a){},d7be:function(t,e,a){"use strict";var i=a("1481"),s=a.n(i);s.a},da67:function(t,e,a){},db67:function(t,e,a){"use strict";var i=a("4abc"),s=a.n(i);s.a},dc26:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.reply.id?a("div",{staticClass:"reply"},[a("div",{staticClass:"header"},[t.user.id&&t.user.avatar?[a("router-link",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.user.avatar.large,expression:"user.avatar.large",arg:"background-image"}],staticClass:"avatar",attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}}),t._v(" "),a("router-link",{staticClass:"name",attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}},[t._v("\n\t\t\t\t"+t._s(t.user.name)+"\n\t\t\t")]),t._v(" "),4===t.user.id||t.isMod(t.user)?a("div",{staticClass:"donator-badge mod-badge"},[a("icon",{staticClass:"icon",attrs:{icon:"shield-alt"}}),t._v(" Mod\n\t\t\t")],1):t._e()]:t._e(),t._v(" "),a("div",{staticClass:"actions"},[a("div",{staticClass:"action time"},[t.isMod()||t.auth.id==t.user.id?a("div",{staticClass:"action",on:{click:function(e){t.editing=!t.editing}}},[t._v("\n\t\t\t\t\tEdit\n\t\t\t\t")]):t._e(),t._v(" "),t.auth&&t.auth.id!==t.user.id&&t.reply.activityId&&!t.isMod()?a("span",{staticClass:"action",on:{click:t.reportReply}},[a("icon",{attrs:{icon:"exclamation",size:"sm"}})],1):t.isMod()?a("span",{staticClass:"action",on:{click:t.saveAsModNote}},[a("icon",{attrs:{icon:"sticky-note",size:"sm"}})],1):t._e(),t._v(" "),t.isMod()||t.auth.id==t.user.id?a("span",{staticClass:"action",on:{click:t.deleteReply}},[a("icon",{attrs:{icon:"times",size:"sm"}})],1):t._e()]),t._v(" "),a("div",{staticClass:"action likes"},[a("likes",{attrs:{likeable:t.reply,type:"activity_reply"}},[a("icon",{attrs:{icon:"heart",size:"sm"}})],1)],1),t._v(" "),a("div",{staticClass:"action time"},[a("timeago",{attrs:{since:1e3*t.reply.createdAt,"auto-update":60}})],1)])],2),t._v(" "),a("div",{staticClass:"reply-markdown"},[a("markdown",{attrs:{markdown:t.reply.text}})],1),t._v(" "),t.editing?a("el-dialog",{attrs:{"custom-class":"activity-editor-unscoped",visible:t.editing},on:{close:function(e){t.editing=!1}}},[a("activity-editor",{attrs:{type:"reply",id:t.reply.id,"activity-text":t.reply.text},on:{close:t.closeEditor,refresh:t.refresh}})],1):t._e()],1):t._e()},s=[],r=a("1da1"),n=a("df33"),o=a.n(n),c=a("a189"),l=a("e6e0"),d=a("2840"),u={props:["id"],components:{Markdown:l["a"],Likes:d["a"],ElDialog:o.a},mixins:[c["a"]],data(){return{editing:!1,saving:!1}},computed:{reply(){return this.$store.getters.entity("activityReply",this.id)},user(){return this.$store.getters.entity("user",this.reply.user)}},methods:{deleteReply(){var t=this;return Object(r["a"])(function*(){try{yield t.$confirm("Are you sure you want to delete this activity reply?","Warning"),yield t.$store.dispatch("activity/deleteActivityReply",t.reply.id)}catch(e){}})()},reportReply(){this.$prompt("Reason for report","Report Activity Reply",{confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then(t=>{this.$store.dispatch("user/createReport",{userId:this.user.id,reason:`${t.value}\n\t\t\t\t\tParent Url: https://anilist.co/activity/${this.reply.activityId}\n\t\t\t\t\tReply Text: ${this.reply.text}`})})},refresh(){this.$emit("refresh"),this.editing=!1},closeEditor(){this.editing=!1},saveAsModNote(){var t=this;return Object(r["a"])(function*(){if(t.saving)return;t.saving=!0;let e=t.user;const a=t.isMod(e);if(a){const a=t.$store.getters.entity("activity",t.reply.activityId);e=t.$store.getters.entity("user",a.user)}const i=`https://anilist.co/activity/${t.reply.activityId}`,s=yield t.$store.dispatch("user/saveModNote",{userId:e.id,note:`${a?"(Mod) ":""}Activity Reply: \n ${i} \n ${t.reply.text}`});t.saving=!1,s&&t.$notify({type:"success",message:"Note created"})})()}},beforeCreate(){this.$options.components.ActivityEditor=a("4e30").default}},m=u,p=(a("bcad"),a("2877")),v=Object(p["a"])(m,i,s,!1,null,"5a191921",null);e["a"]=v.exports},dc39:function(t,e,a){"use strict";var i=a("59ea"),s=a.n(i);s.a},dc89:function(t,e,a){},dc9a:function(t,e,a){"use strict";var i=a("6b99"),s=a.n(i);s.a},dd6a:function(t,e,a){"use strict";var i=a("44bb"),s=a.n(i);s.a},dd6d:function(t,e,a){"use strict";var i=a("b476"),s=a.n(i);s.a},ddde:function(t,e,a){},de8e:function(t,e,a){},de91:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"staff-card",attrs:{to:t.staffLink}},[t.loading?[a("div",{staticClass:"cover loading"}),t._v(" "),a("div",{staticClass:"name loading"})]:[t.staff.image?a("div",{staticClass:"cover"},[a("img",{staticClass:"image",class:{loaded:t.coverImageLoaded},attrs:{src:t.staff.image.large},on:{load:t.onImageLoad}})]):t._e(),t._v(" "),t.staff.name?a("div",{staticClass:"name"},[t._v("\n\t\t\t"+t._s(t.staff.name.full)+"\n\t\t")]):t._e()]],2)},s=[],r={props:["entityId"],data(){return{coverImageLoaded:!1}},computed:{staff(){return this.$store.getters.entity("staff",this.entityId)},loading(){return"loading"===this.entityId},staffLink(){return this.staff.name?{name:"Staff",params:this.formatStaffUrl(this.staff)}:{}}},methods:{onImageLoad(){this.coverImageLoaded=!0}}},n=r,o=(a("8c4d"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"da035fc8",null);e["a"]=c.exports},df68:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"e",function(){return r}),a.d(e,"d",function(){return n}),a.d(e,"b",function(){return o}),a.d(e,"c",function(){return c});a("ac6a");var i=a("4360");const s=(t,e)=>i["a"].getters.entity(t,e),r=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return i["a"].commit("setEntities",...e)},n=(t,e)=>i["a"].commit("deleteEntity",{type:t,id:e}),o=(t,e)=>{if(!t.page)return{};const a=e||Object.keys(t.page)[0];return a?t.page[a].pageInfo:{}},c=(t,e)=>{return o(t,e).hasNextPage||!1}},e02b:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return r});let i=null;function s(){return i||(i=localStorage.getItem("site-theme")||"default"),i}function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s();if(document.body.classList.remove("site-theme-dark"),document.body.classList.remove("site-theme-contrast"),"default"===t)return i=t,void localStorage.removeItem("site-theme");document.body.classList.add(`site-theme-${t}`),localStorage.setItem("site-theme",t),i=t}},e030:function(t,e,a){"use strict";var i=a("e215"),s=a.n(i);s.a},e037:function(t,e,a){"use strict";var i=a("ebf6");e["a"]=`mutation($name:String,$password:String,$captcha:String){Login(name:$name,password:$password,captcha:$captcha){${i["a"]}}}`},e161:function(t,e,a){"use strict";var i=a("2521"),s=a.n(i);s.a},e215:function(t,e,a){},e225:function(t,e,a){"use strict";var i=a("d4a2"),s=a.n(i);s.a},e23c:function(t,e,a){},e326:function(t,e,a){"use strict";var i=a("aa0d"),s=a.n(i);s.a},e43e:function(t,e,a){"use strict";(function(t){let i={};t.browser&&(i=a("4b70")),e["a"]={components:{scrollBar:i},computed:{scrollBarWidth(){return this.$store.state.scrollBarWidth},scrollType(){return this.scrollBarWidth?"scroll-bar":"div"}}}}).call(this,a("f28c"))},e559:function(t,e,a){},e567:function(t,e,a){"use strict";var i=a("2115"),s=a.n(i);s.a},e6e0:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isBrowser?a("div",{staticClass:"markdown",attrs:{id:t.uniqueId},domProps:{innerHTML:t._s(t.markdownHtml)}}):a("div",{staticClass:"markdown",attrs:{id:t.uniqueId}},[t._v(t._s(t.markdownPlainText))])},s=[],r=a("45eb"),n=r["a"],o=(a("23cb"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,null,null);e["a"]=c.exports},e8f1:function(t,e,a){"use strict";var i=a("2fe1"),s=a.n(i);s.a},ea24:function(t,e,a){},eaba:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filters-wrap",class:{"other-type":!t.isMediaSearch}},[t.isDesktop?t._e():a("div",{staticClass:"mobile-filters"},[a("div",{staticClass:"search-wrap"},[a("icon",{staticClass:"icon left",attrs:{icon:"search"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchFilter,expression:"searchFilter"}],staticClass:"search",attrs:{type:"search",autocomplete:"off",placeholder:"Search"},domProps:{value:t.searchFilter},on:{input:function(e){e.target.composing||(t.searchFilter=e.target.value)}}}),t._v(" "),t.searchFilter?a("icon",{staticClass:"icon right close",attrs:{icon:"times"},on:{click:function(e){t.searchFilter=null}}}):t._e()],1),t._v(" "),a("div",{staticClass:"open-btn",class:{active:t.mobileFiltersVisible},on:{click:function(e){t.mobileFiltersVisible=!t.mobileFiltersVisible}}},[a("icon",{staticClass:"icon",attrs:{icon:"sliders-h"}})],1)]),t._v(" "),t.isDesktop||t.mobileFiltersVisible?a("div",{staticClass:"filters"},[t.isDesktop?a("div",{staticClass:"filter filter-select"},[a("div",{staticClass:"name"},[t._v("Search")]),t._v(" "),a("div",{staticClass:"search-wrap"},[a("icon",{staticClass:"icon left",attrs:{icon:"search"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchFilter,expression:"searchFilter"}],staticClass:"search",attrs:{type:"search",autocomplete:"off"},domProps:{value:t.searchFilter},on:{input:function(e){e.target.composing||(t.searchFilter=e.target.value)}}}),t._v(" "),t.searchFilter?a("icon",{staticClass:"icon right close",attrs:{icon:"times"},on:{click:function(e){t.searchFilter=null}}}):t._e()],1)]):t._e(),t._v(" "),t._l(t.selectFilters,function(e,i,s){return a("div",{key:s,staticClass:"filter filter-select"},[a("div",{staticClass:"name"},[t._v(t._s(i))]),t._v(" "),a("al-select",{attrs:{value:t.activeFilters[i],options:e.values,"options-type":e.type||"map",title:i,filterable:e.filterable,"multi-select":e.multiSelect,placeholder:"Any"},on:{input:function(e){return t.select(i,e)}}})],1)}),t._v(" "),t.isDesktop?t._e():t._l(t.checkboxFilters,function(e,i){return a("div",{key:i,staticClass:"filter filter-checkbox"},[a("div",{staticClass:"name"},[t._v(t._s(i))]),t._v(" "),a("al-checkbox",{attrs:{label:i,value:t.activeFilters[i]},on:{input:function(e){return t.select(i,e)}}})],1)})],2):t._e(),t._v(" "),t.isDesktop?a("extra-filters",{attrs:{type:t.type},on:{"filter-change":t.emitChange}}):t._e()],1)},s=[],r=(a("386d"),a("3835")),n=(a("ac6a"),a("b047")),o=a.n(n),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.clickAway,expression:"clickAway"}],staticClass:"select-wrap",class:{"dropdown-visible":t.dropdownVisible},attrs:{tabindex:"-1"},on:{keydown:t.keyEvent}},[a("div",{staticClass:"select",on:{click:function(e){t.dropdownVisible=!0}}},[a("div",{staticClass:"value-wrap"},[t.filterActive?t._e():[t.multiSelect&&Array.isArray(t.value)&&t.value[0]?a("div",{staticClass:"tags"},[a("div",{staticClass:"tag",on:{click:function(e){return t.toggleSelection(t.value[0])}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.labels[0])+"\n\t\t\t\t\t")]),t._v(" "),t.value[1]?a("div",{staticClass:"tag"},[t._v("\n\t\t\t\t\t\t+"+t._s(t.value.length-1)+"\n\t\t\t\t\t")]):t._e()]):t.value?a("div",{staticClass:"value"},[t._v("\n\t\t\t\t\t"+t._s(t.label)+"\n\t\t\t\t")]):t.filter?t._e():a("div",{staticClass:"placeholder"},[t._v("\n\t\t\t\t\t"+t._s(t.placeholder)+"\n\t\t\t\t")])],t._v(" "),t.filterable&&!t.isMobile?a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"filter",attrs:{type:"search",autocomplete:"off"},domProps:{value:t.filter},on:{focus:function(e){t.filterActive=!0},blur:function(e){t.filterActive=!1},input:function(e){e.target.composing||(t.filter=e.target.value)}}}):a("div",{staticClass:"filter"})],2),t._v(" "),t.value?a("icon",{staticClass:"icon",attrs:{icon:"times","fixed-width":""},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}}):a("icon",{staticClass:"icon",attrs:{icon:"chevron-down","fixed-width":""},on:{click:function(e){t.dropdownVisible=!0}}})],1),t._v(" "),a("transition",{attrs:{name:"options-animation"}},[t.title&&t.dropdownVisible&&t.isMobile?a("div",{staticClass:"mobile-banner"},[a("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),a("icon",{staticClass:"close-icon",attrs:{icon:"minus","fixed-width":""}})],1):t._e()]),t._v(" "),a("transition",{attrs:{name:"options-animation"}},[t.dropdownVisible?a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.clickAwayMobile,expression:"clickAwayMobile"}],staticClass:"options"},[a("scroll-bar",{staticClass:"scroll-wrap"},t._l(t.optionGroups,function(e,i){return a("div",{key:i,staticClass:"option-group"},[e.title?a("div",{staticClass:"group-title"},[t._v(t._s(e.title))]):t._e(),t._v(" "),t._l(e.options,function(e,i){return a("div",{key:i,staticClass:"option",class:{selected:t.isKeyboardSelected(e.value)},on:{click:function(a){return t.toggleSelection(e.value)}}},[a("div",{staticClass:"label"},[a("div",{staticClass:"name"},[t._v(t._s(e.label||e.value))]),t._v(" "),t.selected(e.value)?a("div",{staticClass:"selected-icon circle"},[a("icon",{attrs:{icon:"check"}})],1):t._e()]),t._v(" "),e.description?a("div",{staticClass:"description"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.description)+"\n\t\t\t\t\t\t")]):t._e()])})],2)}),0)],1):t._e()])],1)},l=[],d=a("c7db"),u=a("25c9"),m={props:{value:{default:null},options:{default(){return[]}},optionsType:{type:String},title:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},multiSelect:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1}},mixins:[d["mixin"]],components:{ScrollBar:u["a"]},data(){return{dropdownVisible:!1,filter:"",filterActive:!1,keyboardSelectedKey:null}},computed:{optionGroups(){if(this.options.groups){const t=Object.keys(this.options.groups);return t.map(t=>({title:t,options:this.formatOptions(this.options.groups[t])}))}return[{options:this.formatOptions(this.options)}]},label(){return this.getLabel(this.value)},labels(){return this.value.map(t=>this.getLabel(t))},keyboardSelectedValue(){let t=this.keyboardSelectedKey;if(null===t)return;const e=this.optionGroups.find(e=>{const a=e.options.length,i=a>t;return i||(t-=a),i}),a=e.options;return a[t].value},isMobile(){return this.$store.state.screen.isMobile}},methods:{formatOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsType;return"array"===e&&(t=t.map(t=>({value:t}))),"map"===e&&(t=Object.entries(t),e="entries"),"entries"===e&&(t=t.map(t=>({label:t[1],value:t[0]}))),this.filterOptions(t)},filterOptions(t){return this.filter.trim()?t.filter(t=>{const e=String(t.label||t.value).toLowerCase();return e.includes(this.filter.toLowerCase())}):t},getLabel(t){for(const e of this.optionGroups){const a=e.options;for(const e of a)if(e.value==t)return e.label||e.value}},selected(t){return this.multiSelect&&Array.isArray(this.value)?this.value.includes(t):t==this.value},isKeyboardSelected(t){return this.keyboardSelectedValue===t},toggleSelection(t){if(this.filter="",this.filterActive=!1,!this.multiSelect)return this.clickAway(),void this.$emit("input",t);let e=Array.isArray(this.value)?[...this.value]:[];this.selected(t)?e=e.filter(e=>e!==t):e.push(t),this.$emit("input",e[0]?e:null)},clear(){this.$emit("input",null),this.dropdownVisible=!1,this.filterActive=!1,this.filter=""},clickAway(){this.filter="",this.filterActive=!1,this.dropdownVisible=!1},clickAwayMobile(){this.isMobile&&this.clickAway()},keyEvent(t){const e=t.key,a={ArrowDown:()=>{null===this.keyboardSelectedKey?this.keyboardSelectedKey=0:this.keyboardSelectedKey=this.keyboardSelectedKey+1},ArrowUp:()=>{this.keyboardSelectedKey&&(this.keyboardSelectedKey=this.keyboardSelectedKey-1)},Enter:()=>{this.toggleSelection(this.keyboardSelectedValue)}},i=a[e];i&&(t.preventDefault(),i())}}},p=m,v=(a("2547"),a("2877")),h=Object(v["a"])(p,c,l,!1,null,"0f4acdbb",null),g=h.exports,f=a("82ff"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.closeDropdown,expression:"closeDropdown"}],staticClass:"extra-filters-wrap"},[a("div",{staticClass:"open-btn",class:{active:t.dropdownVisible},on:{click:t.toggleDropdown}},[a("icon",{staticClass:"icon",attrs:{icon:"sliders-h"}})],1),t._v(" "),a("transition",{attrs:{name:"dropdown-animation"}},[t.dropdownVisible?a("div",{staticClass:"dropdown",class:t.type},[a("div",{staticClass:"filters-wrap"},t._l(t.selectFilters,function(e,i,s){return a("div",{key:s,staticClass:"filter select-wrap"},[a("div",{staticClass:"name"},[t._v(t._s(i))]),t._v(" "),a("al-select",{attrs:{value:t.activeFilters[i],options:e.values,"options-type":e.type||"map",title:i,filterable:e.filterable,"multi-select":e.multiSelect,placeholder:"Any"},on:{input:function(e){return t.select(i,e)}}})],1)}),0),t._v(" "),a("div",{staticClass:"filters-wrap"},t._l(t.rangeFilters,function(e,i){return a("div",{key:i,staticClass:"filter range-wrap"},[a("al-range",{attrs:{label:i,values:t.activeFilters[i],min:e.min,max:e.max},on:{input:function(e){return t.select(i,e)}}})],1)}),0),t._v(" "),a("div",{staticClass:"filters-wrap checkbox"},t._l(t.checkboxFilters,function(e,i){return a("div",{key:i,staticClass:"filter checkbox-wrap"},[a("al-checkbox",{attrs:{label:i,value:t.activeFilters[i]},on:{input:function(e){return t.select(i,e)}}})],1)}),0),t._v(" "),a("div",{staticClass:"tag-filtesr-wrap"},[a("h3",{on:{click:function(e){t.tagFiltersVisible=!t.tagFiltersVisible}}},[a("icon",{staticClass:"icon",attrs:{icon:t.tagFiltersVisible?"chevron-down":"chevron-right","fixed-width":""}}),t._v("\n\t\t\t\t\tAdvanced Genres & Tag Filters\n\t\t\t\t")],1),t._v(" "),t.tagFiltersVisible?a("tag-filters",{on:{"filter-change":t.filterChange}}):t._e()],1)]):t._e()])],1)},b=[],_=a("1ad9"),w=a.n(_),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"range-wrap",style:t.styleVars},[a("div",{staticClass:"header"},[a("div",{staticClass:"label"},[t._v("\n\t\t\t"+t._s(t.label)+"\n\t\t")]),t._v(" "),t.values?a("div",{staticClass:"values"},[t._v("\n\t\t\t"+t._s(t.values[0])+" - "+t._s(t.values[1])+"\n\t\t\t"),a("icon",{staticClass:"clear-btn",attrs:{icon:"times"},on:{click:t.clearValues}})],1):t._e()]),t._v(" "),a("div",{staticClass:"range"},[a("div",{ref:"rail",staticClass:"rail"},[a("div",{ref:"handle0",staticClass:"handle handle-0",class:{active:0===t.activeHandle,inactive:1===t.activeHandle},attrs:{label:t.positionsToValues[0]}}),t._v(" "),a("div",{staticClass:"active-region"}),t._v(" "),a("div",{ref:"handle1",staticClass:"handle handle-1",class:{active:1===t.activeHandle,inactive:0===t.activeHandle},attrs:{label:t.positionsToValues[1]}})])])])},O=[],$={props:{label:String,values:Array,min:{type:[String,Number],default:0},max:{type:[String,Number],default:100}},data(){return{railWidth:200,activeHandle:null,handlePositions:[0,200]}},computed:{positionsToValues(){const t=(t,e)=>t/e*100,e=(t,e)=>t/100*e,a=[t(this.handlePositions[0],this.railWidth),t(this.handlePositions[1],this.railWidth)];return[Math.round(this.min+e(a[0],this.max-this.min)),Math.round(this.min+e(a[1],this.max-this.min))]},valuesToPositions(){const t=(t,e)=>t/e*100,e=(t,e)=>t/100*e,a=[t(Number(this.values[0])-this.min,this.max-this.min),t(Number(this.values[1])-this.min,this.max-this.min)];return[Math.round(e(a[0],this.railWidth)),Math.round(e(a[1],this.railWidth))]},styleVars(){const t=this.handlePositions[1]-this.handlePositions[0];return{"--handle-0-position":`${this.handlePositions[0]}px`,"--handle-1-position":`${this.handlePositions[1]}px`,"--active-region-width":`${t}px`}}},methods:{updateValues(){const t=this.positionsToValues;if(t[0]===this.min&&t[1]===this.max)return this.clearValues();this.$emit("input",t)},clearValues(){this.$emit("input",null),this.handlePositions=[0,this.railWidth]},initPositions(){this.railWidth=this.$refs.rail.clientWidth,this.$set(this.handlePositions,1,this.railWidth),this.values&&(this.handlePositions=this.valuesToPositions)},startDrag(t){this.activeHandle=this.getHandleIndex(t)},stopDrag(t){this.activeHandle=null,this.updateValues()},onDrag(t){if(null===this.activeHandle)return;t.preventDefault();const e=this.getHandleIndex(t),a=this.handlePositions[e]+t.movementX;if(a>this.railWidth||a<0)return;const i=this.handlePositions[e?0:1];if(0===e){if(a+2>i)return}else if(a-2<i)return;this.$set(this.handlePositions,e,a)},getHandleRefs(){return[this.$refs.handle0,this.$refs.handle1]},createDragListeners(){this.activeHandle=null;const t=this.getHandleRefs();t.forEach(t=>{t.addEventListener("mousedown",this.startDrag),t.addEventListener("mouseup",this.stopDrag),t.addEventListener("mousemove",this.onDrag)})},destroyDragListeners(){this.activeHandle=null;const t=this.getHandleRefs();t.forEach(t=>{t.removeEventListener("mousedown",this.startDrag),t.removeEventListener("mouseup",this.stopDrag),t.removeEventListener("mousemove",this.onDrag)})},getHandleIndex(t){return t.target.classList.contains("handle-0")?0:t.target.classList.contains("handle-1")?1:null}},mounted(){this.createDragListeners(),this.initPositions()},beforeDestroy(){this.destroyDragListeners()}},k=$,S=(a("b9f6"),Object(v["a"])(k,C,O,!1,null,"94c49b6c",null)),P=S.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{ref:"wrap",staticClass:"tags-wrap"},[a("scroll-bar",{staticClass:"scroll-wrap"},[a("div",{staticClass:"header-filters"},[a("al-slider",{attrs:{label:"Minimum tag percentage",values:t.minimumTagRank},on:{input:function(e){return t.minimumTagRank=e}}}),t._v(" "),a("div",{staticClass:"search-wrap"},[a("icon",{staticClass:"icon left",attrs:{icon:"search"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tagFilter,expression:"tagFilter"}],staticClass:"search",attrs:{type:"search",autocomplete:"off",placeholder:"Filter Tags"},domProps:{value:t.tagFilter},on:{input:function(e){e.target.composing||(t.tagFilter=e.target.value)}}}),t._v(" "),t.tagFilter?a("icon",{staticClass:"icon right close",attrs:{icon:"times"},on:{click:function(e){t.tagFilter=""}}}):t._e()],1)],1),t._v(" "),t._l(t.visibleTagGroups,function(e,i){return a("div",{key:i,staticClass:"group"},[a("div",{staticClass:"title"},[t._v(t._s(i.replace("-"," / ")))]),t._v(" "),t._l(e,function(e,s){return a("tag",{key:s,attrs:{tag:e,id:"tag-"+e.name},on:{"tag-change":t.filterChange},nativeOn:{mouseenter:function(a){return t.showTooltip(e,s,i)},mouseleave:function(e){return t.hideTooltip(e)}}})})],2)})],2)],1),t._v(" "),a("tool-tip",{attrs:{visible:t.tooltip.visible,parent:t.tooltip.parent,manual:!0}},[a("template",{slot:"title"},[t._v("\n\t\t\t"+t._s(t.tooltip.data.name)+"\n\t\t")]),t._v(" "),a("template",{slot:"content"},[a("div",{staticClass:"tag-tooltip-description"},[t._v("\n\t\t\t\t"+t._s(t.tooltip.data.description)+"\n\t\t\t")])])],2)],1)},j=[],A=a("1da1"),E=a("a189"),x=a("0aa0"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"range-wrap",style:t.styleVars},[a("div",{staticClass:"header"},[a("div",{staticClass:"label"},[t._v("\n\t\t\t"+t._s(t.label)+"\n\t\t")]),t._v(" "),t.values?a("div",{staticClass:"values"},[t._v("\n\t\t\t"+t._s(t.values[0])+"\n\t\t\t"),a("icon",{staticClass:"clear-btn",attrs:{icon:"times"},on:{click:t.clearValues}})],1):t._e()]),t._v(" "),a("div",{staticClass:"range"},[a("div",{ref:"rail",staticClass:"rail"},[a("div",{ref:"handle0",staticClass:"handle handle-0",class:{active:0===t.activeHandle,inactive:1===t.activeHandle},attrs:{label:t.positionsToValues[0]}})])])])},L=[],D={extends:P,methods:{getHandleRefs(){return[this.$refs.handle0]}}},M=D,R=Object(v["a"])(M,T,L,!1,null,null,null),N=R.exports,F=a("4cb2"),U=a("5bcc"),V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tag",staticClass:"tag",class:{included:t.included,excluded:t.excluded},attrs:{tabindex:"-1"},on:{click:t.toggle}},[t._v("\n\t"+t._s(t.tag.name)+"\n")])},z=[],q={props:["tag"],computed:{activeFilters(){return this.$store.getters["search/activeFilters"]},included(){const t=this.activeFilters.genres||[];return t.includes(this.tag.name)},excluded(){const t=this.activeFilters.excludeGenres||[];return t.includes(this.tag.name)}},methods:{toggle(){if(this.blur(),this.excluded)return this.clear(),void this.$emit("tag-change");const t=this.included?"excludeGenres":"genres";this.clear();const e=[...this.activeFilters[t]||[]];e.push(this.tag.name),this.$store.dispatch("search/setActiveFilter",{name:t,value:e}),this.$emit("tag-change")},clear(){const t=this.included?"genres":"excludeGenres",e=this.$store.getters["search/activeFilters"][t]||[],a=e.filter(t=>t!==this.tag.name);this.$store.dispatch("search/setActiveFilter",{name:t,value:a[0]?a:null})},blur(){setTimeout(()=>{this.$refs.tag.blur()},600)}}},B=q,H=(a("2226"),Object(v["a"])(B,V,z,!1,null,"5760f120",null)),G=H.exports,W={mixins:[E["a"],U["a"]],components:{AlSlider:N,ScrollBar:u["a"],ToolTip:F["a"],Tag:G},data(){return{tagGroups:[],tagFilter:""}},computed:{visibleTagGroups(){const t={};for(const e in this.tagGroups){const a=this.tagGroups[e],i=a.filter(this.showTag);i[0]&&(t[e]=i)}return t},activeFilters(){return this.$store.getters["search/activeFilters"]},hasActiveTagFilters(){return this.activeFilters.genres||this.activeFilters.excludeGenres},minimumTagRank:{get(){return[this.activeFilters.minimumTagRank||18]},set(t){this.$store.dispatch("search/setActiveFilter",{name:"minimumTagRank",value:t?t[0]:null}),this.hasActiveTagFilters&&this.filterChange()}}},methods:{showTooltip(t,e,a){var i=this;return Object(A["a"])(function*(){if(!t.description)return;const e=document.getElementById(`tag-${t.name}`);e&&(i.tooltip={data:t,visible:!0,parent:e})})()},showTag(t){const e=t.name.toLowerCase();return e.toLowerCase().includes(this.tagFilter.toLowerCase())},filterChange(){this.$emit("filter-change")}},mounted(){var t=this;return Object(A["a"])(function*(){t.tagGroups=yield Object(x["b"])(t.displayAdult),t.$refs.wrap&&(t.tooltip.parent=t.$refs.wrap.$el)})()}},Y=W,K=(a("fb80"),a("e225"),Object(v["a"])(Y,I,j,!1,null,"128d71ac",null)),Q=K.exports,J={mixins:[d["mixin"]],props:["type"],components:{AlSelect:g,AlRange:P,AlCheckbox:f["a"],TagFilters:Q},data(){return{dropdownVisible:!1,tagFiltersVisible:!1}},computed:{selectFilters(){const t=Object.entries(this.filters).filter(t=>{let e=Object(r["a"])(t,2),a=(e[0],e[1]);return"select"===a.inputType}),e=w()(t,this.overflowSelectAmount);return Object.fromEntries(e)},rangeFilters(){const t=Object.entries(this.filters).filter(t=>{let e=Object(r["a"])(t,2),a=(e[0],e[1]);return"range"===a.inputType});return Object.fromEntries(t)},checkboxFilters(){const t=Object.entries(this.filters).filter(t=>{let e=Object(r["a"])(t,2),a=(e[0],e[1]);return"checkbox"===a.inputType&&(!a.hiddenIf||!a.hiddenIf(this.activeFilters))});return Object.fromEntries(t)},filters(){return this.$store.getters["search/filters"]},activeFilters(){return this.$store.getters["search/activeFilters"]},overflowSelectAmount(){const t=this.$store.state.screen.width;return t>1540?"manga"===this.type?2:3:"manga"===this.type?3:4}},methods:{select(t,e){this.$store.dispatch("search/setActiveFilter",{name:t,value:e}),this.filterChange()},filterChange(){this.$emit("filter-change")},toggleDropdown(){this.dropdownVisible=!this.dropdownVisible},closeDropdown(){this.dropdownVisible=!1}}},X=J,Z=(a("3325"),Object(v["a"])(X,y,b,!1,null,"a679b1ba",null)),tt=Z.exports,et={props:{type:{default:"anime"}},components:{AlSelect:g,AlCheckbox:f["a"],ExtraFilters:tt},data(){return{mobileFiltersVisible:!1}},computed:{selectFilters(){const t={};let e=0;for(const a in this.filters){if(e>=this.visibleFilterAmount)break;const i=this.filters[a];"select"!==i.inputType||this.hidden(i.hidden)||(t[a]=i,e++)}return t},checkboxFilters(){const t=Object.entries(this.filters).filter(t=>{let e=Object(r["a"])(t,2),a=(e[0],e[1]);return"checkbox"===a.inputType});return Object.fromEntries(t)},searchFilter:{get(){return this.activeFilters.search},set(t){this.select("search",t),this.select("sort","SEARCH_MATCH")}},filters(){return this.$store.getters["search/filters"]},activeFilters(){return this.$store.getters["search/activeFilters"]},visibleFilterAmount(){const t=this.$store.state.screen.width;return t>1540?5:t>1040?4:99},isMediaSearch(){return"anime"===this.type||"manga"===this.type},isDesktop(){return this.$store.state.screen.isDesktop},isMobile(){return this.$store.state.screen.isMobile}},methods:{hidden(t){return!!t&&("all"===t||("mobile"===t?this.isMobile:!this.isMobile))},select(t,e){this.$store.dispatch("search/setActiveFilter",{name:t,value:e}),this.emitChange()},emitChange:o()(function(){this.$emit("filter-change")},300)}},at=et,it=(a("06b2"),Object(v["a"])(at,i,s,!1,null,"458a983a",null));e["a"]=it.exports},ead3:function(t,e,a){"use strict";var i=a("75b9"),s=a.n(i);s.a},ebaf:function(t,e,a){},ebf6:function(t,e,a){"use strict";e["a"]="id name about avatar{large}bannerImage unreadNotificationCount donatorTier donatorBadge moderatorStatus options{titleLanguage airingNotifications displayAdultContent profileColor notificationOptions{type enabled}}mediaListOptions{scoreFormat rowOrder animeList{customLists sectionOrder splitCompletedSectionByFormat advancedScoring advancedScoringEnabled}mangaList{customLists sectionOrder splitCompletedSectionByFormat advancedScoring advancedScoringEnabled}}"},ec38:function(t,e,a){"use strict";var i=a("bd75"),s=a.n(i);s.a},ecb1:function(t,e,a){},ed47:function(t,e,a){},eec5:function(t,e,a){"use strict";var i=a("d171"),s=a.n(i);s.a},ef81:function(t,e,a){},ef9b:function(t,e,a){},f0fc:function(t,e,a){"use strict";var i=a("9b45"),s=a.n(i);s.a},f2b5:function(t,e,a){},f63d:function(t,e,a){"use strict";var i=a("5b6a"),s=a.n(i);s.a},f653:function(t,e,a){"use strict";var i=a("1972"),s=a.n(i);s.a},f7d7:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.thread.id?a("div",{staticClass:"thread-card",class:{small:t.small,sticky:t.thread.isSticky&&!t.small}},[t.thread.isSticky&&!t.small?a("icon",{staticClass:"pin",attrs:{icon:"thumbtack",size:"sm"}}):t._e(),t._v(" "),a("router-link",{staticClass:"title",attrs:{to:{name:"ForumThread",params:{id:t.thread.id}}}},[t._v("\n\t\t"+t._s(t._f("removeAllCaps")(t.thread.title))+"\n\t")]),t._v(" "),t.thread.body&&!t.hidePreview?a("div",{staticClass:"body-preview"},[t._v(t._s(t.body))]):t._e(),t._v(" "),a("div",{staticClass:"footer"},[a("router-link",{staticClass:"avatar",style:t.avatarStyle,attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.replyUser.id?t.replyUser:t.user)}}}),t._v(" "),t.replyUser.id&&t.thread.replyCommentId?a("div",{staticClass:"name"},[a("router-link",{attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.replyUser)}}},[a("span",[t._v(t._s(t.replyUser.name))])]),t._v(" "),a("router-link",{attrs:{to:{name:"ForumThreadComment",params:{id:t.thread.id,commentId:t.thread.replyCommentId}}}},[t._v("\n\t\t\t\treplied "),a("timeago",{attrs:{since:1e3*t.thread.repliedAt,"auto-update":60}})],1)],1):a("div",{staticClass:"name"},[a("router-link",{attrs:{to:{name:"UserOverview",params:t.formatUserUrl(t.user)}}},[t._v("\n\t\t\t\tBy "),a("span",[t._v(t._s(t.user.name))])])],1),t._v(" "),a("div",{staticClass:"categories"},[t._l(t.categories,function(t,e,i){return a("category",{key:i,attrs:{category:t}})}),t._v(" "),t._l(t.mediaCategories,function(t,e,i){return a("category",{key:i,attrs:{"media-id":t}})})],2),t._v(" "),a("div",{staticClass:"info"},[t.thread.viewCount?a("span",[a("icon",{attrs:{icon:"eye",size:"sm"}}),t._v(" "+t._s(t.thread.viewCount))],1):t._e(),t._v(" "),t.thread.replyCount?a("span",[a("icon",{attrs:{icon:"comments",size:"sm"}}),t._v(" "+t._s(t.thread.replyCount))],1):t._e()])],1)],1):t._e()},s=[],r=(a("a481"),a("2095")),n={name:"threadCard",props:["id","small","hidePreview"],components:{Category:r["a"]},computed:{thread(){return this.$store.getters.entity("thread",this.id)},user(){return this.$store.getters.entity("user",this.thread.user)},replyUser(){return this.$store.getters.entity("user",this.thread.replyUser)},avatarStyle(){return this.replyUser.id?{"background-image":`url(${this.replyUser.avatar.large})`}:this.user.id?{"background-image":`url(${this.user.avatar.large})`}:void 0},categories(){return null==this.thread.categories?null:this.thread.categories.slice(0,3)},mediaCategories(){return null==this.thread.mediaCategories?null:this.thread.mediaCategories.slice(0,2)},body(){if(!this.thread.body)return;let t=this.thread.body;return t.replace(/(~![\s\S]*?!~)/gm,"").replace(/(\([\s\S]*?\)|\<[\s\S]*?\>)/gm,"").replace(/(img|webm|youtube)/gm,"").replace(/[\[\]\(\)_>~\-#!`]/gm,"")}}},o=n,c=(a("8d2c"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"70ae1ba4",null);e["a"]=l.exports},f898:function(t,e,a){"use strict";(function(t){a.d(e,"b",function(){return r}),a.d(e,"a",function(){return i});const i=t.browser?a("ba48"):{Interpolation:{}},s=(t,e)=>{const a=e.value.y||"";e.group.elem("text",{x:t.x,y:t.y-10,style:"text-anchor: middle"},"label-text").text(i.noop(a))},r=t=>{t.on("draw",t=>{"bar"===t.type?s({x:t.x1,y:t.y2},t):"point"===t.type&&s({x:t.x,y:t.y},t)})}}).call(this,a("f28c"))},fb80:function(t,e,a){"use strict";var i=a("61de"),s=a.n(i);s.a},fc1a:function(t,e,a){},fc7b:function(t,e,a){"use strict";e["a"]="mutation($email:String){ResetPassword(email:$email)}"},fd2d:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"footer"},[a("div",{staticClass:"container"},[a("div",{staticClass:"theme-selector"},[a("h2",[t._v("Site Theme")]),t._v(" "),a("el-tooltip",{attrs:{content:"Default",placement:"top-start"}},[a("div",{staticClass:"theme-preview default",on:{click:function(e){return t.setTheme("default")}}},[t._v("A")])]),t._v(" "),a("el-tooltip",{attrs:{content:"Dark",placement:"top-start"}},[a("div",{staticClass:"theme-preview dark",on:{click:function(e){return t.setTheme("dark")}}},[t._v("A")])]),t._v(" "),a("el-tooltip",{attrs:{content:"High Contrast",placement:"top-start"}},[a("div",{staticClass:"theme-preview contrast",on:{click:function(e){return t.setTheme("contrast")}}},[t._v("A")])])],1),t._v(" "),a("div",{staticClass:"links"},[a("section",[t.auth?a("a",{attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")]):t._e(),t._v(" "),a("a",{attrs:{href:"https://anilist.co",target:"_blank"}},[t._v("AniList.co")]),t._v(" "),a("a",{attrs:{href:"http://anichart.net",target:"_blank"}},[t._v("AniChart.net")]),t._v(" "),a("router-link",{attrs:{to:"/forum/thread/2340"}},[t._v("Donate")])],1),t._v(" "),a("section",[a("router-link",{attrs:{to:"/apps"}},[t._v("Apps")]),t._v(" "),a("router-link",{attrs:{to:"/site-stats"}},[t._v("Site Stats")]),t._v(" "),a("router-link",{attrs:{to:"/recommendations"}},[t._v("Recommendations")]),t._v(" "),a("a",{attrs:{href:"https://github.com/AniList/ApiV2-GraphQL-Docs",target:"_blank"}},[t._v("API")])],1),t._v(" "),t._m(0),t._v(" "),t._m(1)])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("a",{attrs:{href:"https://discord.gg/TF428cr",target:"_blank"}},[t._v("Discord")]),t._v(" "),a("a",{attrs:{href:"https://twitter.com/AniListco",target:"_blank"}},[t._v("Twitter")]),t._v(" "),a("a",{attrs:{href:"https://www.facebook.com/Anichart",target:"_blank"}},[t._v("Facebook")]),t._v(" "),a("a",{attrs:{href:"https://github.com/AniList",target:"_blank"}},[t._v("GitHub")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("a",{attrs:{href:"https://submission-manual.anilist.co/",target:"_blank"}},[t._v("Add Data")]),t._v(" "),a("a",{attrs:{href:"mailto:contact@anilist.co",target:"_top"}},[t._v("Contact")]),t._v(" "),a("a",{attrs:{href:"/terms",target:"_blank"}},[t._v("Terms & Privacy")]),t._v(" "),a("a",{attrs:{href:"/sitemap/index.xml",target:"_blank"}},[t._v("Site Map")])])}],r=a("1da1"),n=a("a18c"),o=a("a189"),c=a("e02b"),l={mixins:[o["a"]],methods:{setTheme(t){Object(c["b"])(t)},logout(){var t=this;return Object(r["a"])(function*(){try{yield t.$confirm("Are you sure you want to logout?",{title:"Confirm Logout",confirmButtonText:"Yes, Logout"})}catch(e){return}yield t.$store.dispatch("auth/logout"),n["a"].push({path:"/"})})()}}},d=l,u=(a("73e1"),a("2877")),m=Object(u["a"])(d,i,s,!1,null,"6f9ee47f",null);e["a"]=m.exports},fe43:function(t,e,a){},fed8:function(t,e,a){},ff48:function(t,e,a){"use strict";var i=a("99dd"),s=a.n(i);s.a},ffde:function(t,e,a){"use strict";var i=a("30b2"),s=a.n(i);s.a},fffc:function(t,e,a){"use strict";var i=a("caf6"),s=a.n(i);s.a}});