(function(n){n.isScrollToFixed=function(t){return!!n(t).data("ScrollToFixed")};n.ScrollToFixed=function(t,i){function ot(){r.trigger("preUnfixed.ScrollToFixed");o();r.trigger("unfixed.ScrollToFixed");l=-1;p=r.offset().top;h=r.offset().left;u.options.offsets&&(h+=r.offset().left-r.position().left);it==-1&&(it=h);f=r.css("position");y=!0;u.options.bottom!=-1&&(r.trigger("preFixed.ScrollToFixed"),k(),r.trigger("fixed.ScrollToFixed"))}function rt(){var n=u.options.limit;return n?typeof n=="function"?n.apply(r):n:0}function a(){return f==="fixed"}function ut(){return f==="absolute"}function c(){return!(a()||ut())}function k(){a()||(e.css({display:r.css("display"),width:r.outerWidth(!0),height:r.outerHeight(!0),float:r.css("float")}),cssOptions={"z-index":u.options.zIndex,position:"fixed",top:u.options.bottom==-1?w():"",bottom:u.options.bottom==-1?"":u.options.bottom,"margin-left":"0px"},u.options.dontSetWidth||(cssOptions.width=r.width()),r.css(cssOptions),r.addClass(u.options.baseClassName),u.options.className&&r.addClass(u.options.className),f="fixed")}function ft(){var n=rt(),t=h;u.options.removeOffsets&&(t="",n=n-p);cssOptions={position:"absolute",top:n,left:t,"margin-left":"0px",bottom:""};u.options.dontSetWidth||(cssOptions.width=r.width());r.css(cssOptions);f="absolute"}function o(){c()||(l=-1,e.css("display","none"),r.css({"z-index":tt,width:"",position:b,left:"",top:nt,"margin-left":""}),r.removeClass("scroll-to-fixed-fixed"),u.options.className&&r.removeClass(u.options.className),f=null)}function d(n){n!=l&&(r.css("left",h-n),l=n)}function w(){var n=u.options.marginTop;return n?typeof n=="function"?n.apply(r):n:0}function v(){var t;if(n.isScrollToFixed(r)){t=y;y?c()&&(p=r.offset().top,h=r.offset().left):ot();var f=n(window).scrollLeft(),e=n(window).scrollTop(),i=rt();u.options.minWidth&&n(window).width()<u.options.minWidth?c()&&t||(s(),r.trigger("preUnfixed.ScrollToFixed"),o(),r.trigger("unfixed.ScrollToFixed")):u.options.maxWidth&&n(window).width()>u.options.maxWidth?c()&&t||(s(),r.trigger("preUnfixed.ScrollToFixed"),o(),r.trigger("unfixed.ScrollToFixed")):u.options.bottom==-1?i>0&&e>=i-w()?ut()&&t||(s(),r.trigger("preAbsolute.ScrollToFixed"),ft(),r.trigger("unfixed.ScrollToFixed")):e>=p-w()?(a()&&t||(s(),r.trigger("preFixed.ScrollToFixed"),k(),l=-1,r.trigger("fixed.ScrollToFixed")),d(f)):c()&&t||(s(),r.trigger("preUnfixed.ScrollToFixed"),o(),r.trigger("unfixed.ScrollToFixed")):i>0?e+n(window).height()-r.outerHeight(!0)>=i-(w()||-st())?a()&&(s(),r.trigger("preUnfixed.ScrollToFixed"),b==="absolute"?ft():o(),r.trigger("unfixed.ScrollToFixed")):(a()||(s(),r.trigger("preFixed.ScrollToFixed"),k()),d(f),r.trigger("fixed.ScrollToFixed")):d(f)}}function st(){return u.options.bottom?u.options.bottom:0}function s(){var n=r.css("position");n=="absolute"?r.trigger("postAbsolute.ScrollToFixed"):n=="fixed"?r.trigger("postFixed.ScrollToFixed"):r.trigger("postUnfixed.ScrollToFixed")}var u=this;u.$el=n(t);u.el=t;u.$el.data("ScrollToFixed",u);var y=!1,r=u.$el,f,b,nt,tt,p=0,h=0,it=-1,l=-1,e=null;var g=function(){r.is(":visible")&&(y=!1,v())},et=function(){!window.requestAnimationFrame?v():requestAnimationFrame(v)},ct=function(){var n=document.body,t,i,r,u,f;return document.createElement&&n&&n.appendChild&&n.removeChild?(t=document.createElement("div"),!t.getBoundingClientRect)?null:(t.innerHTML="x",t.style.cssText="position:fixed;top:100px;",n.appendChild(t),i=n.style.height,r=n.scrollTop,n.style.height="3000px",n.scrollTop=500,u=t.getBoundingClientRect().top,n.style.height=i,f=u===100,n.removeChild(t),n.scrollTop=r,f):null},ht=function(n){n=n||window.event;n.preventDefault&&n.preventDefault();n.returnValue=!1};u.init=function(){u.options=n.extend({},n.ScrollToFixed.defaultOptions,i);tt=r.css("z-index");u.$el.css("z-index",u.options.zIndex);e=n("<div />");f=r.css("position");b=r.css("position");nt=r.css("top");c()&&u.$el.after(e);n(window).bind("resize.ScrollToFixed",g);n(window).bind("scroll.ScrollToFixed",et);"ontouchmove"in window&&n(window).bind("touchmove.ScrollToFixed",v);u.options.preFixed&&r.bind("preFixed.ScrollToFixed",u.options.preFixed);u.options.postFixed&&r.bind("postFixed.ScrollToFixed",u.options.postFixed);u.options.preUnfixed&&r.bind("preUnfixed.ScrollToFixed",u.options.preUnfixed);u.options.postUnfixed&&r.bind("postUnfixed.ScrollToFixed",u.options.postUnfixed);u.options.preAbsolute&&r.bind("preAbsolute.ScrollToFixed",u.options.preAbsolute);u.options.postAbsolute&&r.bind("postAbsolute.ScrollToFixed",u.options.postAbsolute);u.options.fixed&&r.bind("fixed.ScrollToFixed",u.options.fixed);u.options.unfixed&&r.bind("unfixed.ScrollToFixed",u.options.unfixed);u.options.spacerClass&&e.addClass(u.options.spacerClass);r.bind("resize.ScrollToFixed",function(){e.height(r.height())});r.bind("scroll.ScrollToFixed",function(){r.trigger("preUnfixed.ScrollToFixed");o();r.trigger("unfixed.ScrollToFixed");v()});r.bind("detach.ScrollToFixed",function(t){ht(t);r.trigger("preUnfixed.ScrollToFixed");o();r.trigger("unfixed.ScrollToFixed");n(window).unbind("resize.ScrollToFixed",g);n(window).unbind("scroll.ScrollToFixed",et);r.unbind(".ScrollToFixed");e.remove();u.$el.removeData("ScrollToFixed")});g()};u.init()};n.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"};n.fn.scrollToFixed=function(t){return this.each(function(){new n.ScrollToFixed(this,t)})}})(jQuery),function(n){function i(n,t){for(var i=window,r=(n||"").split(".");i&&r.length;)i=i[r.shift()];return typeof i=="function"?i:(t.push(n),Function.constructor.apply(null,t))}function u(n){return n==="GET"||n==="POST"}function o(n,t){u(t)||n.setRequestHeader("X-HTTP-Method-Override",t)}function s(t,i,r){var u;r.indexOf("application/x-javascript")===-1&&(u=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),n(t.getAttribute("data-ajax-update")).each(function(t,r){var f;switch(u){case"BEFORE":f=r.firstChild;n("<div />").html(i).contents().each(function(){r.insertBefore(this,f)});break;case"AFTER":n("<div />").html(i).contents().each(function(){r.appendChild(this)});break;case"REPLACE-WITH":n(r).replaceWith(i);break;default:n(r).html(i)}}))}function f(t,r){var e,h,f,c;(e=t.getAttribute("data-ajax-confirm"),!e||window.confirm(e))&&(h=n(t.getAttribute("data-ajax-loading")),c=parseInt(t.getAttribute("data-ajax-loading-duration"),10)||0,n.extend(r,{type:t.getAttribute("data-ajax-method")||undefined,url:t.getAttribute("data-ajax-url")||undefined,cache:!!t.getAttribute("data-ajax-cache"),beforeSend:function(n){var r;return o(n,f),r=i(t.getAttribute("data-ajax-begin"),["xhr"]).apply(t,arguments),r!==!1&&h.show(c),r},complete:function(){h.hide(c);i(t.getAttribute("data-ajax-complete"),["xhr","status"]).apply(t,arguments)},success:function(n,r,u){s(t,n,u.getResponseHeader("Content-Type")||"text/html");i(t.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(t,arguments)},error:function(){i(t.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(t,arguments)}}),r.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),f=r.type.toUpperCase(),u(f)||(r.type="POST",r.data.push({name:"X-HTTP-Method-Override",value:f})),n.ajax(r))}function h(t){var i=n(t).data(e);return!i||!i.validate||i.validate()}var t="unobtrusiveAjaxClick",r="unobtrusiveAjaxClickTarget",e="unobtrusiveValidation";n(document).on("click","a[data-ajax=true]",function(n){n.preventDefault();f(this,{url:this.href,type:"GET",data:[]})});n(document).on("click","form[data-ajax=true] input[type=image]",function(i){var r=i.target.name,u=n(i.target),f=n(u.parents("form")[0]),e=u.offset();f.data(t,[{name:r+".x",value:Math.round(i.pageX-e.left)},{name:r+".y",value:Math.round(i.pageY-e.top)}]);setTimeout(function(){f.removeData(t)},0)});n(document).on("click","form[data-ajax=true] :submit",function(i){var f=i.currentTarget.name,e=n(i.target),u=n(e.parents("form")[0]);u.data(t,f?[{name:f,value:i.currentTarget.value}]:[]);u.data(r,e);setTimeout(function(){u.removeData(t);u.removeData(r)},0)});n(document).on("submit","form[data-ajax=true]",function(i){var e=n(this).data(t)||[],u=n(this).data(r),o=u&&u.hasClass("cancel");(i.preventDefault(),o||h(this))&&f(this,{url:this.action,type:this.method||"GET",data:e.concat(n(this).serializeArray())})})}(jQuery);!function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i;return n(this[0]).is("form")?t=this.validate().form():(t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t})),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var e,s,f,u,o,h,r=this[0];if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i];delete f[i];"required"===i&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(9!==t.which||""!==this.elementValue(n))&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this[0].form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!this.is(i.ignore)&&i[u].call(r,this[0],t)}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",i).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",i);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var u=this.clean(t),i=this.validationTargetFor(u),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[u.name]:(this.prepareElement(i),this.currentElements=n(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),n(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var i,t=0;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,r=n(t),u=r.attr("type");return"radio"===u||"checkbox"===u?n("input[name='"+r.attr("name")+"']:checked").val():(i=r.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,r,u,f=n(t).rules(),s=n.map(f,function(n,t){return t}).length,e=!1,h=this.elementValue(t);for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,h,t,u.parameters),"dependency-mismatch"===i&&1===s){e=!0;continue}if(e=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",o),o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i[0].toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t,method:i.method});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t)));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")===i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var r,i,u={},e=n(t),f=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(null===f||/number|range|text/.test(f))&&(i=Number(i)),i||0===i?u[r]=i:f===r&&"range"!==f&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule"+i[0].toUpperCase()+i.substring(1).toLowerCase()),void 0!==r&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var i,f,e=0,r=0,u=!1;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var u,e,f=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,context:u.currentForm,success:function(r){var o,e,h,s=r===!0||"true"===r;u.settings.messages[i.name].remote=f.originalMessage;s?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(o={},e=r||u.defaultMessage(i,"remote"),o[i.name]=f.message=n.isFunction(e)?e(t):e,u.invalid[i.name]=!0,u.showErrors(o));f.valid=s;u.stopRequest(i,s)}},r)),"pending")}}});n.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead.";}}(jQuery),function(n){var i,t={};n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})}(jQuery),function(n){n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery),function(n){function i(n,t,i){n.rules[t]=i;n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function e(n){return n.substr(0,n.lastIndexOf(".")+1)}function o(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+f(i[0].name)+"']"),u=r.attr("data-valmsg-replace"),e=u?n.parseJSON(u)!==!1:null;r.removeClass("field-validation-valid").addClass("field-validation-error");t.data("unobtrusiveContainer",r);e?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function a(t){var i=t.data("unobtrusiveContainer"),r=i.attr("data-valmsg-replace"),u=r?n.parseJSON(r):null;i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),u&&i.empty())}function v(){var t=n(this);t.data("validator").resetForm();t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}function s(t){var i=n(t),r=i.data(u),f=n.proxy(v,t);return r||(r={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:n.proxy(c,t),invalidHandler:n.proxy(l,t),messages:{},rules:{},success:n.proxy(a,t)},attachValidation:function(){i.unbind("reset."+u,f).bind("reset."+u,f).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,r)),r}var r=n.validator,t,u="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var u=n(t),f=u.parents("form")[0],r,e,o;f&&(r=s(f),r.options.rules[t.name]=e={},r.options.messages[t.name]=o={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=u.attr(i),s={};r!==undefined&&(i+="-",n.each(this.params,function(){s[this]=u.attr(i+this)}),this.adapt({element:t,form:f,message:r,params:s,rules:e,messages:o}))}),n.extend(e,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){var i=n(t).parents("form").andSelf().add(n(t).find("form")).filter("form");n(t).find(":input").filter("[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)});i.each(function(){var n=s(this);n&&n.attachValidation()})}};t=r.unobtrusive.adapters;t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this};t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})};t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})};t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})};r.addMethod("__dummy__",function(){return!0});r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)});r.addMethod("nonalphamin",function(n,t,i){var r;return i&&(r=n.match(/\W/g),r=r&&r.length>=i),r});r.methods.extension?(t.addSingleVal("accept","mimtype"),t.addSingleVal("extension","extension")):t.addSingleVal("extension","extension","accept");t.addSingleVal("regex","pattern");t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");t.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength");t.add("equalto",["other"],function(t){var r=e(t.element.name),u=t.params.other,s=o(u,r),h=n(t.form).find(":input").filter("[name='"+f(s)+"']")[0];i(t,"equalTo",h)});t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)});t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=e(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,e){var s=o(e,u);r.data[s]=function(){return n(t.form).find(":input").filter("[name='"+f(s)+"']").val()}});i(t,"remote",r)});t.add("password",["min","nonalphamin","regex"],function(n){n.params.min&&i(n,"minlength",n.params.min);n.params.nonalphamin&&i(n,"nonalphamin",n.params.nonalphamin);n.params.regex&&i(n,"regex",n.params.regex)});n(function(){r.unobtrusive.parse(document)})}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(typeof jQuery!="undefined"?jQuery:window.Zepto)}(function(n){"use strict";function r(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(t.target).ajaxSubmit(i))}function u(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),f.length===0)return;r=f[0]}i=this;i.clk=r;r.type=="image"&&(t.offsetX!==undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={},f;i.fileapi=n("<input type='file'/>").get(0).files!==undefined;i.formdata=window.FormData!==undefined;f=!!n.fn.prop;n.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||typeof n=="string"?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(r){function et(t){for(var u=n.param(t,r.traditional).split("&"),o=u.length,e=[],f,i=0;i<o;i++)u[i]=u[i].replace(/\+/g," "),f=u[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}function ot(t){for(var f,u,o,s=new FormData,i=0;i<t.length;i++)s.append(t[i].name,t[i].value);if(r.extraData)for(f=et(r.extraData),i=0;i<f.length;i++)f[i]&&s.append(f[i][0],f[i][1]);return r.data=null,u=n.extend(!0,{},n.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:e||"POST"}),r.uploadProgress&&(u.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,u=n.total;n.lengthComputable&&(t=Math.ceil(i/u*100));r.uploadProgress(n,i,u,t)},!1),t}),u.data=null,o=u.beforeSend,u.beforeSend=function(n,t){t.data=r.formData?r.formData:s;o&&o.call(this,n,t)},n.ajax(u)}function d(i){function ot(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(r){t("cannot get iframe.contentWindow document: "+r)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function st(){function f(){try{var n=ot(a).readyState;t("state = "+n);n&&n.toLowerCase()=="uninitialized"&&setTimeout(f,50)}catch(i){t("Server abort: ",i," (",i.name,")");b(tt);g&&clearTimeout(g);g=undefined}}var s=u.attr2("target"),h=u.attr2("action"),r,i,c;l.setAttribute("target",d);(!e||/post/i.test(e))&&l.setAttribute("method","POST");h!=o.url&&l.setAttribute("action",o.url);o.skipEncodingOverride||e&&!/post/i.test(e)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});o.timeout&&(g=setTimeout(function(){rt=!0;b(ut)},o.timeout));r=[];try{if(o.extraData)for(i in o.extraData)o.extraData.hasOwnProperty(i)&&(n.isPlainObject(o.extraData[i])&&o.extraData[i].hasOwnProperty("name")&&o.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+o.extraData[i].name+'">').val(o.extraData[i].value).appendTo(l)[0]):r.push(n('<input type="hidden" name="'+i+'">').val(o.extraData[i]).appendTo(l)[0]));o.iframeTarget||v.appendTo("body");a.attachEvent?a.attachEvent("onload",b):a.addEventListener("load",b,!1);setTimeout(f,15);try{l.submit()}catch(y){c=document.createElement("form").submit;c.apply(l)}}finally{l.setAttribute("action",h);s?l.setAttribute("target",s):u.removeAttr("target");n(r).remove()}}function b(i){var r,u,w,f,k,d,e,c,l;if(!s.aborted&&!lt){if(h=ot(a),h||(t("cannot access response document"),i=tt),i===ut&&s){s.abort("timeout");y.reject(s,"timeout");return}if(i==tt&&s){s.abort("server abort");y.reject(s,"error","server abort");return}if(h&&h.location.href!=o.iframeSrc||rt){a.detachEvent?a.detachEvent("onload",b):a.removeEventListener("load",b,!1);r="success";try{if(rt)throw"timeout";if(w=o.dataType=="xml"||h.XMLDocument||n.isXMLDoc(h),t("isXml="+w),!w&&window.opera&&(h.body===null||!h.body.innerHTML)&&--ct){t("requeing onLoad callback, DOM not available");setTimeout(b,250);return}f=h.body?h.body:h.documentElement;s.responseText=f?f.innerHTML:null;s.responseXML=h.XMLDocument?h.XMLDocument:h;w&&(o.dataType="xml");s.getResponseHeader=function(n){var t={"content-type":o.dataType};return t[n.toLowerCase()]};f&&(s.status=Number(f.getAttribute("status"))||s.status,s.statusText=f.getAttribute("statusText")||s.statusText);k=(o.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||o.textarea?(e=h.getElementsByTagName("textarea")[0],e?(s.responseText=e.value,s.status=Number(e.getAttribute("status"))||s.status,s.statusText=e.getAttribute("statusText")||s.statusText):d&&(c=h.getElementsByTagName("pre")[0],l=h.getElementsByTagName("body")[0],c?s.responseText=c.textContent?c.textContent:c.innerText:l&&(s.responseText=l.textContent?l.textContent:l.innerText))):k=="xml"&&!s.responseXML&&s.responseText&&(s.responseXML=at(s.responseText));try{ht=yt(s,k,o)}catch(nt){r="parsererror";s.error=u=nt||r}}catch(nt){t("error caught: ",nt);r="error";s.error=u=nt||r}s.aborted&&(t("upload aborted"),r=null);s.status&&(r=s.status>=200&&s.status<300||s.status===304?"success":"error");r==="success"?(o.success&&o.success.call(o.context,ht,"success",s),y.resolve(s.responseText,"success",s),p&&n.event.trigger("ajaxSuccess",[s,o])):r&&(u===undefined&&(u=s.statusText),o.error&&o.error.call(o.context,s,r,u),y.reject(s,"error",u),p&&n.event.trigger("ajaxError",[s,o,u]));p&&n.event.trigger("ajaxComplete",[s,o]);p&&!--n.active&&n.event.trigger("ajaxStop");o.complete&&o.complete.call(o.context,s,r);lt=!0;o.timeout&&clearTimeout(g);setTimeout(function(){o.iframeTarget?v.attr("src",o.iframeSrc):v.remove();s.responseXML=null},100)}}}var l=u[0],it,nt,o,p,d,v,a,s,k,w,rt,g,y=n.Deferred(),ut,tt,ft,et,ht,h,ct,lt;if(y.abort=function(n){s.abort(n)},i)for(nt=0;nt<c.length;nt++)it=n(c[nt]),f?it.prop("disabled",!1):it.removeAttr("disabled");if(o=n.extend(!0,{},n.ajaxSettings,r),o.context=o.context||o,d="jqFormIO"+(new Date).getTime(),o.iframeTarget?(v=n(o.iframeTarget),w=v.attr2("name"),w?d=w:v.attr2("name",d)):(v=n('<iframe name="'+d+'" src="'+o.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),a=v[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{a.contentWindow.document.execCommand&&a.contentWindow.document.execCommand("Stop")}catch(u){}v.attr("src",o.iframeSrc);s.error=r;o.error&&o.error.call(o.context,s,r,i);p&&n.event.trigger("ajaxError",[s,o,r]);o.complete&&o.complete.call(o.context,s,r)}},p=o.global,p&&0==n.active++&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[s,o]),o.beforeSend&&o.beforeSend.call(o.context,s,o)===!1)return o.global&&n.active--,y.reject(),y;if(s.aborted)return y.reject(),y;k=l.clk;k&&(w=k.name,w&&!k.disabled&&(o.extraData=o.extraData||{},o.extraData[w]=k.value,k.type=="image"&&(o.extraData[w+".x"]=l.clk_x,o.extraData[w+".y"]=l.clk_y)));ut=1;tt=2;ft=n("meta[name=csrf-token]").attr("content");et=n("meta[name=csrf-param]").attr("content");et&&ft&&(o.extraData=o.extraData||{},o.extraData[et]=ft);o.forceSync?st():setTimeout(st,10);ct=50;var at=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},vt=n.parseJSON||function(s){return window.eval("("+s+")")},yt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=vt(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u};return y}var e,b,o,u,a,v,c,y,s,l,h,g,nt,tt,it,p,w;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(u=this,typeof r=="function"?r={success:r}:r===undefined&&(r={}),e=r.type||this.attr2("method"),b=r.url||this.attr2("action"),o=typeof b=="string"?n.trim(b):"",o=o||window.location.href||"",o&&(o=(o.match(/^([^#]+)/)||[])[1]),r=n.extend(!0,{url:o,success:n.ajaxSettings.success,type:e||n.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r),a={},this.trigger("form-pre-serialize",[this,r,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(v=r.traditional,v===undefined&&(v=n.ajaxSettings.traditional),c=[],s=this.formToArray(r.semantic,c),r.data&&(r.extraData=r.data,y=n.param(r.data,v)),r.beforeSubmit&&r.beforeSubmit(s,this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[s,this,r,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;l=n.param(s,v);y&&(l=l?l+"&"+y:y);r.type.toUpperCase()=="GET"?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+l,r.data=null):r.data=l;h=[];r.resetForm&&h.push(function(){u.resetForm()});r.clearForm&&h.push(function(){u.clearForm(r.includeHidden)});!r.dataType&&r.target?(g=r.success||function(){},h.push(function(t){var i=r.replaceTarget?"replaceWith":"html";n(r.target)[i](t).each(g,arguments)})):r.success&&h.push(r.success);r.success=function(n,t,i){for(var e=r.context||this,f=0,o=h.length;f<o;f++)h[f].apply(e,[n,t,i||u,u])};r.error&&(nt=r.error,r.error=function(n,t,i){var f=r.context||this;nt.apply(f,[n,t,i,u])});r.complete&&(tt=r.complete,r.complete=function(n,t){var i=r.context||this;tt.apply(i,[n,t,u])});var st=n("input[type=file]:enabled",this).filter(function(){return n(this).val()!==""}),rt=st.length>0,ut="multipart/form-data",ft=u.attr("enctype")==ut||u.attr("encoding")==ut,k=i.fileapi&&i.formdata;for(t("fileAPI :"+k),it=(rt||ft)&&!k,r.iframe!==!1&&(r.iframe||it)?r.closeKeepAlive?n.get(r.closeKeepAlive,function(){p=d(s)}):p=d(s):p=(rt||ft)&&k?ot(s):n.ajax(r),u.removeData("jqxhr").data("jqxhr",p),w=0;w<c.length;w++)c[w]=null;return this.trigger("form-submit-notify",[this,r]),this};n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&this.length===0){var f={s:this.selector,c:this.context};return!n.isReady&&f.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(f.s,f.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}if(i.delegation){n(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,u).on("submit.form-plugin",this.selector,i,r).on("click.form-plugin",this.selector,i,u);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",i,r).bind("click.form-plugin",i,u)};n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r){var o=[],e,c,l,s,f,h,u,p,w,a,y,v;if(this.length===0||(e=this[0],c=t?e.getElementsByTagName("*"):e.elements,!c))return o;for(l=0,p=c.length;l<p;l++)if(u=c[l],f=u.name,f&&!u.disabled){if(t&&e.clk&&u.type=="image"){e.clk==u&&(o.push({name:f,value:n(u).val(),type:u.type}),o.push({name:f+".x",value:e.clk_x},{name:f+".y",value:e.clk_y}));continue}if(h=n.fieldValue(u,!0),h&&h.constructor==Array)for(r&&r.push(u),s=0,w=h.length;s<w;s++)o.push({name:f,value:h[s]});else if(i.fileapi&&u.type=="file")if(r&&r.push(u),a=u.files,a.length)for(s=0;s<a.length;s++)o.push({name:f,value:a[s],type:u.type});else o.push({name:f,value:"",type:u.type});else h!==null&&typeof h!="undefined"&&(r&&r.push(u),o.push({name:f,value:h,type:u.type,required:u.required}))}return!t&&e.clk&&(y=n(e.clk),v=y[0],f=v.name,f&&!v.disabled&&v.type=="image"&&(o.push({name:f,value:y.val()}),o.push({name:f+".x",value:e.clk_x},{name:f+".y",value:e.clk_y}))),o};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,o,r,f;if(i===undefined&&(i=!0),i&&(!a||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(e=t.selectedIndex,e<0)return null;var c=[],l=t.options,s=u=="select-one",v=s?e+1:l.length;for(o=s?e:0;o<v;o++)if(r=l[o],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||u=="textarea"?this.value="":r=="checkbox"||r=="radio"?this.checked=!1:u=="select"?this.selectedIndex=-1:r=="file"?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||typeof t=="string"&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})};n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1});var cbpHorizontalMenu=function(){function u(){i.on("click",f);t.on("click",function(n){n.stopPropagation()})}function f(i){n!==-1&&t.eq(n).removeClass("cbp-hropen");var u=$(i.currentTarget).parent("li"),f=u.index();if(n===f)u.removeClass("cbp-hropen"),n=-1;else{u.addClass("cbp-hropen");n=f;r.off("click").on("click",e)}return!1}function e(){t.eq(n).removeClass("cbp-hropen");n=-1}var t=$("#cbp-hrmenu > ul > li:not(.active-link)"),i=t.children("a"),r=$("body"),n=-1;return{init:u}}();$(function(){cbpHorizontalMenu.init()}),function(){var n=function(){t()},t=function(){$("#fixed_menu").scrollToFixed({fixed:function(){$("#home-icon-link").fadeTo("slow",1)},postFixed:function(){$("#home-icon-link").hide()}})};$(function(){n()})}(),function(n,t){var i=!1,u=function(){n("#regNewsLetterForm").on("click","#cap",f);n("#regNewsLetterForm").on("submit",o);n("#regNewsLetterForm").on("click","#submit-news-letter",e)},f=function(){i||n("#cap").attr("src","/Captcha/CaptchaImage?"+(new Date).getTime())},e=function(u){u.preventDefault();var f=n("#NewsLetterEmail").valid(),e=n("#Captcha").valid();f?n("#NewsLetterEmail").removeClass("validation"):n("#NewsLetterEmail").addClass("validation");e?n("#Captcha").removeClass("validation"):n("#Captcha").addClass("validation");!i&&f&&e&&(i=!0,n("#regNewsLetterForm").ajaxSubmit({beforeSubmit:function(){s()},success:function(u){r();u.success?(n("#regNewsLetterForm").hide(),n("#succeded-reg").removeClass("succedd-reg-news-letter-hide"),n("#succeded-reg").addClass("succedd-reg-news-letter-show")):(n("#cap").attr("src","/Captcha/CaptchaImage?"+(new Date).getTime()),u.message!==t&&n("#regNewsLetterForm #errorMessage").text(u.message),i=!1)},error:function(){r();n("#cap").attr("src","/Captcha/CaptchaImage?"+(new Date).getTime());i=!1}}))},o=function(n){n.preventDefault()},s=function(){n("#ajax-load").removeClass("ajax-load-hide");n("#ajax-load").addClass("ajax-load-show");n("#regNewsLetterForm").addClass("form-submit");n("#NewsLetterEmail").prop("disabled",!0);n("#Captcha").prop("disabled",!0);n("#submit-news-letter").addClass("prevent-anchor");n("#cap").addClass("prevent-anchor")},r=function(){n("#ajax-load").addClass("ajax-load-hide");n("#ajax-load").removeClass("ajax-load-show");n("#regNewsLetterForm").removeClass("form-submit");n("#NewsLetterEmail").prop("disabled",!1);n("#Captcha").prop("disabled",!1);n("#submit-news-letter").removeClass("prevent-anchor");n("#cap").removeClass("prevent-anchor")};n(function(){u()})}(jQuery),function(n){function u(n,t,i){void 0===n.selectionStart?(n.focus(),n=n.createTextRange(),n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()):(n.selectionStart=t,n.selectionEnd=i)}function k(t,i){n.each(i,function(n,r){"function"==typeof r?i[n]=r(t,i,n):"function"==typeof t.autoNumeric[r]&&(i[n]=t.autoNumeric[r](t,i,n))})}function f(n,t){"string"==typeof n[t]&&(n[t]*=1)}function v(n,t){var i,r,u,e;return k(n,t),t.oEvent=null,t.tagList="B CAPTION CITE CODE DD DEL DIV DFN DT EM H1 H2 H3 H4 H5 H6 INS KDB LABEL LI OUTPUT P Q S SAMPLE SPAN STRONG TD TH U VAR".split(" "),i=t.vMax.toString().split("."),r=t.vMin||0===t.vMin?t.vMin.toString().split("."):[],f(t,"vMax"),f(t,"vMin"),f(t,"mDec"),t.allowLeading=!0,t.aNeg=0>t.vMin?"-":"",i[0]=i[0].replace("-",""),r[0]=r[0].replace("-",""),t.mInt=Math.max(i[0].length,r[0].length,1),null===t.mDec&&(u=0,e=0,i[1]&&(u=i[1].length),r[1]&&(e=r[1].length),t.mDec=Math.max(u,e)),null===t.altDec&&0<t.mDec&&("."===t.aDec&&","!==t.aSep?t.altDec=",":","===t.aDec&&"."!==t.aSep&&(t.altDec=".")),i=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)",t.aNegRegAutoStrip=i,t.skipFirstAutoStrip=RegExp(i+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d].*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$"),t.allowedAutoStrip=RegExp("[^"+("-"+t.aNum+"\\"+t.aDec)+"]","gi"),t.numRegAutoStrip=RegExp(i+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function t(n,t,i){if(t.aSign)for(;-1<n.indexOf(t.aSign);)n=n.replace(t.aSign,"");if(n=n.replace(t.skipFirstAutoStrip,"$1$2"),n=n.replace(t.skipLastAutoStrip,"$1"),n=n.replace(t.allowedAutoStrip,""),t.altDec&&(n=n.replace(t.altDec,t.aDec)),n=(n=n.match(t.numRegAutoStrip))?[n[1],n[2],n[3]].join(""):"",("allow"===t.lZero||"keep"===t.lZero)&&"strip"!==i){var r=[],u="",r=n.split(t.aDec);-1!==r[0].indexOf("-")&&(u="-",r[0]=r[0].replace("-",""));r[0].length>t.mInt&&"0"===r[0].charAt(0)&&(r[0]=r[0].slice(1));n=u+r.join(t.aDec)}return(i&&"deny"===t.lZero||i&&"allow"===t.lZero&&!1===t.allowLeading)&&(t="^"+t.aNegRegAutoStrip+"0*(\\d"+("leading"===i?")":"|$)"),t=RegExp(t),n=n.replace(t,"$1$2")),n}function e(n,t,i){return t=t.split(","),"set"===i||"focusout"===i?(n=n.replace("-",""),n=t[0]+n+t[1]):"get"!==i&&"focusin"!==i&&"pageLoad"!==i||n.charAt(0)!==t[0]||(n=n.replace(t[0],"-"),n=n.replace(t[1],"")),n}function y(n,t,i){if(t&&i){var r=n.split(t);r[1]&&r[1].length>i&&(0<i?(r[1]=r[1].substring(0,i),n=r.join(t)):n=r[0])}return n}function s(n,t,i){return t&&"."!==t&&(n=n.replace(t,".")),i&&"-"!==i&&(n=n.replace(i,"-")),n.match(/\d/)||(n+="0"),n}function p(n,t){var i=n.indexOf("."),r=+n;return-1!==i&&(1e-6>r&&-1<r?(n=+n,1e-6>n&&0<n&&(n=(n+10).toString(),n=n.substring(1)),0>n&&-1<n&&(n=(n-10).toString(),n="-"+n.substring(2)),n=n.toString()):(i=n.split("."),void 0!==i[1]&&(0==+i[1]?n=i[0]:(i[1]=i[1].replace(/0*$/,""),n=i.join("."))))),"keep"===t.lZero?n:n.replace(/^0*(\d)/,"$1")}function w(n,t,i){return i&&"-"!==i&&(n=n.replace("-",i)),t&&"."!==t&&(n=n.replace(".",t)),n}function h(i,r){i=t(i,r);i=y(i,r.aDec,r.mDec);i=s(i,r.aDec,r.aNeg);var u=+i;return"set"===r.oEvent&&(u<r.vMin||u>r.vMax)&&n.error("The value ("+u+") from the 'set' method falls outside of the vMin / vMax range"),u>=r.vMin&&u<=r.vMax}function o(n,t,i){return""===n||n===t.aNeg?"zero"===t.wEmpty?n+"0":"sign"===t.wEmpty||i?n+t.aSign:n:null}function c(n,i){var s,u,f;if(n=t(n,i),s=n.replace(",","."),u=o(n,i,!0),null!==u)return u;var u="",u=2===i.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===i.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/,r=n.split(i.aDec);if(i.altDec&&1===r.length&&(r=n.split(i.altDec)),f=r[0],i.aSep)for(;u.test(f);)f=f.replace(u,"$1"+i.aSep+"$2");return 0!==i.mDec&&1<r.length?(r[1].length>i.mDec&&(r[1]=r[1].substring(0,i.mDec)),n=f+i.aDec+r[1]):n=f,i.aSign&&(u=-1!==n.indexOf(i.aNeg),n=n.replace(i.aNeg,""),n="p"===i.pSign?i.aSign+n:n+i.aSign,u&&(n=i.aNeg+n)),"set"===i.oEvent&&0>s&&null!==i.nBracket&&(n=e(n,i.nBracket,i.oEvent)),n}function l(n,t){var i,u;n=""===n?"0":n.toString();f(t,"mDec");var r="",i=0,e="",o="boolean"==typeof t.aPad||null===t.aPad?t.aPad?t.mDec:0:+t.aPad,s=function(n){return n=n.replace(0===o?/(\.[1-9]*)0*$/:1===o?/(\.\d[1-9]*)0*$/:RegExp("(\\.\\d{"+o+"}[1-9]*)0*$"),"$1"),0===o&&(n=n.replace(/\.$/,"")),n};if("-"===n.charAt(0)&&(e="-",n=n.replace("-","")),n.match(/^\d/)||(n="0"+n),"-"===e&&0==+n&&(e=""),(0<+n&&"keep"!==t.lZero||0<n.length&&"allow"===t.lZero)&&(n=n.replace(/^0*(\d)/,"$1")),i=n.lastIndexOf("."),u=n.length-1-(-1===i?n.length-1:i),u<=t.mDec){if(r=n,u<o)for(-1===i&&(r+=".");u<o;)s="000000".substring(0,o-u),r+=s,u+=s.length;else u>o?r=s(r):0===u&&0===o&&(r=r.replace(/\.$/,""));return e+r}var r=i+t.mDec,i=+n.charAt(r+1),u=n.substring(0,r+1).split(""),h="."===n.charAt(r)?n.charAt(r-1)%2:n.charAt(r)%2;if(4<i&&"S"===t.mRound||4<i&&"A"===t.mRound&&""===e||5<i&&"A"===t.mRound&&"-"===e||5<i&&"s"===t.mRound||5<i&&"a"===t.mRound&&""===e||4<i&&"a"===t.mRound&&"-"===e||5<i&&"B"===t.mRound||5===i&&"B"===t.mRound&&1===h||0<i&&"C"===t.mRound&&""===e||0<i&&"F"===t.mRound&&"-"===e||0<i&&"U"===t.mRound)for(i=u.length-1;0<=i;i-=1)if("."!==u[i]){if(u[i]=+u[i]+1,10>u[i])break;0<i&&(u[i]="0")}return u=u.slice(0,r+1),r=s(u.join("")),0==+r?r:e+r}function b(t,i){this.settings=i;this.that=t;this.$that=n(t);this.formatted=!1;this.settingsClone=v(this.$that,this.settings);this.value=t.value}function r(t){return"string"==typeof t&&(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),t="#"+t.replace(/(:|\.)/g,"\\$1")),n(t)}function i(n,t,i){var r=n.data("autoNumeric"),u;return r||(r={},n.data("autoNumeric",r)),u=r.holder,(void 0===u&&t||i)&&(u=new b(n.get(0),t),r.holder=u),u}b.prototype={init:function(n){var i,t,r;this.value=this.that.value;this.settingsClone=v(this.$that,this.settings);this.ctrlKey=n.ctrlKey;this.cmdKey=n.metaKey;this.shiftKey=n.shiftKey;i=this.that;t={};void 0===i.selectionStart?(i.focus(),r=document.selection.createRange(),t.length=r.text.length,r.moveStart("character",-i.value.length),t.end=r.text.length,t.start=t.end-t.length):(t.start=i.selectionStart,t.end=i.selectionEnd,t.length=t.end-t.start);this.selection=t;("keydown"===n.type||"keyup"===n.type)&&(this.kdCode=n.keyCode);this.which=n.which;this.formatted=this.processed=!1},setSelection:function(n,t,i){n=Math.max(n,0);t=Math.min(t,this.that.value.length);this.selection={start:n,end:t,length:t-n};(void 0===i||i)&&u(this.that,n,t)},setPosition:function(n,t){this.setSelection(n,n,t)},getBeforeAfter:function(){var n=this.value,t=n.substring(0,this.selection.start),n=n.substring(this.selection.end,n.length);return[t,n]},getBeforeAfterStriped:function(){var n=this.getBeforeAfter();return n[0]=t(n[0],this.settingsClone),n[1]=t(n[1],this.settingsClone),n},normalizeParts:function(n,i){var r=this.settingsClone,u,f;return i=t(i,r),u=i.match(/^\d/)?!0:"leading",n=t(n,r,u),""!==n&&n!==r.aNeg||"deny"!==r.lZero||""<i&&(i=i.replace(/^0*(\d)/,"$1")),u=n+i,r.aDec&&(f=u.match(RegExp("^"+r.aNegRegAutoStrip+"\\"+r.aDec)),f&&(n=n.replace(f[1],f[1]+"0"),u=n+i)),"zero"!==r.wEmpty||u!==r.aNeg&&""!==u||(n+="0"),[n,i]},setValueParts:function(n,t){var u=this.settingsClone,r=this.normalizeParts(n,t),i=r.join(""),r=r[0].length;return h(i,u)?(i=y(i,u.aDec,u.mDec),r>i.length&&(r=i.length),this.value=i,this.setPosition(r,!1),!0):!1},signPosition:function(){var n=this.settingsClone,t=n.aSign,i=this.that;return t?(t=t.length,"p"===n.pSign)?n.aNeg&&i.value&&i.value.charAt(0)===n.aNeg?[1,t+1]:[0,t]:(n=i.value.length,[n-t,n]):[1e3,-1]},expandSelectionOnSign:function(n){var t=this.signPosition(),i=this.selection;i.start<t[1]&&i.end>t[0]&&((i.start<t[0]||i.end>t[1])&&this.value.substring(Math.max(i.start,t[0]),Math.min(i.end,t[1])).match(/^\s*$/)?i.start<t[0]?this.setSelection(i.start,t[0],n):this.setSelection(t[1],i.end,n):this.setSelection(Math.min(i.start,t[0]),Math.max(i.end,t[1]),n))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var n=this.getBeforeAfter(),i=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste;n[0]=n[0].substr(0,i[0].length)+t(n[0].substr(i[0].length),this.settingsClone);this.setValueParts(n[0],n[1])||(this.value=i.join(""),this.setPosition(i[0].length,!1))}},skipAllways:function(n){var t=this.kdCode,u=this.which,i=this.ctrlKey,r=this.cmdKey,f=this.shiftKey;return(i||r)&&"keyup"===n.type&&void 0!==this.valuePartsBeforePaste||f&&45===t?(this.checkPaste(),!1):112<=t&&123>=t||91<=t&&93>=t||9<=t&&31>=t||8>t&&(0===u||u===t)||144===t||145===t||45===t||(i||r)&&65===t?!0:(i||r)&&(67===t||86===t||88===t)?("keydown"===n.type&&this.expandSelectionOnSign(),(86===t||45===t)&&("keydown"===n.type||"keypress"===n.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===n.type||"keypress"===n.type||67===t):i||r?!0:37===t||39===t?(u=this.settingsClone.aSep,i=this.selection.start,r=this.that.value,"keydown"===n.type&&u&&!this.shiftKey&&(37===t&&r.charAt(i-2)===u?this.setPosition(i-1):39===t&&r.charAt(i+1)===u&&this.setPosition(i+1)),!0):34<=t&&40>=t?!0:!1},processAllways:function(){var n;return 8===this.kdCode||46===this.kdCode?(this.selection.length?(this.expandSelectionOnSign(!1),n=this.getBeforeAfterStriped()):(n=this.getBeforeAfterStriped(),8===this.kdCode?n[0]=n[0].substring(0,n[0].length-1):n[1]=n[1].substring(1,n[1].length)),this.setValueParts(n[0],n[1]),!0):!1},processKeypress:function(){var n=this.settingsClone,r=String.fromCharCode(this.which),t=this.getBeforeAfterStriped(),i=t[0],t=t[1];return r===n.aDec||n.altDec&&r===n.altDec||("."===r||","===r)&&110===this.kdCode?!n.mDec||!n.aDec||n.aNeg&&-1<t.indexOf(n.aNeg)||-1<i.indexOf(n.aDec)||0<t.indexOf(n.aDec)?!0:(0===t.indexOf(n.aDec)&&(t=t.substr(1)),this.setValueParts(i+n.aDec,t),!0):"-"===r||"+"===r?n.aNeg?(""===i&&-1<t.indexOf(n.aNeg)&&(i=n.aNeg,t=t.substring(1,t.length)),i=i.charAt(0)===n.aNeg?i.substring(1,i.length):"-"===r?n.aNeg+i:i,this.setValueParts(i,t),!0):!0:("0"<=r&&"9">=r&&(n.aNeg&&""===i&&-1<t.indexOf(n.aNeg)&&(i=n.aNeg,t=t.substring(1,t.length)),0>=n.vMax&&n.vMin<n.vMax&&-1===this.value.indexOf(n.aNeg)&&"0"!==r&&(i=n.aNeg+i),this.setValueParts(i+r,t)),!0)},formatQuick:function(){var t=this.settingsClone,n=this.getBeforeAfterStriped(),i=this.value;if((""===t.aSep||""!==t.aSep&&-1===i.indexOf(t.aSep))&&(""===t.aSign||""!==t.aSign&&-1===i.indexOf(t.aSign))){var r=[],u="",r=i.split(t.aDec);-1<r[0].indexOf("-")&&(u="-",r[0]=r[0].replace("-",""),n[0]=n[0].replace("-",""));r[0].length>t.mInt&&"0"===n[0].charAt(0)&&(n[0]=n[0].slice(1));n[0]=u+n[0]}if(i=c(this.value,this.settingsClone),r=i.length,i){for(n=n[0].split(""),u=0,u;u<n.length;u+=1)n[u].match("\\d")||(n[u]="\\"+n[u]);n=RegExp("^.*?"+n.join(".*?"));(n=i.match(n))?(r=n[0].length,(0===r&&i.charAt(0)!==t.aNeg||1===r&&i.charAt(0)===t.aNeg)&&t.aSign&&"p"===t.pSign&&(r=this.settingsClone.aSign.length+("-"===i.charAt(0)?1:0))):t.aSign&&"s"===t.pSign&&(r-=t.aSign.length)}this.that.value=i;this.setPosition(r);this.formatted=!0}};var a={init:function(r){return this.each(function(){var f=n(this),a=f.data("autoNumeric"),y=f.data(),v;if("object"!=typeof a){if(a=n.extend({},{aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}},y,r),a.aDec===a.aSep)return n.error("autoNumeric will not function properly when the decimal character aDec: '"+a.aDec+"' and thousand separator aSep: '"+a.aSep+"' are the same character"),this;f.data("autoNumeric",a)}else return this;if(a.lastSetValue="",a.runOnce=!1,v=i(f,a),-1===n.inArray(f.prop("tagName"),a.tagList)&&"INPUT"!==f.prop("tagName"))return n.error("The <"+f.prop("tagName")+"> is not supported by autoNumeric()"),this;!1===a.runOnce&&a.aForm&&(f.is("input[type=text], input[type=hidden], input:not([type])")&&(y=!0,""===f[0].value&&"empty"===a.wEmpty&&(f[0].value="",y=!1),""===f[0].value&&"sign"===a.wEmpty&&(f[0].value=a.aSign,y=!1),y&&f.autoNumeric("set",f.val())),-1!==n.inArray(f.prop("tagName"),a.tagList)&&""!==f.text()&&f.autoNumeric("set",f.text()));a.runOnce=!0;f.is("input[type=text], input[type=hidden], input:not([type])")&&(f.on("keydown.autoNumeric",function(t){return(v=i(f),v.settings.aDec===v.settings.aSep)?(n.error("autoNumeric will not function properly when the decimal character aDec: '"+v.settings.aDec+"' and thousand separator aSep: '"+v.settings.aSep+"' are the same character"),this):v.that.readOnly?v.processed=!0:(v.init(t),v.settings.oEvent="keydown",v.skipAllways(t))?v.processed=!0:v.processAllways()?(v.processed=!0,v.formatQuick(),t.preventDefault(),!1):(v.formatted=!1,!0)}),f.on("keypress.autoNumeric",function(n){var t=i(f),r=t.processed;if(t.init(n),t.settings.oEvent="keypress",t.skipAllways(n))return!0;if(r)return n.preventDefault(),!1;if(t.processAllways()||t.processKeypress())return t.formatQuick(),n.preventDefault(),!1;t.formatted=!1}),f.on("keyup.autoNumeric",function(n){var t=i(f);if(t.init(n),t.settings.oEvent="keyup",n=t.skipAllways(n),t.kdCode=0,delete t.valuePartsBeforePaste,f[0].value===t.settings.aSign&&("s"===t.settings.pSign?u(this,0,0):u(this,t.settings.aSign.length,t.settings.aSign.length)),n||""===this.value)return!0;t.formatted||t.formatQuick()}),f.on("focusin.autoNumeric",function(){var n=i(f),t;n.settingsClone.oEvent="focusin";null!==n.settingsClone.nBracket&&(t=f.val(),f.val(e(t,n.settingsClone.nBracket,n.settingsClone.oEvent)));n.inVal=f.val();t=o(n.inVal,n.settingsClone,!0);null!==t&&(f.val(t),"s"===n.settings.pSign?u(this,0,0):u(this,n.settings.aSign.length,n.settings.aSign.length))}),f.on("focusout.autoNumeric",function(){var a=i(f),n=a.settingsClone,r=f.val(),v=r,u;a.settingsClone.oEvent="focusout";u="";"allow"===n.lZero&&(n.allowLeading=!1,u="leading");""!==r&&(r=t(r,n,u),null===o(r,n)&&h(r,n,f[0])?(r=s(r,n.aDec,n.aNeg),r=l(r,n),r=w(r,n.aDec,n.aNeg)):r="");u=o(r,n,!1);null===u&&(u=c(r,n));u!==v&&f.val(u);u!==a.inVal&&(f.change(),delete a.inVal);null!==n.nBracket&&0>f.autoNumeric("get")&&(a.settingsClone.oEvent="focusout",f.val(e(f.val(),n.nBracket,n.oEvent)))}))})},destroy:function(){return n(this).each(function(){var t=n(this);t.off(".autoNumeric");t.removeData("autoNumeric")})},update:function(t){return n(this).each(function(){var f=r(n(this)),u=f.data("autoNumeric"),e;return"object"!=typeof u?(n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this):(e=f.autoNumeric("get"),u=n.extend(u,t),i(f,u,!0),u.aDec===u.aSep)?(n.error("autoNumeric will not function properly when the decimal character aDec: '"+u.aDec+"' and thousand separator aSep: '"+u.aSep+"' are the same character"),this):(f.data("autoNumeric",u),""!==f.val()||""!==f.text()?f.autoNumeric("set",e):void 0)})},set:function(i){return n(this).each(function(){var e=r(n(this)),f=e.data("autoNumeric"),u=i.toString(),o=i.toString();return"object"!=typeof f?(n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):(o!==e.attr("value")&&o!==e.text()||!1!==f.runOnce||(u=u.replace(",",".")),o!==e.attr("value")&&"INPUT"===e.prop("tagName")&&!1===f.runOnce&&(u=t(u,f)),!n.isNumeric(+u))?"":(u=p(u,f),f.oEvent="set",f.lastSetValue=u,u.toString(),""!==u&&(u=l(u,f)),u=w(u,f.aDec,f.aNeg),h(u,f)||(u=l("",f)),u=c(u,f),e.is("input[type=text], input[type=hidden], input:not([type])"))?e.val(u):-1!==n.inArray(e.prop("tagName"),f.tagList)?e.text(u):(n.error("The <"+e.prop("tagName")+"> is not supported by autoNumeric()"),!1)})},get:function(){var f=r(n(this)),i=f.data("autoNumeric"),u;if("object"!=typeof i)return n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;if(i.oEvent="get",u="",f.is("input[type=text], input[type=hidden], input:not([type])"))u=f.eq(0).val();else if(-1!==n.inArray(f.prop("tagName"),i.tagList))u=f.eq(0).text();else return n.error("The <"+f.prop("tagName")+"> is not supported by autoNumeric()"),!1;return""===u&&"empty"===i.wEmpty||u===i.aSign&&("sign"===i.wEmpty||"empty"===i.wEmpty)?"":(null!==i.nBracket&&""!==u&&(u=e(u,i.nBracket,i.oEvent)),(i.runOnce||!1===i.aForm)&&(u=t(u,i)),u=s(u,i.aDec,i.aNeg),0==+u&&"keep"!==i.lZero&&(u="0"),"keep"===i.lZero?u:u=p(u,i))},getString:function(){var f=!1,u=r(n(this)).serialize().split("&"),i=0,t;for(i;i<u.length;i+=1)t=u[i].split("="),"object"==typeof n('*[name="'+decodeURIComponent(t[0])+'"]').data("autoNumeric")&&null!==t[1]&&void 0!==n('*[name="'+decodeURIComponent(t[0])+'"]').data("autoNumeric")&&(t[1]=n('input[name="'+decodeURIComponent(t[0])+'"]').autoNumeric("get"),u[i]=t.join("="),f=!0);return!0===f?u.join("&"):(n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),this)},getArray:function(){var t=!1,i=r(n(this)).serializeArray();return(n.each(i,function(i,r){"object"==typeof n('*[name="'+decodeURIComponent(r.name)+'"]').data("autoNumeric")&&(""!==r.value&&void 0!==n('*[name="'+decodeURIComponent(r.name)+'"]').data("autoNumeric")&&(r.value=n('input[name="'+decodeURIComponent(r.name)+'"]').autoNumeric("get").toString()),t=!0)}),!0===t)?i:(n.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method"),this)},getSettings:function(){return r(n(this)).eq(0).data("autoNumeric")}};n.fn.autoNumeric=function(t){if(a[t])return a[t].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof t||!t)return a.init.apply(this,arguments);n.error('Method "'+t+'" is not supported by autoNumeric()')}}(jQuery),function(){var n=function(){var n=function(n){return $.ajax({type:"POST",url:"/UserPanel/Common/GetCities",data:{id:n},dataType:"json"})};return{getCity:n}}(),t=function(){var t=function(){var i=$("#StateId").val(),t=$("#CityId");if(i==""){t.children("option:not(:first)").remove();return}t.children("option:not(:first)").remove();n.getCity(i).done(function(n){$.each(n,function(n,i){$("<option>",{value:i.Id}).html(i.Name).appendTo(t)})})};return{fillCityDropDown:t}}();(function(){var f=function(){l();$("#PriceFrom").autoNumeric("init",{vMin:"0",vMax:"999999999999999",wEmpty:"empty",lZero:"deny"});$("#PriceTo").autoNumeric("init",{vMin:"0",vMax:"999999999999999",wEmpty:"empty",lZero:"deny"});u()},e=function(){$(".inptDigit").each(function(n,t){var r=$(t),u=r.val(),i=u.toLowerCase();i=="a"||i=="b"||i=="c"?r.val(2):i=="d"||i=="e"||i=="f"?r.val(3):i=="g"||i=="h"||i=="i"?r.val(4):i=="j"||i=="k"||i=="l"?r.val(5):i=="m"||i=="n"||i=="o"?r.val(6):i=="p"||i=="q"||i=="r"||i=="s"?r.val(7):i=="t"||i=="u"||i=="v"?r.val(8):(i=="w"||i=="x"||i=="y"||i=="z")&&r.val(9)})},i=!0,r=!0,o=function(){i&&r?($("#searchSimForm #SimOrderBy").val(""),$("#searchSimForm #ItemPerPage").val("")):(r||(r=!0),i||(i=!0));$("#PriceFrom").val($("#PriceFrom").autoNumeric("get"));$("#PriceTo").val($("#PriceTo").autoNumeric("get"));e()},s=function(){i=!1;var n=$(this).find("option:selected"),t=n.val();$("#searchSimForm #SimOrderBy").val(t);$("#searchSimForm").submit()},h=function(){r=!1;var n=$(this).find("option:selected"),t=n.val();$("#searchSimForm #ItemPerPage").val(t);$("#searchSimForm").submit()},u=function(){var n=$("#SimQuality").val();n==1?($("#SimQualityTypeId").attr("disabled",!0),$("#SimQualityTypeId").val("")):$("#SimQualityTypeId").attr("disabled",!1)},c=function(){var t=$("#SimOperatorE").val();$("#PreCode").val("");t!==""&&t!==undefined?($("#PreCode").children("option:not(:first)").remove(),n.each(function(n,i){$(i).data("category")==t&&$(i).appendTo("#PreCode")})):n.appendTo("#PreCode")},n,l=function(){n=$("#PreCode").children("option:not(:first)");var t=$("#SimOperatorE").val();t!==""&&t!==undefined&&($("#PreCode").children("option:not(:first)").remove(),n.each(function(n,i){$(i).data("category")==t&&$(i).appendTo("#PreCode")}))},a=function(){$("#PreCode").children("option:not(:first)").remove();n.each(function(n,t){$(t).appendTo("#PreCode")})},v=function(){var n=$("#PreCode").find("option:selected").data("category");$("#SimOperatorE").val(n)},y=function(){$("#searchSimForm select").val("");$("#searchSimForm input[type='text']").val("");$("#SimQualityTypeId").attr("disabled",!1);a()},p=function(){$("#SimOrderBySelect").on("change",s);$("#ItemPerPageSelect").on("change",h);$("#searchSimForm").on("change","#StateId",t.fillCityDropDown);$("#searchSimForm").on("submit",o);$("#SimQuality").on("change",u);$("#SimOperatorE").on("change",c);$("#PreCode ").on("change",v);$("#resetBtn ").on("click",y)};$(function(){f();p()})})()}(),function(){var n=function(){$(this).val()=="*"&&$(this).val("")},t=function(n){return n.charCodeAt(n.length-1)},i=function(n){var u,r=$(this),i=n.keyCode;return(i==0||i==229)&&(i=t(this.value)),i>=48&&i<=57?(u=i-48,r.val(u),r.prev("input").length&&r.prev().focus()):i>=96&&i<=105?(u=i-96,r.val(u),r.prev("input").length&&r.prev().focus()):i>=65&&i<=90?r.prev("input").length&&r.prev().focus():i!=8&&i!=46&&i!=37&&i!=39&&i!=9?r.val(""):r.val(""),!1},r=function(){$(this).val()==""&&$(this).val("")},u=function(){$("#searchSimForm").on("focus",".inptDigit",n);$("#searchSimForm").on("keyup",".inptDigit",i);$("#searchSimForm").on("blur",".inptDigit",r)};$(function(){u()})}();!function(n,t,i,r){var u=n(t);n.fn.lazyload=function(f){function s(){var t=0;o.each(function(){var i=n(this);if((!e.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,e)&&!n.leftofbegin(this,e))if(n.belowthefold(this,e)||n.rightoffold(this,e)){if(++t>e.failure_limit)return!1}else i.trigger("appear"),t=0})}var h,o=this,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),0===e.event.indexOf("scroll")&&h.bind(e.event,function(){return s()}),this.each(function(){var t=this,i=n(t);t.loaded=!1;i.one("appear",function(){if(!this.loaded){if(e.appear){var r=o.length;e.appear.call(t,r,e)}n("<img />").bind("load",function(){var r,u;i.hide().attr("src",i.data(e.data_attribute))[e.effect](e.effect_speed);t.loaded=!0;r=n.grep(o,function(n){return!n.loaded});(o=n(r),e.load)&&(u=o.length,e.load.call(t,u,e))}).attr("src",i.data(e.data_attribute))}});0!==e.event.indexOf("scroll")&&i.bind(e.event,function(){t.loaded||i.trigger("appear")})}),u.bind("resize",function(){s()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){n(this).trigger("appear")})}),n(i).ready(function(){s()}),this};n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?u.height()+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold};n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold};n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()};n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()};n.inviewport=function(t,i){return!(n.rightoffold(t,i)||n.leftofbegin(t,i)||n.belowthefold(t,i)||n.abovethetop(t,i))};n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})}(jQuery,window,document),function(n,t,i){function e(n,t){var i=(n[0]||0)-(t[0]||0);return i>0||!i&&n.length>0&&e(n.slice(1),t.slice(1))}function o(n){var i,r,t;if(typeof n!=u)return n;i=[];r="";for(t in n)r=typeof n[t]==u?o(n[t]):[t,s?encodeURI(n[t]):n[t]].join("="),i.push(r);return i.join("&")}function h(n){var i=[];for(var t in n)n[t]&&i.push([t,'="',n[t],'"'].join(""));return i.join(" ")}function c(n){var t=[];for(var i in n)t.push(['<param name="',i,'" value="',o(n[i]),'" />'].join(""));return t.join("")}var u="object",s=!0,f,r;try{f=i.description||function(){return new i("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}()}catch(l){f="Unavailable"}r=f.match(/\d+/g)||[0];n[t]={available:r[0]>0,activeX:i&&!i.name,version:{original:f,array:r,string:r.join("."),major:parseInt(r[0],10)||0,minor:parseInt(r[1],10)||0,release:parseInt(r[2],10)||0},hasVersion:function(n){return n=/string|number/.test(typeof n)?n.toString().split("."):/object/.test(typeof n)?[n.major,n.minor]:n||[0,0],e(r,n)},encodeParams:!0,expressInstall:"expressInstall.swf",expressInstallIsActive:!1,create:function(n){if(!n.swf||this.expressInstallIsActive||!this.available&&!n.hasVersionFail)return!1;if(!this.hasVersion(n.hasVersion||1)){if(this.expressInstallIsActive=!0,typeof n.hasVersionFail=="function"&&!n.hasVersionFail.apply(n))return!1;n={swf:n.expressInstall||this.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:this.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}attrs={data:n.swf,type:"application/x-shockwave-flash",id:n.id||"flash_"+Math.floor(Math.random()*999999999),width:n.width||320,height:n.height||180,style:n.style||""};s=typeof n.useEncode!="undefined"?n.useEncode:this.encodeParams;n.movie=n.swf;n.wmode=n.wmode||"opaque";delete n.fallback;delete n.hasVersion;delete n.hasVersionFail;delete n.height;delete n.id;delete n.swf;delete n.useEncode;delete n.width;var t=document.createElement("div");return t.innerHTML=["<object ",h(attrs),">",c(n),"<\/object>"].join(""),t.firstChild}};n.fn[t]=function(i){var r=this.find(u).andSelf().filter(u);return/string|object/.test(typeof i)&&this.each(function(){var r=n(this),f;i=typeof i==u?i:{swf:i};i.fallback=this;(f=n[t].create(i))&&(r.children().remove(),r.html(f))}),typeof i=="function"&&r.each(function(){var r=this;r.jsInteractionTimeoutMs=r.jsInteractionTimeoutMs||0;r.jsInteractionTimeoutMs<660&&(r.clientWidth||r.clientHeight?i.call(r):setTimeout(function(){n(r)[t](i)},r.jsInteractionTimeoutMs+66))}),r}}(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject),function(){var n=function(){t();r();u();i()},t=function(){var n=$("#dRotateBanner > div.banner").get().sort(function(){return Math.round(Math.random())-.5});$(n).appendTo("#dRotateBanner").show()},i=function(){var i=$("#userShopAdConfirmed > #add-cell").remove(),r=$("#userShopAdConfirmed > .t-cell.Vip").get().sort(function(){return Math.round(Math.random())-.5}),n,t;$(r).appendTo("#userShopAdConfirmed").show();n=$("#userShopAdConfirmed > .t-cell.ThreeStar").get().sort(function(){return Math.round(Math.random())-.5});$(n).appendTo("#userShopAdConfirmed").show();t=$("#userShopAdConfirmed > .t-cell.OneStar").get().sort(function(){return Math.round(Math.random())-.5});$(t).appendTo("#userShopAdConfirmed").show();$(i).appendTo("#userShopAdConfirmed").show();$("#userShopAdConfirmed > .t-cell").each(function(n,t){$(t).removeClass("alpha");$(t).removeClass("omega");switch(n%4){case 0:$(t).addClass("alpha");break;case 3:$(t).addClass("omega")}})},r=function(){$("img.lazy").lazyload({effect:"fadeIn",failure_limit:100,threshold:100});$("img.megalazy").lazyload({effect:"fadeIn",event:"sporty"});$("#cbp-hrmenu > ul > li > a").click(function(n){$(n.target).closest(".cbp-hropen").find("img.megalazy").trigger("sporty")})},u=function(){$(".swf-obj").each(function(){var n=$(this),t=n.parent().height(),i=n.parent().width();n.flash({swf:n.data("original"),height:t,width:i})})};$(function(){n()})}(),function(n){n.fn.bPopup=function(t,i){function vt(){r.contentContainer=n(r.contentContainer||u);switch(r.content){case"iframe":var t=n('<iframe class="b-iframe" '+r.iframeAttr+"><\/iframe>");t.appendTo(r.contentContainer);nt=u.outerHeight(!0);tt=u.outerWidth(!0);it();t.attr("src",r.loadUrl);a(r.loadCallback);break;case"image":it();n("<img />").load(function(){a(r.loadCallback);st(n(this))}).attr("src",r.loadUrl).hide().appendTo(r.contentContainer);break;default:it();n('<div class="b-ajax-wrapper"><\/div>').load(r.loadUrl,r.loadData,function(t,i){a(r.loadCallback,i);st(n(this))}).hide().appendTo(r.contentContainer)}}function it(){r.modal&&n('<div class="b-modal '+f+'"><\/div>').css({backgroundColor:r.modalColor,position:"fixed",top:0,right:0,bottom:0,left:0,opacity:0,zIndex:r.zIndex+k}).appendTo(r.appendTo).fadeTo(r.speed,r.opacity);ft();u.data("bPopup",r).data("id",f).css({left:"slideIn"==r.transition||"slideBack"==r.transition?"slideBack"==r.transition?o.scrollLeft()+b:-1*(g+tt):c(!(!r.follow[0]&&y||e)),position:r.positionStyle||"absolute",top:"slideDown"==r.transition||"slideUp"==r.transition?"slideUp"==r.transition?o.scrollTop()+w:d+-1*nt:l(!(!r.follow[1]&&v||e)),"z-index":r.zIndex+k+1}).each(function(){r.appending&&n(this).appendTo(r.appendTo)});ht(!0)}function h(){return r.modal&&n(".b-modal."+u.data("id")).fadeTo(r.speed,0,function(){n(this).remove()}),r.scrollBar||n("html").css("overflow","auto"),n(".b-modal."+f).unbind("click"),o.unbind("keydown."+f),s.unbind("."+f).data("bPopup",0<s.data("bPopup")-1?s.data("bPopup")-1:null),u.undelegate(".bClose, ."+r.closeClass,"click."+f,h).data("bPopup",null),clearTimeout(at),ht(),!1}function ot(t){w=p.innerHeight||s.height();b=p.innerWidth||s.width();(ut=et())&&(clearTimeout(lt),lt=setTimeout(function(){ft();t=t||r.followSpeed;u.dequeue().each(function(){e?n(this).css({left:g,top:d}):n(this).animate({left:r.follow[0]?c(!0):"auto",top:r.follow[1]?l(!0):"auto"},t,r.followEasing)})},50))}function st(n){var i=n.width(),f=n.height(),t={};r.contentContainer.css({height:f,width:i});f>=u.height()&&(t.height=u.height());i>=u.width()&&(t.width=u.width());nt=u.outerHeight(!0);tt=u.outerWidth(!0);ft();r.contentContainer.css({height:"auto",width:"auto"});t.left=c(!(!r.follow[0]&&y||e));t.top=l(!(!r.follow[1]&&v||e));u.animate(t,250,function(){n.show();ut=et()})}function yt(){s.data("bPopup",k);u.delegate(".bClose, ."+r.closeClass,"click."+f,h);r.modalClose&&n(".b-modal."+f).css("cursor","pointer").bind("click",h);!pt&&(r.follow[0]||r.follow[1])&&s.bind("scroll."+f,function(){ut&&u.dequeue().animate({left:r.follow[0]?c(!e):"auto",top:r.follow[1]?l(!e):"auto"},r.followSpeed,r.followEasing)}).bind("resize."+f,function(){ot()});r.escClose&&o.bind("keydown."+f,function(n){27==n.which&&h()})}function ht(n){function t(t){u.css({display:"block",opacity:1}).animate(t,r.speed,r.easing,function(){ct(n)})}switch(n?r.transition:r.transitionClose||r.transition){case"slideIn":t({left:n?c(!(!r.follow[0]&&y||e)):o.scrollLeft()-(tt||u.outerWidth(!0))-rt});break;case"slideBack":t({left:n?c(!(!r.follow[0]&&y||e)):o.scrollLeft()+b+rt});break;case"slideDown":t({top:n?l(!(!r.follow[1]&&v||e)):o.scrollTop()-(nt||u.outerHeight(!0))-rt});break;case"slideUp":t({top:n?l(!(!r.follow[1]&&v||e)):o.scrollTop()+w+rt});break;default:u.stop().fadeTo(r.speed,n?1:0,function(){ct(n)})}}function ct(n){n?(yt(),a(i),r.autoClose&&(at=setTimeout(h,r.autoClose))):(u.hide(),a(r.onClose),r.loadUrl&&(r.contentContainer.empty(),u.css({height:"auto",width:"auto"})))}function c(n){return n?g+o.scrollLeft():g}function l(n){return n?d+o.scrollTop():d}function a(t,i){n.isFunction(t)&&t.call(u,i)}function ft(){d=v?r.position[1]:Math.max(0,(w-u.outerHeight(!0))/2-r.amsl);g=y?r.position[0]:(b-u.outerWidth(!0))/2;ut=et()}function et(){return w>u.outerHeight(!0)&&b>u.outerWidth(!0)}var r;n.isFunction(t)&&(i=t,t=null);r=n.extend({},n.fn.bPopup.defaults,t);r.scrollBar||n("html").css("overflow","hidden");var u=this,o=n(document),p=window,s=n(p),w=p.innerHeight||s.height(),b=p.innerWidth||s.width(),pt=/OS 6(_\d)+/i.test(navigator.userAgent),rt=200,k=0,f,ut,v,y,e,d,g,nt,tt,lt,at;return u.close=function(){h()},u.reposition=function(n){ot(n)},u.each(function(){n(this).data("bPopup")||(a(r.onOpen),k=(s.data("bPopup")||0)+1,f="__b-popup"+k+"__",v="auto"!==r.position[1],y="auto"!==r.position[0],e="fixed"===r.positionStyle,nt=u.outerHeight(!0),tt=u.outerWidth(!0),r.loadUrl?vt():it())})};n.fn.bPopup.defaults={amsl:50,appending:!0,appendTo:"body",autoClose:!1,closeClass:"b-close",content:"ajax",contentContainer:!1,easing:"swing",escClose:!0,follow:[!0,!0],followEasing:"swing",followSpeed:500,iframeAttr:'scrolling="no" frameborder="0"',loadCallback:!1,loadData:!1,loadUrl:!1,modal:!0,modalClose:!0,modalColor:"#000",onClose:!1,onOpen:!1,opacity:.7,position:["auto","auto"],positionStyle:"absolute",scrollBar:!0,speed:250,transition:"fadeIn",transitionClose:!1,zIndex:9997}}(jQuery),function(n,t){var r=function(t,i){n(i).find("#agreeCount").html(t.AgreeVote);n(i).find("#disagreeCount").html(t.DisAgreeVote);switch(t.CurrentUserVote){case null:n(i).find(".userVote").hide();n(i).find("#agreeBtn").show();n(i).find("#disagreeBtn").show();break;case!0:n(i).find(".userVote").hide();n(i).find("#agreeBtn").hide();n(i).find("#agreeRemoveBtn").show();n(i).find("#disagreeBtn").show();break;case!1:n(i).find(".userVote").hide();n(i).find("#disagreeBtn").hide();n(i).find("#disagreeRemoveBtn").show();n(i).find("#agreeBtn").show()}},i;t.disagreeClick=function(t,u){return n.ajax({type:"POST",url:"/Comment/Disagree",data:{CommentId:t},dataType:"json"}).done(function(n){r(n,u)}).fail(i)};t.removeClick=function(t,u){return n.ajax({type:"POST",url:"/Comment/Remove",data:{CommentId:t},dataType:"json"}).done(function(n){r(n,u)}).fail(i)};t.CreateCommentSuccess=function(t){t.IsValid?window.location.reload():n("#ErrorMessage").html(t.ErrorMessage)};t.CreateCommentFailure=function(n,t,r){i(n,t,r)};t.agreeClick=function(t,u){return n.ajax({type:"POST",url:"/Comment/Agree",data:{CommentId:t},dataType:"json"}).done(function(n){r(n,u)}).fail(i)};i=function(t){t.status==401&&(n("#must_login_pop_up").bPopup(),n("#must_login_pop_up button").focus())}}(jQuery,commentActions=window.commentActions||{}),function(n,t,i,r,u,f,e){n.GoogleAnalyticsObject=u;n[u]=n[u]||function(){(n[u].q=n[u].q||[]).push(arguments)};n[u].l=1*new Date;f=t.createElement(i);e=t.getElementsByTagName(i)[0];f.async=1;f.src=r;e.parentNode.insertBefore(f,e)}(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-12080724-1","auto");ga("send","pageview")