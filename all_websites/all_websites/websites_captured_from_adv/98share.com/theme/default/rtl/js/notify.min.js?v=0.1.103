(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof module==="object"&&module.exports){module.exports=function(b,c){if(c===undefined){if(typeof window!=="undefined"){c=require("jquery")}else{c=require("jquery")(b)}}a(c);return c}}else{a(jQuery)}}}(function(i){var d=[].indexOf||function(G){for(var F=0,E=this.length;F<E;F++){if(F in this&&this[F]===G){return F}}return -1};var a="notify";var s=a+"js";var w=a+"!blank";var l={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"};var k=["l","c","r"];var n=["t","m","b"];var f=["t","b","l","r"];var C={t:"b",m:null,b:"t",l:"r",c:null,r:"l"};var q=function(E){var F;F=[];i.each(E.split(/\W+/),function(H,I){var G;G=I.toLowerCase().charAt(0);if(l[G]){return F.push(G)}});return F};var m={};var c={name:"core",html:'<div class="'+s+'-wrapper">\n	<div class="'+s+'-arrow"></div>\n	<div class="'+s+'-container"></div>\n</div>',css:"."+s+"-corner {\n	position: fixed;\n	margin: 5px;\n	z-index: 999999;\n}\n\n."+s+"-corner ."+s+"-wrapper,\n."+s+"-corner ."+s+"-container {\n	position: relative;\n	display: block;\n	height: inherit;\n	width: inherit;\n	margin: 3px;\n}\n\n."+s+"-wrapper {\n	z-index: 1;\n	position: absolute;\n	display: inline-block;\n	height: 0;\n	width: 0;\n}\n\n."+s+"-container {\n	display: none;\n	z-index: 1;\n	position: absolute;\n}\n\n."+s+"-hidable {\n	cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n	position: relative;\n}\n\n."+s+"-arrow {\n	position: absolute;\n	z-index: 2;\n	width: 0;\n	height: 0;\n}"};var D={"border-radius":["-webkit-","-moz-"]};var h=function(E){return m[E]};var B=function(E){if(!E){throw"Missing Style name"}if(m[E]){delete m[E]}};var x=function(F,J){if(!F){throw"Missing Style name"}if(!J){throw"Missing Style definition"}if(!J.html){throw"Missing Style HTML"}var I=m[F];if(I&&I.cssElem){if(window.console){console.warn(a+": overwriting style '"+F+"'")}m[F].cssElem.remove()}J.name=F;m[F]=J;var G="";if(J.classes){i.each(J.classes,function(L,K){G+="."+s+"-"+J.name+"-"+L+" {\n";i.each(K,function(M,N){if(D[M]){i.each(D[M],function(O,P){return G+="	"+P+M+": "+N+";\n"})}return G+="	"+M+": "+N+";\n"});return G+="}\n"})}if(J.css){G+="/* styles for "+J.name+" */\n"+J.css}if(G){J.cssElem=b(G);J.cssElem.attr("id","notify-"+J.name)}var E={};var H=i(J.html);A("html",H,E);A("text",H,E);J.fields=E};var b=function(G){var I,H,F;H=e("style");H.attr("type","text/css");i("head").append(H);try{H.html(G)}catch(E){H[0].styleSheet.cssText=G}return H};var A=function(G,H,F){var E;if(G!=="html"){G="text"}E="data-notify-"+G;return r(H,"["+E+"]").each(function(){var I;I=i(this).attr(E);if(!I){I=w}F[I]=G})};var r=function(F,E){if(F.is(E)){return F}else{return F.find(E)}};var u={clickToHide:true,autoHide:true,autoHideDelay:5000,arrowShow:true,arrowSize:5,breakNewLines:true,elementPosition:"bottom",globalPosition:"bottom left",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5};var z=function(G,E){var H;H=function(){};H.prototype=G;return i.extend(true,new H(),E)};var p=function(E){return i.extend(u,E)};var e=function(E){return i("<"+E+"></"+E+">")};var o={};var t=function(E){var F;if(E.is("[type=radio]")){F=E.parents("form:first").find("[type=radio]").filter(function(G,H){return i(H).attr("name")===E.attr("name")});E=F.first()}return E};var y=function(G,I,H){var F,E;if(typeof H==="string"){H=parseInt(H,10)}else{if(typeof H!=="number"){return}}if(isNaN(H)){return}F=l[C[I.charAt(0)]];E=I;if(G[F]!==undefined){I=l[F.charAt(0)];H=-H}if(G[I]===undefined){G[I]=H}else{G[I]+=H}return null};var g=function(G,E,F){if(G==="l"||G==="t"){return 0}else{if(G==="c"||G==="m"){return F/2-E/2}else{if(G==="r"||G==="b"){return F-E}}}throw"Invalid alignment"};var j=function(E){j.e=j.e||e("div");return j.e.text(E).html()};function v(F,G,E){if(typeof E==="string"){E={className:E}}this.options=z(u,i.isPlainObject(E)?E:{});this.loadHTML();this.wrapper=i(c.html);if(this.options.clickToHide){this.wrapper.addClass(s+"-hidable")}this.wrapper.data(s,this);this.arrow=this.wrapper.find("."+s+"-arrow");this.container=this.wrapper.find("."+s+"-container");this.container.append(this.userContainer);if(F&&F.length){this.elementType=F.attr("type");this.originalElement=F;this.elem=t(F);this.elem.data(s,this);this.elem.before(this.wrapper)}this.container.hide();this.run(G)}v.prototype.loadHTML=function(){var E;E=this.getStyle();this.userContainer=i(E.html);this.userFields=E.fields};v.prototype.show=function(F,E){var H,K,G,I,J;K=(function(L){return function(){if(!F&&!L.elem){L.destroy()}if(E){return E()}}})(this);J=this.container.parent().parents(":hidden").length>0;G=this.container.add(this.arrow);H=[];if(J&&F){I="show"}else{if(J&&!F){I="hide"}else{if(!J&&F){I=this.options.showAnimation;H.push(this.options.showDuration)}else{if(!J&&!F){I=this.options.hideAnimation;H.push(this.options.hideDuration)}else{return K()}}}}H.push(K);return G[I].apply(G,H)};v.prototype.setGlobalPosition=function(){var J=this.getPosition();var K=J[0];var I=J[1];var E=l[K];var L=l[I];var H=K+"|"+I;var F=o[H];if(!F||!document.body.contains(F[0])){F=o[H]=e("div");var G={};G[E]=0;if(L==="middle"){G.top="45%"}else{if(L==="center"){G.left="45%"}else{G[L]=0}}F.css(G).addClass(s+"-corner");i("body").append(F)}return F.prepend(this.wrapper)};v.prototype.setElementPosition=function(){var ad,Q,S,W,N,F,O,ab,V,L,ac,P,T,Z,X,aa,M,E,R,H,K,Y,G,U,J,ag,af,I,ae;af=this.getPosition();U=af[0];Y=af[1];G=af[2];ac=this.elem.position();ab=this.elem.outerHeight();P=this.elem.outerWidth();V=this.elem.innerHeight();L=this.elem.innerWidth();ae=this.wrapper.position();N=this.container.height();F=this.container.width();E=l[U];H=C[U];K=l[H];O={};O[K]=U==="b"?ab:U==="r"?P:0;y(O,"top",ac.top-ae.top);y(O,"left",ac.left-ae.left);I=["top","left"];for(Z=0,aa=I.length;Z<aa;Z++){J=I[Z];R=parseInt(this.elem.css("margin-"+J),10);if(R){y(O,J,R)}}T=Math.max(0,this.options.gap-(this.options.arrowShow?S:0));y(O,K,T);if(!this.options.arrowShow){this.arrow.hide()}else{S=this.options.arrowSize;Q=i.extend({},O);ad=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white";for(X=0,M=f.length;X<M;X++){J=f[X];ag=l[J];if(J===H){continue}W=ag===E?ad:"transparent";Q["border-"+ag]=S+"px solid "+W}y(O,l[H],S);if(d.call(f,Y)>=0){y(Q,l[Y],S*2)}}if(d.call(n,U)>=0){y(O,"left",g(Y,F,P));if(Q){y(Q,"left",g(Y,S,L))}}else{if(d.call(k,U)>=0){y(O,"top",g(Y,N,ab));if(Q){y(Q,"top",g(Y,S,V))}}}if(this.container.is(":visible")){O.display="block"}this.container.removeAttr("style").css(O);if(Q){return this.arrow.removeAttr("style").css(Q)}};v.prototype.getPosition=function(){var L,H,G,F,E,K,J,I;I=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition);L=q(I);if(L.length===0){L[0]="b"}if(H=L[0],d.call(f,H)<0){throw"Must be one of ["+f+"]"}if(L.length===1||((G=L[0],d.call(n,G)>=0)&&(F=L[1],d.call(k,F)<0))||((E=L[0],d.call(k,E)>=0)&&(K=L[1],d.call(n,K)<0))){L[1]=(J=L[0],d.call(k,J)>=0)?"m":"l"}if(L.length===2){L[2]=L[1]}return L};v.prototype.getStyle=function(E){var F;if(!E){E=this.options.style}if(!E){E="default"}F=m[E];if(!F){throw"Missing style: "+E}return F};v.prototype.updateClasses=function(){var E,F;E=["base"];if(i.isArray(this.options.className)){E=E.concat(this.options.className)}else{if(this.options.className){E.push(this.options.className)}}F=this.getStyle();E=i.map(E,function(G){return s+"-"+F.name+"-"+G}).join(" ");return this.userContainer.attr("class",E)};v.prototype.run=function(J,G){var K,E,F,H,I;if(i.isPlainObject(G)){i.extend(this.options,G)}else{if(i.type(G)==="string"){this.options.className=G}}if(this.container&&!J){this.show(false);return}else{if(!this.container&&!J){return}}E={};if(i.isPlainObject(J)){E=J}else{E[w]=J}for(F in E){K=E[F];H=this.userFields[F];if(!H){continue}if(H==="text"){K=j(K);if(this.options.breakNewLines){K=K.replace(/\n/g,"<br/>")}}I=F===w?"":"="+F;r(this.userContainer,"[data-notify-"+H+I+"]").html(K)}this.updateClasses();if(this.elem){this.setElementPosition()}else{this.setGlobalPosition()}this.show(true);if(this.options.autoHide){clearTimeout(this.autohideTimer);this.autohideTimer=setTimeout(this.show.bind(this,false),this.options.autoHideDelay)}};v.prototype.destroy=function(){this.wrapper.data(s,null);this.wrapper.remove()};i[a]=function(F,G,E){if((F&&F.nodeName)||F.jquery){i(F)[a](G,E)}else{E=G;G=F;new v(null,G,E)}return F};i.fn[a]=function(F,E){i(this).each(function(){var G=t(i(this)).data(s);if(G){G.destroy()}var H=new v(i(this),F,E)});return this};i.extend(i[a],{defaults:p,addStyle:x,removeStyle:B,pluginOptions:u,getStyle:h,insertCSS:b});x("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-size":"13px",padding:"13px 16px 13px 16px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#333","border-right":"5px solid #333","border-radius":"5px","white-space":"nowrap","background-repeat":"no-repeat","background-position":"center right"},error:{color:"#fff","background-color":"#B7110D","border-color":"#B7110D"},success:{color:"#fff","background-color":"#5eb65f","border-color":"#5eb65f"},successfull:{color:"#333","background-color":"#fff","border-color":"#fff"},info:{color:"#D9EDF7","border-color":"#4198c3"},warn:{color:"#FCF8E3","border-color":"#e5b563"}}});i(function(){b(c.css).attr("id","core-notify");i(document).on("click","."+s+"-hidable",function(E){i(this).trigger("notify-hide")});i(document).on("notify-hide","."+s+"-wrapper",function(F){var E=i(this).data(s);if(E){E.show(false)}})})}));