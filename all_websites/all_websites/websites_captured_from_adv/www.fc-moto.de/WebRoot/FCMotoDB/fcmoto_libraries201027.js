window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=(window.styleMedia||window.media);if(!styleMedia){var style=document.createElement('style'),script=document.getElementsByTagName('script')[0],info=null;style.type='text/css';style.id='matchmediajs-test';if(!script){document.head.appendChild(style);}else{script.parentNode.insertBefore(style,script);}
info=('getComputedStyle'in window)&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text='@media '+media+'{ #matchmediajs-test { width: 1px; } }';if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}
return info.width==='1px';}};}
return function(media){return{matches:styleMedia.matchMedium(media||'all'),media:media||'all'};};}());!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d,e=b.documentElement,f=a.Date,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h],k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,d,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=c,h.initEvent(d,!f,!g),h.detail=e,a.dispatchEvent(h),h},w=function(b,c){var e;!g&&(e=a.picturefill||d.pf)?(c&&c.src&&!b[i]("srcset")&&b.setAttribute("srcset",c.src),e({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<d.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,c=0,e=d.throttleDelay,g=d.ricTimeout,h=function(){b=!1,c=f.now(),a()},i=m&&g>49?function(){m(h,{timeout:g}),g!==d.ricTimeout&&(g=d.ricTimeout)}:A(function(){k(h)},!0);return function(a){var d;(a=!0===a)&&(g=33),b||(b=!0,d=e-(f.now()-c),d<0&&(d=0),a||d<9?i():k(i,d))}},C=function(a){var b,c,d=99,e=function(){b=null,a()},g=function(){var a=f.now()-c;a<d?k(g,d-a):(m||e)(e)};return function(){c=f.now(),b||(b=k(g,d))}};!function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};d=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in d||(d[b]=c[b]);a.lazySizesConfig=d,k(function(){d.init&&F()})}();var D=function(){var g,l,m,o,p,y,D,F,G,H,I,J,K=/^img$/i,L=/^iframe$/i,M="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),N=0,O=0,P=0,Q=-1,R=function(a){P--,(!a||P<0||!a.target)&&(P=0)},S=function(a){return null==J&&(J="hidden"==x(b.body,"visibility")),J||"hidden"!=x(a.parentNode,"visibility")&&"hidden"!=x(a,"visibility")},T=function(a,c){var d,f=a,g=S(a);for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=e;)(g=(x(f,"opacity")||1)>0)&&"visible"!=x(f,"overflow")&&(d=f.getBoundingClientRect(),g=H>d.left&&G<d.right&&I>d.top-1&&F<d.bottom+1);return g},U=function(){var a,f,h,j,k,m,n,p,q,r,s,t,u=c.elements;if((o=d.loadMode)&&P<8&&(a=u.length)){for(f=0,Q++,r=!d.expand||d.expand<1?e.clientHeight>500&&e.clientWidth>500?500:370:d.expand,c._defEx=r,s=r*d.expFactor,t=d.hFac,J=null,O<s&&P<1&&Q>2&&o>2&&!b.hidden?(O=s,Q=0):O=o>1&&Q>1&&P<6?r:N;f<a;f++)if(u[f]&&!u[f]._lazyRace)if(M)if((p=u[f][i]("data-expand"))&&(m=1*p)||(m=O),q!==m&&(y=innerWidth+m*t,D=innerHeight+m,n=-1*m,q=m),h=u[f].getBoundingClientRect(),(I=h.bottom)>=n&&(F=h.top)<=D&&(H=h.right)>=n*t&&(G=h.left)<=y&&(I||H||G||F)&&(d.loadHidden||S(u[f]))&&(l&&P<3&&!p&&(o<3||Q<4)||T(u[f],m))){if(aa(u[f]),k=!0,P>9)break}else!k&&l&&!j&&P<4&&Q<4&&o>2&&(g[0]||d.preloadAfterLoad)&&(g[0]||!p&&(I||H||G||F||"auto"!=u[f][i](d.sizesAttr)))&&(j=g[0]||u[f]);else aa(u[f]);j&&!k&&aa(j)}},V=B(U),W=function(a){var b=a.target;if(b._lazyCache)return void delete b._lazyCache;R(a),s(b,d.loadedClass),t(b,d.loadingClass),u(b,Y),v(b,"lazyloaded")},X=A(W),Y=function(a){X({target:a.target})},Z=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},$=function(a){var b,c=a[i](d.srcsetAttr);(b=d.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},_=A(function(a,b,c,e,f){var g,h,j,l,o,p;(o=v(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(c?s(a,d.autosizesClass):a.setAttribute("sizes",e)),h=a[i](d.srcsetAttr),g=a[i](d.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),o={target:a},s(a,d.loadingClass),p&&(clearTimeout(m),m=k(R,2500),u(a,Y,!0)),l&&q.call(j.getElementsByTagName("source"),$),h?a.setAttribute("srcset",h):g&&!l&&(L.test(a.nodeName)?Z(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,d.lazyClass),z(function(){var b=a.complete&&a.naturalWidth>1;p&&!b||(b&&s(a,"ls-is-cached"),W(o),a._lazyCache=!0,k(function(){"_lazyCache"in a&&delete a._lazyCache},9))},!0)}),aa=function(a){var b,c=K.test(a.nodeName),e=c&&(a[i](d.sizesAttr)||a[i]("sizes")),f="auto"==e;(!f&&l||!c||!a[i]("src")&&!a.srcset||a.complete||r(a,d.errorClass)||!r(a,d.lazyClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,P++,_(a,b,f,e,c))},ba=function(){if(!l){if(f.now()-p<999)return void k(ba,999);var a=C(function(){d.loadMode=3,V()});l=!0,d.loadMode=3,V(),j("scroll",function(){3==d.loadMode&&(d.loadMode=2),a()},!0)}};return{_:function(){p=f.now(),c.elements=b.getElementsByClassName(d.lazyClass),g=b.getElementsByClassName(d.lazyClass+" "+d.preloadClass),j("scroll",V,!0),j("resize",V,!0),a.MutationObserver?new MutationObserver(V).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e[h]("DOMNodeInserted",V,!0),e[h]("DOMAttrModified",V,!0),setInterval(V,999)),j("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[h](a,V,!0)}),/d$|^c/.test(b.readyState)?ba():(j("load",ba),b[h]("DOMContentLoaded",V),k(ba,2e4)),c.elements.length?(U(),z._lsFlush()):V()},checkElems:V,unveil:aa}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),e=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)e(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(d.autosizesClass),j("resize",g)},checkElems:g,updateElem:e}}(),F=function(){F.i||(F.i=!0,E._(),D._())};return c={cfg:d,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}}});;(function($){"use strict";var VERSION="1.6.18",LEFT="left",RIGHT="right",UP="up",DOWN="down",IN="in",OUT="out",NONE="none",AUTO="auto",SWIPE="swipe",PINCH="pinch",TAP="tap",DOUBLE_TAP="doubletap",LONG_TAP="longtap",HOLD="hold",HORIZONTAL="horizontal",VERTICAL="vertical",ALL_FINGERS="all",DOUBLE_TAP_THRESHOLD=10,PHASE_START="start",PHASE_MOVE="move",PHASE_END="end",PHASE_CANCEL="cancel",SUPPORTS_TOUCH='ontouchstart'in window,SUPPORTS_POINTER_IE10=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!SUPPORTS_TOUCH,SUPPORTS_POINTER=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!SUPPORTS_TOUCH,PLUGIN_NS='TouchSwipe';var defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:".noSwipe",preventDefaultEvents:true};$.fn.swipe=function(method){var $this=$(this),plugin=$this.data(PLUGIN_NS);if(plugin&&typeof method==='string'){if(plugin[method]){return plugin[method].apply(plugin,Array.prototype.slice.call(arguments,1));}else{$.error('Method '+method+' does not exist on jQuery.swipe');}}
else if(plugin&&typeof method==='object'){plugin['option'].apply(plugin,arguments);}
else if(!plugin&&(typeof method==='object'||!method)){return init.apply(this,arguments);}
return $this;};$.fn.swipe.version=VERSION;$.fn.swipe.defaults=defaults;$.fn.swipe.phases={PHASE_START:PHASE_START,PHASE_MOVE:PHASE_MOVE,PHASE_END:PHASE_END,PHASE_CANCEL:PHASE_CANCEL};$.fn.swipe.directions={LEFT:LEFT,RIGHT:RIGHT,UP:UP,DOWN:DOWN,IN:IN,OUT:OUT};$.fn.swipe.pageScroll={NONE:NONE,HORIZONTAL:HORIZONTAL,VERTICAL:VERTICAL,AUTO:AUTO};$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:ALL_FINGERS};function init(options){if(options&&(options.allowPageScroll===undefined&&(options.swipe!==undefined||options.swipeStatus!==undefined))){options.allowPageScroll=NONE;}
if(options.click!==undefined&&options.tap===undefined){options.tap=options.click;}
if(!options){options={};}
options=$.extend({},$.fn.swipe.defaults,options);return this.each(function(){var $this=$(this);var plugin=$this.data(PLUGIN_NS);if(!plugin){plugin=new TouchSwipe(this,options);$this.data(PLUGIN_NS,plugin);}});}
function TouchSwipe(element,options){var options=$.extend({},options);var useTouchEvents=(SUPPORTS_TOUCH||SUPPORTS_POINTER||!options.fallbackToMouseEvents),START_EV=useTouchEvents?(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerDown':'pointerdown'):'touchstart'):'mousedown',MOVE_EV=useTouchEvents?(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerMove':'pointermove'):'touchmove'):'mousemove',END_EV=useTouchEvents?(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerUp':'pointerup'):'touchend'):'mouseup',LEAVE_EV=useTouchEvents?(SUPPORTS_POINTER?'mouseleave':null):'mouseleave',CANCEL_EV=(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerCancel':'pointercancel'):'touchcancel');var distance=0,direction=null,currentDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,pinchDirection=0,maximumsMap=null;var $element=$(element);var phase="start";var fingerCount=0;var fingerData={};var startTime=0,endTime=0,previousTouchEndTime=0,fingerCountAtRelease=0,doubleTapStartTime=0;var singleTapTimeout=null,holdTimeout=null;try{$element.bind(START_EV,touchStart);$element.bind(CANCEL_EV,touchCancel);}catch(e){$.error('events not supported '+START_EV+','+CANCEL_EV+' on jQuery.swipe');}
this.enable=function(){this.disable();$element.bind(START_EV,touchStart);$element.bind(CANCEL_EV,touchCancel);return $element;};this.disable=function(){removeListeners();return $element;};this.destroy=function(){removeListeners();$element.data(PLUGIN_NS,null);$element=null;};this.option=function(property,value){if(typeof property==='object'){options=$.extend(options,property);}else if(options[property]!==undefined){if(value===undefined){return options[property];}else{options[property]=value;}}else if(!property){return options;}else{$.error('Option '+property+' does not exist on jQuery.swipe.options');}
return null;}
function touchStart(jqEvent){if(getTouchInProgress()){return;}
if($(jqEvent.target).closest(options.excludedElements,$element).length>0){return;}
var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(event.pointerType&&event.pointerType=="mouse"&&options.fallbackToMouseEvents==false){return;};var ret,touches=event.touches,evt=touches?touches[0]:event;phase=PHASE_START;if(touches){fingerCount=touches.length;}
else if(options.preventDefaultEvents!==false){jqEvent.preventDefault();}
distance=0;direction=null;currentDirection=null;pinchDirection=null;duration=0;startTouchesDistance=0;endTouchesDistance=0;pinchZoom=1;pinchDistance=0;maximumsMap=createMaximumsData();cancelMultiFingerRelease();createFingerData(0,evt);if(!touches||(fingerCount===options.fingers||options.fingers===ALL_FINGERS)||hasPinches()){startTime=getTimeStamp();if(fingerCount==2){createFingerData(1,touches[1]);startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start);}
if(options.swipeStatus||options.pinchStatus){ret=triggerHandler(event,phase);}}else{ret=false;}
if(ret===false){phase=PHASE_CANCEL;triggerHandler(event,phase);return ret;}else{if(options.hold){holdTimeout=setTimeout($.proxy(function(){$element.trigger('hold',[event.target]);if(options.hold){ret=options.hold.call($element,event,event.target);}},this),options.longTapThreshold);}
setTouchInProgress(true);}
return null;};function touchMove(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(phase===PHASE_END||phase===PHASE_CANCEL||inMultiFingerRelease())
return;var ret,touches=event.touches,evt=touches?touches[0]:event;var currentFinger=updateFingerData(evt);endTime=getTimeStamp();if(touches){fingerCount=touches.length;}
if(options.hold){clearTimeout(holdTimeout);}
phase=PHASE_MOVE;if(fingerCount==2){if(startTouchesDistance==0){createFingerData(1,touches[1]);startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start);}else{updateFingerData(touches[1]);endTouchesDistance=calculateTouchesDistance(fingerData[0].end,fingerData[1].end);pinchDirection=calculatePinchDirection(fingerData[0].end,fingerData[1].end);}
pinchZoom=calculatePinchZoom(startTouchesDistance,endTouchesDistance);pinchDistance=Math.abs(startTouchesDistance-endTouchesDistance);}
if((fingerCount===options.fingers||options.fingers===ALL_FINGERS)||!touches||hasPinches()){direction=calculateDirection(currentFinger.start,currentFinger.end);currentDirection=calculateDirection(currentFinger.last,currentFinger.end);validateDefaultEvent(jqEvent,currentDirection);distance=calculateDistance(currentFinger.start,currentFinger.end);duration=calculateDuration();setMaxDistance(direction,distance);ret=triggerHandler(event,phase);if(!options.triggerOnTouchEnd||options.triggerOnTouchLeave){var inBounds=true;if(options.triggerOnTouchLeave){var bounds=getbounds(this);inBounds=isInBounds(currentFinger.end,bounds);}
if(!options.triggerOnTouchEnd&&inBounds){phase=getNextPhase(PHASE_MOVE);}
else if(options.triggerOnTouchLeave&&!inBounds){phase=getNextPhase(PHASE_END);}
if(phase==PHASE_CANCEL||phase==PHASE_END){triggerHandler(event,phase);}}}else{phase=PHASE_CANCEL;triggerHandler(event,phase);}
if(ret===false){phase=PHASE_CANCEL;triggerHandler(event,phase);}}
function touchEnd(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent,touches=event.touches;if(touches){if(touches.length&&!inMultiFingerRelease()){startMultiFingerRelease(event);return true;}else if(touches.length&&inMultiFingerRelease()){return true;}}
if(inMultiFingerRelease()){fingerCount=fingerCountAtRelease;}
endTime=getTimeStamp();duration=calculateDuration();if(didSwipeBackToCancel()||!validateSwipeDistance()){phase=PHASE_CANCEL;triggerHandler(event,phase);}else if(options.triggerOnTouchEnd||(options.triggerOnTouchEnd===false&&phase===PHASE_MOVE)){if(options.preventDefaultEvents!==false&&jqEvent.cancelable!==false){jqEvent.preventDefault();}
phase=PHASE_END;triggerHandler(event,phase);}
else if(!options.triggerOnTouchEnd&&hasTap()){phase=PHASE_END;triggerHandlerForGesture(event,phase,TAP);}else if(phase===PHASE_MOVE){phase=PHASE_CANCEL;triggerHandler(event,phase);}
setTouchInProgress(false);return null;}
function touchCancel(){fingerCount=0;endTime=0;startTime=0;startTouchesDistance=0;endTouchesDistance=0;pinchZoom=1;cancelMultiFingerRelease();setTouchInProgress(false);}
function touchLeave(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(options.triggerOnTouchLeave){phase=getNextPhase(PHASE_END);triggerHandler(event,phase);}}
function removeListeners(){$element.unbind(START_EV,touchStart);$element.unbind(CANCEL_EV,touchCancel);$element.unbind(MOVE_EV,touchMove);$element.unbind(END_EV,touchEnd);if(LEAVE_EV){$element.unbind(LEAVE_EV,touchLeave);}
setTouchInProgress(false);}
function getNextPhase(currentPhase){var nextPhase=currentPhase;var validTime=validateSwipeTime();var validDistance=validateSwipeDistance();var didCancel=didSwipeBackToCancel();if(!validTime||didCancel){nextPhase=PHASE_CANCEL;}
else if(validDistance&&currentPhase==PHASE_MOVE&&(!options.triggerOnTouchEnd||options.triggerOnTouchLeave)){nextPhase=PHASE_END;}
else if(!validDistance&&currentPhase==PHASE_END&&options.triggerOnTouchLeave){nextPhase=PHASE_CANCEL;}
return nextPhase;}
function triggerHandler(event,phase){var ret,touches=event.touches;if(didSwipe()||hasSwipes()){ret=triggerHandlerForGesture(event,phase,SWIPE);}
if((didPinch()||hasPinches())&&ret!==false){ret=triggerHandlerForGesture(event,phase,PINCH);}
if(didDoubleTap()&&ret!==false){ret=triggerHandlerForGesture(event,phase,DOUBLE_TAP);}
else if(didLongTap()&&ret!==false){ret=triggerHandlerForGesture(event,phase,LONG_TAP);}
else if(didTap()&&ret!==false){ret=triggerHandlerForGesture(event,phase,TAP);}
if(phase===PHASE_CANCEL){touchCancel(event);}
if(phase===PHASE_END){if(touches){if(!touches.length){touchCancel(event);}}else{touchCancel(event);}}
return ret;}
function triggerHandlerForGesture(event,phase,gesture){var ret;if(gesture==SWIPE){$element.trigger('swipeStatus',[phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection]);if(options.swipeStatus){ret=options.swipeStatus.call($element,event,phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection);if(ret===false)return false;}
if(phase==PHASE_END&&validateSwipe()){clearTimeout(singleTapTimeout);clearTimeout(holdTimeout);$element.trigger('swipe',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipe){ret=options.swipe.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);if(ret===false)return false;}
switch(direction){case LEFT:$element.trigger('swipeLeft',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeLeft){ret=options.swipeLeft.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;case RIGHT:$element.trigger('swipeRight',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeRight){ret=options.swipeRight.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;case UP:$element.trigger('swipeUp',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeUp){ret=options.swipeUp.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;case DOWN:$element.trigger('swipeDown',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeDown){ret=options.swipeDown.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;}}}
if(gesture==PINCH){$element.trigger('pinchStatus',[phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]);if(options.pinchStatus){ret=options.pinchStatus.call($element,event,phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData);if(ret===false)return false;}
if(phase==PHASE_END&&validatePinch()){switch(pinchDirection){case IN:$element.trigger('pinchIn',[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]);if(options.pinchIn){ret=options.pinchIn.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData);}
break;case OUT:$element.trigger('pinchOut',[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]);if(options.pinchOut){ret=options.pinchOut.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData);}
break;}}}
if(gesture==TAP){if(phase===PHASE_CANCEL||phase===PHASE_END){clearTimeout(singleTapTimeout);clearTimeout(holdTimeout);if(hasDoubleTap()&&!inDoubleTap()){doubleTapStartTime=getTimeStamp();singleTapTimeout=setTimeout($.proxy(function(){doubleTapStartTime=null;$element.trigger('tap',[event.target]);if(options.tap){ret=options.tap.call($element,event,event.target);}},this),options.doubleTapThreshold);}else{doubleTapStartTime=null;$element.trigger('tap',[event.target]);if(options.tap){ret=options.tap.call($element,event,event.target);}}}}else if(gesture==DOUBLE_TAP){if(phase===PHASE_CANCEL||phase===PHASE_END){clearTimeout(singleTapTimeout);clearTimeout(holdTimeout);doubleTapStartTime=null;$element.trigger('doubletap',[event.target]);if(options.doubleTap){ret=options.doubleTap.call($element,event,event.target);}}}else if(gesture==LONG_TAP){if(phase===PHASE_CANCEL||phase===PHASE_END){clearTimeout(singleTapTimeout);doubleTapStartTime=null;$element.trigger('longtap',[event.target]);if(options.longTap){ret=options.longTap.call($element,event,event.target);}}}
return ret;}
function validateSwipeDistance(){var valid=true;if(options.threshold!==null){valid=distance>=options.threshold;}
return valid;}
function didSwipeBackToCancel(){var cancelled=false;if(options.cancelThreshold!==null&&direction!==null){cancelled=(getMaxDistance(direction)-distance)>=options.cancelThreshold;}
return cancelled;}
function validatePinchDistance(){if(options.pinchThreshold!==null){return pinchDistance>=options.pinchThreshold;}
return true;}
function validateSwipeTime(){var result;if(options.maxTimeThreshold){if(duration>=options.maxTimeThreshold){result=false;}else{result=true;}}else{result=true;}
return result;}
function validateDefaultEvent(jqEvent,direction){if(options.preventDefaultEvents===false){return;}
if(options.allowPageScroll===NONE){jqEvent.preventDefault();}else{var auto=options.allowPageScroll===AUTO;switch(direction){case LEFT:if((options.swipeLeft&&auto)||(!auto&&options.allowPageScroll!=HORIZONTAL)){jqEvent.preventDefault();}
break;case RIGHT:if((options.swipeRight&&auto)||(!auto&&options.allowPageScroll!=HORIZONTAL)){jqEvent.preventDefault();}
break;case UP:if((options.swipeUp&&auto)||(!auto&&options.allowPageScroll!=VERTICAL)){jqEvent.preventDefault();}
break;case DOWN:if((options.swipeDown&&auto)||(!auto&&options.allowPageScroll!=VERTICAL)){jqEvent.preventDefault();}
break;case NONE:break;}}}
function validatePinch(){var hasCorrectFingerCount=validateFingers();var hasEndPoint=validateEndPoint();var hasCorrectDistance=validatePinchDistance();return hasCorrectFingerCount&&hasEndPoint&&hasCorrectDistance;}
function hasPinches(){return!!(options.pinchStatus||options.pinchIn||options.pinchOut);}
function didPinch(){return!!(validatePinch()&&hasPinches());}
function validateSwipe(){var hasValidTime=validateSwipeTime();var hasValidDistance=validateSwipeDistance();var hasCorrectFingerCount=validateFingers();var hasEndPoint=validateEndPoint();var didCancel=didSwipeBackToCancel();var valid=!didCancel&&hasEndPoint&&hasCorrectFingerCount&&hasValidDistance&&hasValidTime;return valid;}
function hasSwipes(){return!!(options.swipe||options.swipeStatus||options.swipeLeft||options.swipeRight||options.swipeUp||options.swipeDown);}
function didSwipe(){return!!(validateSwipe()&&hasSwipes());}
function validateFingers(){return((fingerCount===options.fingers||options.fingers===ALL_FINGERS)||!SUPPORTS_TOUCH);}
function validateEndPoint(){return fingerData[0].end.x!==0;}
function hasTap(){return!!(options.tap);}
function hasDoubleTap(){return!!(options.doubleTap);}
function hasLongTap(){return!!(options.longTap);}
function validateDoubleTap(){if(doubleTapStartTime==null){return false;}
var now=getTimeStamp();return(hasDoubleTap()&&((now-doubleTapStartTime)<=options.doubleTapThreshold));}
function inDoubleTap(){return validateDoubleTap();}
function validateTap(){return((fingerCount===1||!SUPPORTS_TOUCH)&&(isNaN(distance)||distance<options.threshold));}
function validateLongTap(){return((duration>options.longTapThreshold)&&(distance<DOUBLE_TAP_THRESHOLD));}
function didTap(){return!!(validateTap()&&hasTap());}
function didDoubleTap(){return!!(validateDoubleTap()&&hasDoubleTap());}
function didLongTap(){return!!(validateLongTap()&&hasLongTap());}
function startMultiFingerRelease(event){previousTouchEndTime=getTimeStamp();fingerCountAtRelease=event.touches.length+1;}
function cancelMultiFingerRelease(){previousTouchEndTime=0;fingerCountAtRelease=0;}
function inMultiFingerRelease(){var withinThreshold=false;if(previousTouchEndTime){var diff=getTimeStamp()-previousTouchEndTime
if(diff<=options.fingerReleaseThreshold){withinThreshold=true;}}
return withinThreshold;}
function getTouchInProgress(){return!!($element.data(PLUGIN_NS+'_intouch')===true);}
function setTouchInProgress(val){if(!$element){return;}
if(val===true){$element.bind(MOVE_EV,touchMove);$element.bind(END_EV,touchEnd);if(LEAVE_EV){$element.bind(LEAVE_EV,touchLeave);}}else{$element.unbind(MOVE_EV,touchMove,false);$element.unbind(END_EV,touchEnd,false);if(LEAVE_EV){$element.unbind(LEAVE_EV,touchLeave,false);}}
$element.data(PLUGIN_NS+'_intouch',val===true);}
function createFingerData(id,evt){var f={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};f.start.x=f.last.x=f.end.x=evt.pageX||evt.clientX;f.start.y=f.last.y=f.end.y=evt.pageY||evt.clientY;fingerData[id]=f;return f;}
function updateFingerData(evt){var id=evt.identifier!==undefined?evt.identifier:0;var f=getFingerData(id);if(f===null){f=createFingerData(id,evt);}
f.last.x=f.end.x;f.last.y=f.end.y;f.end.x=evt.pageX||evt.clientX;f.end.y=evt.pageY||evt.clientY;return f;}
function getFingerData(id){return fingerData[id]||null;}
function setMaxDistance(direction,distance){if(direction==NONE)return;distance=Math.max(distance,getMaxDistance(direction));maximumsMap[direction].distance=distance;}
function getMaxDistance(direction){if(maximumsMap[direction])return maximumsMap[direction].distance;return undefined;}
function createMaximumsData(){var maxData={};maxData[LEFT]=createMaximumVO(LEFT);maxData[RIGHT]=createMaximumVO(RIGHT);maxData[UP]=createMaximumVO(UP);maxData[DOWN]=createMaximumVO(DOWN);return maxData;}
function createMaximumVO(dir){return{direction:dir,distance:0}}
function calculateDuration(){return endTime-startTime;}
function calculateTouchesDistance(startPoint,endPoint){var diffX=Math.abs(startPoint.x-endPoint.x);var diffY=Math.abs(startPoint.y-endPoint.y);return Math.round(Math.sqrt(diffX*diffX+diffY*diffY));}
function calculatePinchZoom(startDistance,endDistance){var percent=(endDistance/startDistance)*1;return percent.toFixed(2);}
function calculatePinchDirection(){if(pinchZoom<1){return OUT;}else{return IN;}}
function calculateDistance(startPoint,endPoint){return Math.round(Math.sqrt(Math.pow(endPoint.x-startPoint.x,2)+Math.pow(endPoint.y-startPoint.y,2)));}
function calculateAngle(startPoint,endPoint){var x=startPoint.x-endPoint.x;var y=endPoint.y-startPoint.y;var r=Math.atan2(y,x);var angle=Math.round(r*180/Math.PI);if(angle<0){angle=360-Math.abs(angle);}
return angle;}
function calculateDirection(startPoint,endPoint){if(comparePoints(startPoint,endPoint)){return NONE;}
var angle=calculateAngle(startPoint,endPoint);if((angle<=45)&&(angle>=0)){return LEFT;}else if((angle<=360)&&(angle>=315)){return LEFT;}else if((angle>=135)&&(angle<=225)){return RIGHT;}else if((angle>45)&&(angle<135)){return DOWN;}else{return UP;}}
function getTimeStamp(){var now=new Date();return now.getTime();}
function getbounds(el){el=$(el);var offset=el.offset();var bounds={left:offset.left,right:offset.left+el.outerWidth(),top:offset.top,bottom:offset.top+el.outerHeight()}
return bounds;}
function isInBounds(point,bounds){return(point.x>bounds.left&&point.x<bounds.right&&point.y>bounds.top&&point.y<bounds.bottom);};function comparePoints(pointA,pointB){return(pointA.x==pointB.x&&pointA.y==pointB.y);}}})(jQuery);var ICLastViewportWidth=jq(window).width();var viewportW=vpW=jq(window).width();jq(window).resize(function(){ICLastViewportWidth=vpW;viewportW=jq(window).width();jq(".ui-dialog-content").dialog("option","position",{my:"center",at:"center",of:window,collision:"fit"});});var offCanvasSwitchWidth=719,wWidth=jq(window).width();jq(window).on("orientationchange",function(){wWidth=jq(window).width();});var touchMap={ICTabHead:"toggleAccordeon",lastName:"Doe",age:46};jQuery.fn.extend({clickOrTouch:function(handler){return this.each(function(){var event=('ontouchstart'in document)?'touchstart':'click';jq(this).on(event,handler);});}});jQuery.fn.extend({mouseenterOrTouch:function(handler){return this.each(function(){var event=('ontouchstart'in document)?'touchstart':'mouseenter';jq(this).on(event,handler);});}});(function(){var supportTouch=jq.support.touch,scrollEvent="touchmove scroll",touchStartEvent=supportTouch?"touchstart":"mousedown",touchStopEvent=supportTouch?"touchend":"mouseup",touchMoveEvent=supportTouch?"touchmove":"mousemove";jq.event.special.swipeupdown={setup:function(){var thisObject=this;var $this=jq(thisObject);$this.bind(touchStartEvent,function(event){var data=event.originalEvent.touches?event.originalEvent.touches[0]:event,start={time:(new Date).getTime(),coords:[data.pageX,data.pageY],origin:jq(event.target)},stop;function moveHandler(event){if(!start){return;}
var data=event.originalEvent.touches?event.originalEvent.touches[0]:event;stop={time:(new Date).getTime(),coords:[data.pageX,data.pageY]};if(Math.abs(start.coords[1]-stop.coords[1])>10){event.preventDefault();}}
$this.bind(touchMoveEvent,moveHandler).one(touchStopEvent,function(event){$this.unbind(touchMoveEvent,moveHandler);if(start&&stop){if(stop.time-start.time<1000&&Math.abs(start.coords[1]-stop.coords[1])>30&&Math.abs(start.coords[0]-stop.coords[0])<75){start.origin.trigger("swipeupdown").trigger(start.coords[1]>stop.coords[1]?"swipeup":"swipedown");}}
start=stop=undefined;});});}};jq.each({swipedown:"swipeupdown",swipeup:"swipeupdown"},function(event,sourceEvent){jq.event.special[event]={setup:function(){jq(this).bind(sourceEvent,jq.noop);}};});})();jq(document).ready(function(){if(jq('div.Div.ICCSSDebug').length>0){var vpW=jq(window).width();var vpH=jq(window).height();var vpInnerW=jq(window).innerWidth();var vpInnerH=jq(window).innerHeight();var debugString='Window.height: '+vpH+'px | Window.width: '+vpW+'px | Window.innerHeight: '+vpInnerH+'px | Window.innerWidth: '+vpInnerW+'px';jq('<div class="ICCSSDebugTab"></div>').prependTo(jq('body')).html(debugString);}});jQuery.ready({DOM:true},function($){var BreadCrum=$('.BreadcrumbItem:not(.ICIsStartPage),.BreadcrumbLastItem:not(.ICIsStartPage)').first();var MainNavi=$('.ICNavigation');var Category;$('ul li.ICLvl1',MainNavi).removeClass('ICActiveNode');if(BreadCrum.length>0){if(BreadCrum.hasClass('BreadcrumbLastItem')){Category=BreadCrum.html();}else{Category=$('span',BreadCrum).html();}
MainNavi.find('li.ICLvl1 > a span').filter(function(){return jq(this).text()===Category;}).closest('li.ICLvl1').addClass('ICActiveNode');}
bindManFilter();});jq(document).ready(function(){var checkAjaxProductList=false;if(jq('.ContextBox.RemoteSearchFacets').length>0){checkAjaxProductList=true;}
if(checkAjaxProductList===true){jq(document).ajaxSuccess(function(event,request,settings){var url=settings.url;if((url.indexOf('TemplateAction=ViewFaceted')>-1)||(url.indexOf('TemplateAction=FacetedSearchProducts')>-1)){jq('.ListItemProduct.ICHover').productHover().done(function(){});}});}});if(jQuery)(function($){$.extend($.fn,{ICSimpleHover:function(method,data){var ICTmpHoverEvent=null;var dpWidth=jq(window).width();var _IsTouchDevice=function(){return'ontouchstart'in window||navigator.maxTouchPoints;};var init=function($accessNodes,data){var isMinWidthExceeded=false;if((typeof data.MinWidth!=='undefined')&&(data.MinWidth!==null)&&(data.MinWidth!==0)){if(dpWidth<data.MinWidth){isMinWidthExceeded=true;}}
$accessNodes.data('IsOpen','0');if(_IsTouchDevice()&&(!isMinWidthExceeded)){jq($accessNodes.find('a:first-of-type:not('+data.HoverObjSelector+' a)')).on('click',function(ev){ev.preventDefault();});}
var $HoverObj=jq(data.HoverObjSelector);var $ShimmerObj=jq(data.ActivateShimmer);if(_IsTouchDevice()&&(!isMinWidthExceeded)){$accessNodes.on('touchstart',function(ev){var callingObj=ev.currentTarget;if(jq(callingObj).data('IsOpen')!=='1'){$HoverObj.removeClass('Hidden');if($ShimmerObj!==undefined){$ShimmerObj.addClass('Active');if(jq('.Icon.ICOffScreenIcon').data('open')===1){jq('.Icon.ICOffScreenIcon').ICMegaMenu('close');}}
jq(callingObj).data('IsOpen','1');setTimeout(function(){ICTmpHoverEvent=jq('html').bind('touchstart',function(ev){if(jq.contains(callingObj,ev.target)){}else if(jq(ev.target).closest($HoverObj).length){}
else{ICTmpHoverEvent.unbind();$HoverObj.addClass('Hidden');if($ShimmerObj!==undefined){$ShimmerObj.removeClass('Active');}
jq(callingObj).data('IsOpen','0');}});},300);}});}
$accessNodes.hover(function(ev){if((_IsTouchDevice()&&(!isMinWidthExceeded))||!_IsTouchDevice()){$HoverObj.removeClass('Hidden');if($ShimmerObj!==undefined){$ShimmerObj.addClass('Active');}}},function(ev){if(ev.target.nodeName!=='SELECT'&&ev.target.nodeName!=='OPTION'&&ev.target.nodeName!=='INPUT'&&jq(ev.target).parent($HoverObj).length){$HoverObj.addClass('Hidden');if($ShimmerObj!==undefined){$ShimmerObj.removeClass('Active');}}});}
var reinit=function($accessNodes,data){$accessNodes.unbind();jq($accessNodes.find('a:first-of-type:not('+data.HoverObjSelector+' a)')).unbind();init($accessNodes,data);}
switch(method){case'reinit':reinit(jq(this),data);break;default:init(jq(this),data);break;}}});})(jQuery);jQuery.ready({plugin:["ep.ajax"],DOM:true},function($){jq('.ICMyAccount').ICSimpleHover('',{'HoverObjSelector':'.ICMyAccount .ContextBoxBody','MinWidth':640});jq('.ICCountrySelector').ICSimpleHover('',{'HoverObjSelector':'.ICSelectorBody.ContextBoxBody','ActivateShimmer':'.ICSelectorShimmer','MinWidth':0});jq('.ContextBox.ICNotice.HoverBox').ICSimpleHover('',{'HoverObjSelector':'.ContextBox.ICNotice.HoverBox .ContextBoxBody','MinWidth':640});jq(window).resize(function(){vpW=jq(window).width();if(ICLastViewportWidth===vpW){return;}
jq('.ICMyAccount').ICSimpleHover('reinit',{'HoverObjSelector':'.ICMyAccount .ContextBoxBody','MinWidth':640});jq('.ICCountrySelector').ICSimpleHover('',{'HoverObjSelector':'.ICSelectorBody.ContextBoxBody','ActivateShimmer':'.ICSelectorShimmer','MinWidth':0});jq('.ContextBox.ICNotice.HoverBox').ICSimpleHover('reinit',{'HoverObjSelector':'.ContextBox.ICNotice.HoverBox .ContextBoxBody','MinWidth':0});});});var cssPropertySupported=(function(){var mem={};return function cssPropertySupported(prop,values){if(mem[prop+values])
return mem[prop+values];var element=document.createElement('p'),index=values.length,name,result=false;try{while(index--){name=values[index];element.style.display=name;if(element.style.display===name){result=true;break;}}}
catch(pError){}
mem[prop+values]=result;return result;}})();if(cssPropertySupported('display',['-ms-flexbox','-webkit-box','flex'])){document.documentElement.className=document.documentElement.className+' flexmagic'}
if(cssPropertySupported('display',['grid'])){document.documentElement.className=document.documentElement.className+' gridmagic'}
var getViewPortW=function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0);}
var triggerInteraction=function(){jq(document).trigger('startinteraction');}
jq(document).ready(function(){jq(window).one('scroll',triggerInteraction);if(typeof is_touch_device=='undefined'){function is_touch_device(){return'ontouchstart'in window||('onmsgesturechange'in window&&navigator.msMaxTouchPoints>0);};}
if(!is_touch_device()||jq('html').hasClass('desktop')){jq(window).one('mousemove',triggerInteraction);}});var handleProductList=function(){setProductList();var dataList=[];jq('#ManFilter option').each(function(){dataList.push(jq(this).val().toLowerCase().replace(/ /g,''));});jq('input[list="ManFilter"]').on('blur change',function(ev){ev.preventDefault();if(dataList.indexOf(jq(this).val().toLowerCase().replace(/ /g,''))!=-1){jq('input.'+jq(this).val().toLowerCase().replace(/ /g,'')).trigger('click');}});transformFilterList();bindManFilter();}
function bindManFilter(){jq('input[name="ManFilter"]','#RemoteSearchFacets').on('keyup',function(evt){var $node=jq(this);var $ul=$node.next('ul');var txt=jq(this).val();txt=txt.toLowerCase();if(txt){$ul.find('li[data-val*="'+txt+'"]').show();$ul.find('li:not([data-val*="'+txt+'"])').hide();}
else{$ul.find('> li').show();}});jq('input[name="ManFilter"]','#RemoteSearchFacets').on('keydown',function(evt){var $node=jq(this);var $ul=$node.next('ul');var txt=jq(this).val();txt=txt.toLowerCase();if(evt.keyCode===13){$ul.find('li[data-val*="'+txt+'"]').first().find('input[name="FacetValue_Manufacturer"]').prop('checked',true);}});};(function($){var focused=true;$.flexslider=function(el,options){var slider=$(el);if(typeof options.rtl=='undefined'&&$('html').attr('dir')=='rtl'){options.rtl=true;}
slider.vars=$.extend({},$.flexslider.defaults,options);var namespace=slider.vars.namespace,msGesture=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,touch=(("ontouchstart"in window)||msGesture||window.DocumentTouch&&document instanceof DocumentTouch)&&slider.vars.touch,eventType="click touchend MSPointerUp keyup",watchedEvent="",watchedEventClearTimer,vertical=slider.vars.direction==="vertical",reverse=slider.vars.reverse,carousel=(slider.vars.itemWidth>0),fade=slider.vars.animation==="fade",asNav=slider.vars.asNavFor!=="",methods={};$.data(el,"flexslider",slider);methods={init:function(){slider.animating=false;slider.currentSlide=parseInt((slider.vars.startAt?slider.vars.startAt:0),10);if(isNaN(slider.currentSlide)){slider.currentSlide=0;}
slider.animatingTo=slider.currentSlide;slider.atEnd=(slider.currentSlide===0||slider.currentSlide===slider.last);slider.containerSelector=slider.vars.selector.substr(0,slider.vars.selector.search(' '));slider.slides=$(slider.vars.selector,slider);slider.container=$(slider.containerSelector,slider);slider.count=slider.slides.length;slider.syncExists=$(slider.vars.sync).length>0;if(slider.vars.animation==="slide"){slider.vars.animation="swing";}
slider.prop=(vertical)?"top":(slider.vars.rtl?"marginRight":"marginLeft");slider.args={};slider.manualPause=false;slider.stopped=false;slider.started=false;slider.startTimeout=null;slider.transitions=!slider.vars.video&&!fade&&slider.vars.useCSS&&(function(){var obj=document.createElement('div'),props=['perspectiveProperty','WebkitPerspective','MozPerspective','OPerspective','msPerspective'];for(var i in props){if(obj.style[props[i]]!==undefined){slider.pfx=props[i].replace('Perspective','').toLowerCase();slider.prop="-"+slider.pfx+"-transform";return true;}}
return false;}());slider.isFirefox=navigator.userAgent.toLowerCase().indexOf('firefox')>-1;slider.ensureAnimationEnd='';if(slider.vars.controlsContainer!=="")slider.controlsContainer=$(slider.vars.controlsContainer).length>0&&$(slider.vars.controlsContainer);if(slider.vars.manualControls!=="")slider.manualControls=$(slider.vars.manualControls).length>0&&$(slider.vars.manualControls);if(slider.vars.customDirectionNav!=="")slider.customDirectionNav=$(slider.vars.customDirectionNav).length===2&&$(slider.vars.customDirectionNav);if(slider.vars.randomize){slider.slides.sort(function(){return(Math.round(Math.random())-0.5);});slider.container.empty().append(slider.slides);}
slider.doMath();slider.setup("init");if(slider.vars.controlNav){methods.controlNav.setup();}
if(slider.vars.directionNav){methods.directionNav.setup();}
if(slider.vars.keyboard&&($(slider.containerSelector).length===1||slider.vars.multipleKeyboard)){$(document).bind('keyup',function(event){var keycode=event.keyCode;if(!slider.animating&&(keycode===39||keycode===37)){var target=(slider.vars.rtl?((keycode===37)?slider.getTarget('next'):(keycode===39)?slider.getTarget('prev'):false):((keycode===39)?slider.getTarget('next'):(keycode===37)?slider.getTarget('prev'):false));slider.flexAnimate(target,slider.vars.pauseOnAction);}});}
if(slider.vars.mousewheel){slider.bind('mousewheel',function(event,delta,deltaX,deltaY){event.preventDefault();var target=(delta<0)?slider.getTarget('next'):slider.getTarget('prev');slider.flexAnimate(target,slider.vars.pauseOnAction);});}
if(slider.vars.pausePlay){methods.pausePlay.setup();}
if(slider.vars.slideshow&&slider.vars.pauseInvisible){methods.pauseInvisible.init();}
if(slider.vars.slideshow){if(slider.vars.pauseOnHover){slider.hover(function(){if(!slider.manualPlay&&!slider.manualPause){slider.pause();}},function(){if(!slider.manualPause&&!slider.manualPlay&&!slider.stopped){slider.play();}});}
if(!slider.vars.pauseInvisible||!methods.pauseInvisible.isHidden()){(slider.vars.initDelay>0)?slider.startTimeout=setTimeout(slider.play,slider.vars.initDelay):slider.play();}}
if(asNav){methods.asNav.setup();}
if(touch&&slider.vars.touch){methods.touch();}
if(!fade||(fade&&slider.vars.smoothHeight)){$(window).bind("resize orientationchange focus",methods.resize);}
slider.find("img").attr("draggable","false");setTimeout(function(){slider.vars.start(slider);},200);},asNav:{setup:function(){slider.asNav=true;slider.animatingTo=Math.floor(slider.currentSlide/slider.move);slider.currentItem=slider.currentSlide;slider.slides.removeClass(namespace+"active-slide").eq(slider.currentItem).addClass(namespace+"active-slide");if(!msGesture){slider.slides.on(eventType,function(e){e.preventDefault();var $slide=$(this),target=$slide.index();var posFromX;if(slider.vars.rtl){posFromX=-1*($slide.offset().right-$(slider).scrollLeft());}
else
{posFromX=$slide.offset().left-$(slider).scrollLeft();}
if(posFromX<=0&&$slide.hasClass(namespace+'active-slide')){slider.flexAnimate(slider.getTarget("prev"),true);}else if(!$(slider.vars.asNavFor).data('flexslider').animating&&!$slide.hasClass(namespace+"active-slide")){slider.direction=(slider.currentItem<target)?"next":"prev";slider.flexAnimate(target,slider.vars.pauseOnAction,false,true,true);}});}else{el._slider=slider;slider.slides.each(function(){var that=this;that._gesture=new MSGesture();that._gesture.target=that;that.addEventListener("MSPointerDown",function(e){e.preventDefault();if(e.currentTarget._gesture){e.currentTarget._gesture.addPointer(e.pointerId);}},false);that.addEventListener("MSGestureTap",function(e){e.preventDefault();var $slide=$(this),target=$slide.index();if(!$(slider.vars.asNavFor).data('flexslider').animating&&!$slide.hasClass('active')){slider.direction=(slider.currentItem<target)?"next":"prev";slider.flexAnimate(target,slider.vars.pauseOnAction,false,true,true);}});});}}},controlNav:{setup:function(){if(!slider.manualControls){methods.controlNav.setupPaging();}else{methods.controlNav.setupManual();}},setupPaging:function(){var type=(slider.vars.controlNav==="thumbnails")?'control-thumbs':'control-paging',j=1,item,slide;slider.controlNavScaffold=$('<ol class="'+namespace+'control-nav '+namespace+type+'"></ol>');if(slider.pagingCount>1){for(var i=0;i<slider.pagingCount;i++){slide=slider.slides.eq(i);if(undefined===slide.attr('data-thumb-alt')){slide.attr('data-thumb-alt','');}
item=$('<a></a>').attr('href','#').text(j);if(slider.vars.controlNav==="thumbnails"){item=$('<img/>').attr('src',slide.attr('data-thumb'));}
if(''!==slide.attr('data-thumb-alt')){item.attr('alt',slide.attr('data-thumb-alt'));}
if('thumbnails'===slider.vars.controlNav&&true===slider.vars.thumbCaptions){var captn=slide.attr('data-thumbcaption');if(''!==captn&&undefined!==captn){var caption=$('<span></span>').addClass(namespace+'caption').text(captn);item.append(caption);}}
var liElement=$('<li>');item.appendTo(liElement);liElement.append('</li>');slider.controlNavScaffold.append(liElement);j++;}}
(slider.controlsContainer)?$(slider.controlsContainer).append(slider.controlNavScaffold):slider.append(slider.controlNavScaffold);methods.controlNav.set();methods.controlNav.active();slider.controlNavScaffold.delegate('a, img',eventType,function(event){event.preventDefault();if(watchedEvent===""||watchedEvent===event.type){var $this=$(this),target=slider.controlNav.index($this);if(!$this.hasClass(namespace+'active')){slider.direction=(target>slider.currentSlide)?"next":"prev";slider.flexAnimate(target,slider.vars.pauseOnAction);}}
if(watchedEvent===""){watchedEvent=event.type;}
methods.setToClearWatchedEvent();});},setupManual:function(){slider.controlNav=slider.manualControls;methods.controlNav.active();slider.controlNav.bind(eventType,function(event){event.preventDefault();if(watchedEvent===""||watchedEvent===event.type){var $this=$(this),target=slider.controlNav.index($this);if(!$this.hasClass(namespace+'active')){(target>slider.currentSlide)?slider.direction="next":slider.direction="prev";slider.flexAnimate(target,slider.vars.pauseOnAction);}}
if(watchedEvent===""){watchedEvent=event.type;}
methods.setToClearWatchedEvent();});},set:function(){var selector=(slider.vars.controlNav==="thumbnails")?'img':'a';slider.controlNav=$('.'+namespace+'control-nav li '+selector,(slider.controlsContainer)?slider.controlsContainer:slider);},active:function(){slider.controlNav.removeClass(namespace+"active").eq(slider.animatingTo).addClass(namespace+"active");},update:function(action,pos){if(slider.pagingCount>1&&action==="add"){slider.controlNavScaffold.append($('<li><a href="#">'+slider.count+'</a></li>'));}else if(slider.pagingCount===1){slider.controlNavScaffold.find('li').remove();}else{slider.controlNav.eq(pos).closest('li').remove();}
methods.controlNav.set();(slider.pagingCount>1&&slider.pagingCount!==slider.controlNav.length)?slider.update(pos,action):methods.controlNav.active();}},directionNav:{setup:function(){var directionNavScaffold=$('<ul class="'+namespace+'direction-nav"><li class="'+namespace+'nav-prev"><a class="'+namespace+'prev" href="#">'+slider.vars.prevText+'</a></li><li class="'+namespace+'nav-next"><a class="'+namespace+'next" href="#">'+slider.vars.nextText+'</a></li></ul>');if(slider.customDirectionNav){slider.directionNav=slider.customDirectionNav;}else if(slider.controlsContainer){$(slider.controlsContainer).append(directionNavScaffold);slider.directionNav=$('.'+namespace+'direction-nav li a',slider.controlsContainer);}else{slider.append(directionNavScaffold);slider.directionNav=$('.'+namespace+'direction-nav li a',slider);}
methods.directionNav.update();slider.directionNav.bind(eventType,function(event){event.preventDefault();var target;if(watchedEvent===""||watchedEvent===event.type){target=($(this).hasClass(namespace+'next'))?slider.getTarget('next'):slider.getTarget('prev');slider.flexAnimate(target,slider.vars.pauseOnAction);}
if(watchedEvent===""){watchedEvent=event.type;}
methods.setToClearWatchedEvent();});},update:function(){var disabledClass=namespace+'disabled';if(slider.pagingCount===1){slider.directionNav.addClass(disabledClass).attr('tabindex','-1');}else if(!slider.vars.animationLoop){if(slider.animatingTo===0){slider.directionNav.removeClass(disabledClass).filter('.'+namespace+"prev").addClass(disabledClass).attr('tabindex','-1');}else if(slider.animatingTo===slider.last){slider.directionNav.removeClass(disabledClass).filter('.'+namespace+"next").addClass(disabledClass).attr('tabindex','-1');}else{slider.directionNav.removeClass(disabledClass).removeAttr('tabindex');}}else{slider.directionNav.removeClass(disabledClass).removeAttr('tabindex');}}},pausePlay:{setup:function(){var pausePlayScaffold=$('<div class="'+namespace+'pauseplay"><a href="#"></a></div>');if(slider.controlsContainer){slider.controlsContainer.append(pausePlayScaffold);slider.pausePlay=$('.'+namespace+'pauseplay a',slider.controlsContainer);}else{slider.append(pausePlayScaffold);slider.pausePlay=$('.'+namespace+'pauseplay a',slider);}
methods.pausePlay.update((slider.vars.slideshow)?namespace+'pause':namespace+'play');slider.pausePlay.bind(eventType,function(event){event.preventDefault();if(watchedEvent===""||watchedEvent===event.type){if($(this).hasClass(namespace+'pause')){slider.manualPause=true;slider.manualPlay=false;slider.pause();}else{slider.manualPause=false;slider.manualPlay=true;slider.play();}}
if(watchedEvent===""){watchedEvent=event.type;}
methods.setToClearWatchedEvent();});},update:function(state){(state==="play")?slider.pausePlay.removeClass(namespace+'pause').addClass(namespace+'play').html(slider.vars.playText):slider.pausePlay.removeClass(namespace+'play').addClass(namespace+'pause').html(slider.vars.pauseText);}},touch:function(){var startX,startY,offset,cwidth,dx,startT,onTouchStart,onTouchMove,onTouchEnd,scrolling=false,localX=0,localY=0,accDx=0;if(!msGesture){onTouchStart=function(e){if(slider.animating){e.preventDefault();}else if((window.navigator.msPointerEnabled)||e.touches.length===1){slider.pause();cwidth=(vertical)?slider.h:slider.w;startT=Number(new Date());localX=e.touches[0].pageX;localY=e.touches[0].pageY;offset=(carousel&&reverse&&slider.animatingTo===slider.last)?0:(carousel&&reverse)?slider.limit-(((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.animatingTo):(carousel&&slider.currentSlide===slider.last)?slider.limit:(carousel)?((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.currentSlide:(reverse)?(slider.last-slider.currentSlide+slider.cloneOffset)*cwidth:(slider.currentSlide+slider.cloneOffset)*cwidth;startX=(vertical)?localY:localX;startY=(vertical)?localX:localY;el.addEventListener('touchmove',onTouchMove,false);el.addEventListener('touchend',onTouchEnd,false);}};onTouchMove=function(e){localX=e.touches[0].pageX;localY=e.touches[0].pageY;dx=(vertical)?startX-localY:(slider.vars.rtl?-1:1)*(startX-localX);scrolling=(vertical)?(Math.abs(dx)<Math.abs(localX-startY)):(Math.abs(dx)<Math.abs(localY-startY));var fxms=500;if(!scrolling||Number(new Date())-startT>fxms){e.preventDefault();if(!fade&&slider.transitions){if(!slider.vars.animationLoop){dx=dx/((slider.currentSlide===0&&dx<0||slider.currentSlide===slider.last&&dx>0)?(Math.abs(dx)/cwidth+2):1);}
slider.setProps(offset+dx,"setTouch");}}};onTouchEnd=function(e){el.removeEventListener('touchmove',onTouchMove,false);if(slider.animatingTo===slider.currentSlide&&!scrolling&&!(dx===null)){var updateDx=(reverse)?-dx:dx,target=(updateDx>0)?slider.getTarget('next'):slider.getTarget('prev');if(slider.canAdvance(target)&&(Number(new Date())-startT<550&&Math.abs(updateDx)>50||Math.abs(updateDx)>cwidth/2)){slider.flexAnimate(target,slider.vars.pauseOnAction);}else{if(!fade){slider.flexAnimate(slider.currentSlide,slider.vars.pauseOnAction,true);}}}
el.removeEventListener('touchend',onTouchEnd,false);startX=null;startY=null;dx=null;offset=null;};el.addEventListener('touchstart',onTouchStart,false);}else{el.style.msTouchAction="none";el._gesture=new MSGesture();el._gesture.target=el;el.addEventListener("MSPointerDown",onMSPointerDown,false);el._slider=slider;el.addEventListener("MSGestureChange",onMSGestureChange,false);el.addEventListener("MSGestureEnd",onMSGestureEnd,false);function onMSPointerDown(e){e.stopPropagation();if(slider.animating){e.preventDefault();}else{slider.pause();el._gesture.addPointer(e.pointerId);accDx=0;cwidth=(vertical)?slider.h:slider.w;startT=Number(new Date());offset=(carousel&&reverse&&slider.animatingTo===slider.last)?0:(carousel&&reverse)?slider.limit-(((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.animatingTo):(carousel&&slider.currentSlide===slider.last)?slider.limit:(carousel)?((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.currentSlide:(reverse)?(slider.last-slider.currentSlide+slider.cloneOffset)*cwidth:(slider.currentSlide+slider.cloneOffset)*cwidth;}}
function onMSGestureChange(e){e.stopPropagation();var slider=e.target._slider;if(!slider){return;}
var transX=-e.translationX,transY=-e.translationY;accDx=accDx+((vertical)?transY:transX);dx=(slider.vars.rtl?-1:1)*accDx;scrolling=(vertical)?(Math.abs(accDx)<Math.abs(-transX)):(Math.abs(accDx)<Math.abs(-transY));if(e.detail===e.MSGESTURE_FLAG_INERTIA){setImmediate(function(){el._gesture.stop();});return;}
if(!scrolling||Number(new Date())-startT>500){e.preventDefault();if(!fade&&slider.transitions){if(!slider.vars.animationLoop){dx=accDx/((slider.currentSlide===0&&accDx<0||slider.currentSlide===slider.last&&accDx>0)?(Math.abs(accDx)/cwidth+2):1);}
slider.setProps(offset+dx,"setTouch");}}}
function onMSGestureEnd(e){e.stopPropagation();var slider=e.target._slider;if(!slider){return;}
if(slider.animatingTo===slider.currentSlide&&!scrolling&&!(dx===null)){var updateDx=(reverse)?-dx:dx,target=(updateDx>0)?slider.getTarget('next'):slider.getTarget('prev');if(slider.canAdvance(target)&&(Number(new Date())-startT<550&&Math.abs(updateDx)>50||Math.abs(updateDx)>cwidth/2)){slider.flexAnimate(target,slider.vars.pauseOnAction);}else{if(!fade){slider.flexAnimate(slider.currentSlide,slider.vars.pauseOnAction,true);}}}
startX=null;startY=null;dx=null;offset=null;accDx=0;}}},resize:function(){vpW=jq(window).width();if(ICLastViewportWidth===vpW){return;}
if(!slider.animating&&slider.is(':visible')){if(!carousel){slider.doMath();}
if(fade){methods.smoothHeight();}else if(carousel){slider.slides.width(slider.computedW);slider.update(slider.pagingCount);slider.setProps();}
else if(vertical){slider.viewport.height(slider.h);slider.setProps(slider.h,"setTotal");}else{if(slider.vars.smoothHeight){methods.smoothHeight();}
slider.newSlides.width(slider.computedW);slider.setProps(slider.computedW,"setTotal");}}},smoothHeight:function(dur){if(!vertical||fade){var $obj=(fade)?slider:slider.viewport;(dur)?$obj.animate({"height":slider.slides.eq(slider.animatingTo).innerHeight()},dur):$obj.innerHeight(slider.slides.eq(slider.animatingTo).innerHeight());}},sync:function(action){var $obj=$(slider.vars.sync).data("flexslider"),target=slider.animatingTo;switch(action){case"animate":$obj.flexAnimate(target,slider.vars.pauseOnAction,false,true);break;case"play":if(!$obj.playing&&!$obj.asNav){$obj.play();}break;case"pause":$obj.pause();break;}},uniqueID:function($clone){$clone.filter('[id]').add($clone.find('[id]')).each(function(){var $this=$(this);$this.attr('id',$this.attr('id')+'_clone');});return $clone;},pauseInvisible:{visProp:null,init:function(){var visProp=methods.pauseInvisible.getHiddenProp();if(visProp){var evtname=visProp.replace(/[H|h]idden/,'')+'visibilitychange';document.addEventListener(evtname,function(){if(methods.pauseInvisible.isHidden()){if(slider.startTimeout){clearTimeout(slider.startTimeout);}else{slider.pause();}}
else{if(slider.started){slider.play();}else{if(slider.vars.initDelay>0){setTimeout(slider.play,slider.vars.initDelay);}else{slider.play();}}}});}},isHidden:function(){var prop=methods.pauseInvisible.getHiddenProp();if(!prop){return false;}
return document[prop];},getHiddenProp:function(){var prefixes=['webkit','moz','ms','o'];if('hidden'in document){return'hidden';}
for(var i=0;i<prefixes.length;i++){if((prefixes[i]+'Hidden')in document){return prefixes[i]+'Hidden';}}
return null;}},setToClearWatchedEvent:function(){clearTimeout(watchedEventClearTimer);watchedEventClearTimer=setTimeout(function(){watchedEvent="";},3000);}};slider.flexAnimate=function(target,pause,override,withSync,fromNav){if(!slider.vars.animationLoop&&target!==slider.currentSlide){slider.direction=(target>slider.currentSlide)?"next":"prev";}
if(asNav&&slider.pagingCount===1)slider.direction=(slider.currentItem<target)?"next":"prev";if(!slider.animating&&(slider.canAdvance(target,fromNav)||override)&&slider.is(":visible")){if(asNav&&withSync){var master=$(slider.vars.asNavFor).data('flexslider');slider.atEnd=target===0||target===slider.count-1;master.flexAnimate(target,true,false,true,fromNav);slider.direction=(slider.currentItem<target)?"next":"prev";master.direction=slider.direction;if(Math.ceil((target+1)/slider.visible)-1!==slider.currentSlide&&target!==0){slider.currentItem=target;slider.slides.removeClass(namespace+"active-slide").eq(target).addClass(namespace+"active-slide");target=Math.floor(target/slider.visible);}else{slider.currentItem=target;slider.slides.removeClass(namespace+"active-slide").eq(target).addClass(namespace+"active-slide");return false;}}
slider.animating=true;slider.animatingTo=target;if(pause){slider.pause();}
slider.vars.before(slider);if(slider.syncExists&&!fromNav){methods.sync("animate");}
if(slider.vars.controlNav){methods.controlNav.active();}
if(!carousel){slider.slides.removeClass(namespace+'active-slide').eq(target).addClass(namespace+'active-slide');}
slider.atEnd=target===0||target===slider.last;if(slider.vars.directionNav){methods.directionNav.update();}
if(target===slider.last){slider.vars.end(slider);if(!slider.vars.animationLoop){slider.pause();}}
if(!fade){var dimension=(vertical)?slider.slides.filter(':first').height():slider.computedW,margin,slideString,calcNext;if(carousel){margin=slider.vars.itemMargin;calcNext=((slider.itemW+margin)*slider.move)*slider.animatingTo;slideString=(calcNext>slider.limit&&slider.visible!==1)?slider.limit:calcNext;}else if(slider.currentSlide===0&&target===slider.count-1&&slider.vars.animationLoop&&slider.direction!=="next"){slideString=(reverse)?(slider.count+slider.cloneOffset)*dimension:0;}else if(slider.currentSlide===slider.last&&target===0&&slider.vars.animationLoop&&slider.direction!=="prev"){slideString=(reverse)?0:(slider.count+1)*dimension;}else{slideString=(reverse)?((slider.count-1)-target+slider.cloneOffset)*dimension:(target+slider.cloneOffset)*dimension;}
slider.setProps(slideString,"",slider.vars.animationSpeed);if(slider.transitions){if(!slider.vars.animationLoop||!slider.atEnd){slider.animating=false;slider.currentSlide=slider.animatingTo;}
slider.container.unbind("webkitTransitionEnd transitionend");slider.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(slider.ensureAnimationEnd);slider.wrapup(dimension);});clearTimeout(slider.ensureAnimationEnd);slider.ensureAnimationEnd=setTimeout(function(){slider.wrapup(dimension);},slider.vars.animationSpeed+100);}else{slider.container.animate(slider.args,slider.vars.animationSpeed,slider.vars.easing,function(){slider.wrapup(dimension);});}}else{if(!touch){slider.slides.eq(slider.currentSlide).css({"zIndex":1}).animate({"opacity":0},slider.vars.animationSpeed,slider.vars.easing);slider.slides.eq(target).css({"zIndex":2}).animate({"opacity":1},slider.vars.animationSpeed,slider.vars.easing,slider.wrapup);}else{slider.slides.eq(slider.currentSlide).css({"opacity":0,"zIndex":1});slider.slides.eq(target).css({"opacity":1,"zIndex":2});slider.wrapup(dimension);}}
if(slider.vars.smoothHeight){methods.smoothHeight(slider.vars.animationSpeed);}}};slider.wrapup=function(dimension){if(!fade&&!carousel){if(slider.currentSlide===0&&slider.animatingTo===slider.last&&slider.vars.animationLoop){slider.setProps(dimension,"jumpEnd");}else if(slider.currentSlide===slider.last&&slider.animatingTo===0&&slider.vars.animationLoop){slider.setProps(dimension,"jumpStart");}}
slider.animating=false;slider.currentSlide=slider.animatingTo;slider.vars.after(slider);};slider.animateSlides=function(){if(!slider.animating&&focused){slider.flexAnimate(slider.getTarget("next"));}};slider.pause=function(){clearInterval(slider.animatedSlides);slider.animatedSlides=null;slider.playing=false;if(slider.vars.pausePlay){methods.pausePlay.update("play");}
if(slider.syncExists){methods.sync("pause");}};slider.play=function(){if(slider.playing){clearInterval(slider.animatedSlides);}
slider.animatedSlides=slider.animatedSlides||setInterval(slider.animateSlides,slider.vars.slideshowSpeed);slider.started=slider.playing=true;if(slider.vars.pausePlay){methods.pausePlay.update("pause");}
if(slider.syncExists){methods.sync("play");}};slider.stop=function(){slider.pause();slider.stopped=true;};slider.canAdvance=function(target,fromNav){var last=(asNav)?slider.pagingCount-1:slider.last;return(fromNav)?true:(asNav&&slider.currentItem===slider.count-1&&target===0&&slider.direction==="prev")?true:(asNav&&slider.currentItem===0&&target===slider.pagingCount-1&&slider.direction!=="next")?false:(target===slider.currentSlide&&!asNav)?false:(slider.vars.animationLoop)?true:(slider.atEnd&&slider.currentSlide===0&&target===last&&slider.direction!=="next")?false:(slider.atEnd&&slider.currentSlide===last&&target===0&&slider.direction==="next")?false:true;};slider.getTarget=function(dir){slider.direction=dir;if(dir==="next"){return(slider.currentSlide===slider.last)?0:slider.currentSlide+1;}else{return(slider.currentSlide===0)?slider.last:slider.currentSlide-1;}};slider.setProps=function(pos,special,dur){var target=(function(){var posCheck=(pos)?pos:((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.animatingTo,posCalc=(function(){if(carousel){return(special==="setTouch")?pos:(reverse&&slider.animatingTo===slider.last)?0:(reverse)?slider.limit-(((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.animatingTo):(slider.animatingTo===slider.last)?slider.limit:posCheck;}else{switch(special){case"setTotal":return(reverse)?((slider.count-1)-slider.currentSlide+slider.cloneOffset)*pos:(slider.currentSlide+slider.cloneOffset)*pos;case"setTouch":return(reverse)?pos:pos;case"jumpEnd":return(reverse)?pos:slider.count*pos;case"jumpStart":return(reverse)?slider.count*pos:pos;default:return pos;}}}());return(posCalc*((slider.vars.rtl)?1:-1))+"px";}());if(slider.transitions){if(slider.isFirefox){target=(vertical)?"translate3d(0,"+target+",0)":"translate3d("+(parseInt(target)+'px')+",0,0)";}else{target=(vertical)?"translate3d(0,"+target+",0)":"translate3d("+((slider.vars.rtl?-1:1)*parseInt(target)+'px')+",0,0)";}
dur=(dur!==undefined)?(dur/1000)+"s":"0s";slider.container.css("-"+slider.pfx+"-transition-duration",dur);slider.container.css("transition-duration",dur);}
slider.args[slider.prop]=target;if(slider.transitions||dur===undefined){slider.container.css(slider.args);}
slider.container.css('transform',target);};slider.setup=function(type){if(!fade){var sliderOffset,arr;if(type==="init"){slider.viewport=$('<div class="'+namespace+'viewport"></div>').css({"overflow":"hidden","position":"relative"}).appendTo(slider).append(slider.container);slider.cloneCount=0;slider.cloneOffset=0;if(reverse){arr=$.makeArray(slider.slides).reverse();slider.slides=$(arr);slider.container.empty().append(slider.slides);}}
if(slider.vars.animationLoop&&!carousel){slider.cloneCount=2;slider.cloneOffset=1;if(type!=="init"){slider.container.find('.clone').remove();}
slider.container.append(methods.uniqueID(slider.slides.first().clone().addClass('clone')).attr('aria-hidden','true')).prepend(methods.uniqueID(slider.slides.last().clone().addClass('clone')).attr('aria-hidden','true'));}
slider.newSlides=$(slider.vars.selector,slider);sliderOffset=(reverse)?slider.count-1-slider.currentSlide+slider.cloneOffset:slider.currentSlide+slider.cloneOffset;if(vertical&&!carousel){slider.container.height((slider.count+slider.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){slider.newSlides.css({"display":"block"});slider.doMath();slider.viewport.height(slider.h);slider.setProps(sliderOffset*slider.h,"init");},(type==="init")?100:0);}else{slider.container.width((slider.count+slider.cloneCount)*200+"%");slider.setProps(sliderOffset*slider.computedW,"init");setTimeout(function(){slider.doMath();if(slider.vars.rtl){if(slider.isFirefox){slider.newSlides.css({"width":slider.computedW,"marginRight":slider.computedM,"float":"right","display":"block"});}else{slider.newSlides.css({"width":slider.computedW,"marginRight":slider.computedM,"float":"left","display":"block"});}}
else{slider.newSlides.css({"width":slider.computedW,"marginRight":slider.computedM,"float":"left","display":"block"});}
if(slider.vars.smoothHeight){methods.smoothHeight();}},(type==="init")?100:0);}}else{if(slider.vars.rtl){slider.slides.css({"width":"100%","float":'right',"marginLeft":"-100%","position":"relative"});}
else{slider.slides.css({"width":"100%","float":'left',"marginRight":"-100%","position":"relative"});}
if(type==="init"){if(!touch){if(slider.vars.fadeFirstSlide==false){slider.slides.css({"opacity":0,"display":"block","zIndex":1}).eq(slider.currentSlide).css({"zIndex":2}).css({"opacity":1});}else{slider.slides.css({"opacity":0,"display":"block","zIndex":1}).eq(slider.currentSlide).css({"zIndex":2}).animate({"opacity":1},slider.vars.animationSpeed,slider.vars.easing);}}else{slider.slides.css({"opacity":0,"display":"block","webkitTransition":"opacity "+slider.vars.animationSpeed/1000+"s ease","zIndex":1}).eq(slider.currentSlide).css({"opacity":1,"zIndex":2});}}
if(slider.vars.smoothHeight){methods.smoothHeight();}}
if(!carousel){slider.slides.removeClass(namespace+"active-slide").eq(slider.currentSlide).addClass(namespace+"active-slide");}
slider.vars.init(slider);};slider.doMath=function(){var slide=slider.slides.first(),slideMargin=slider.vars.itemMargin,minItems=slider.vars.minItems,maxItems=slider.vars.maxItems;slider.w=(slider.viewport===undefined)?slider.width():slider.viewport.width();if(slider.isFirefox){slider.w=slider.width();}
slider.h=slide.height();slider.boxPadding=slide.outerWidth()-slide.width();if(carousel){slider.itemT=slider.vars.itemWidth+slideMargin;slider.itemM=slideMargin;slider.minW=(minItems)?minItems*slider.itemT:slider.w;slider.maxW=(maxItems)?(maxItems*slider.itemT)-slideMargin:slider.w;slider.itemW=(slider.minW>slider.w)?(slider.w-(slideMargin*(minItems-1)))/minItems:(slider.maxW<slider.w)?(slider.w-(slideMargin*(maxItems-1)))/maxItems:(slider.vars.itemWidth>slider.w)?slider.w:slider.vars.itemWidth;slider.visible=Math.floor(slider.w/(slider.itemW));slider.move=(slider.vars.move>0&&slider.vars.move<slider.visible)?slider.vars.move:slider.visible;slider.pagingCount=Math.ceil(((slider.count-slider.visible)/slider.move)+1);slider.last=slider.pagingCount-1;slider.limit=(slider.pagingCount===1)?0:(slider.vars.itemWidth>slider.w)?(slider.itemW*(slider.count-1))+(slideMargin*(slider.count-1)):((slider.itemW+slideMargin)*slider.count)-slider.w-slideMargin;}else{slider.itemW=slider.w;slider.itemM=slideMargin;slider.pagingCount=slider.count;slider.last=slider.count-1;}
slider.computedW=slider.itemW-slider.boxPadding;slider.computedM=slider.itemM;};slider.update=function(pos,action){slider.doMath();if(!carousel){if(pos<slider.currentSlide){slider.currentSlide+=1;}else if(pos<=slider.currentSlide&&pos!==0){slider.currentSlide-=1;}
slider.animatingTo=slider.currentSlide;}
if(slider.vars.controlNav&&!slider.manualControls){if((action==="add"&&!carousel)||slider.pagingCount>slider.controlNav.length){methods.controlNav.update("add");}else if((action==="remove"&&!carousel)||slider.pagingCount<slider.controlNav.length){if(carousel&&slider.currentSlide>slider.last){slider.currentSlide-=1;slider.animatingTo-=1;}
methods.controlNav.update("remove",slider.last);}}
if(slider.vars.directionNav){methods.directionNav.update();}};slider.addSlide=function(obj,pos){var $obj=$(obj);slider.count+=1;slider.last=slider.count-1;if(vertical&&reverse){(pos!==undefined)?slider.slides.eq(slider.count-pos).after($obj):slider.container.prepend($obj);}else{(pos!==undefined)?slider.slides.eq(pos).before($obj):slider.container.append($obj);}
slider.update(pos,"add");slider.slides=$(slider.vars.selector+':not(.clone)',slider);slider.setup();slider.vars.added(slider);};slider.removeSlide=function(obj){var pos=(isNaN(obj))?slider.slides.index($(obj)):obj;slider.count-=1;slider.last=slider.count-1;if(isNaN(obj)){$(obj,slider.slides).remove();}else{(vertical&&reverse)?slider.slides.eq(slider.last).remove():slider.slides.eq(obj).remove();}
slider.doMath();slider.update(pos,"remove");slider.slides=$(slider.vars.selector+':not(.clone)',slider);slider.setup();slider.vars.removed(slider);};methods.init();};$(window).blur(function(e){focused=false;}).focus(function(e){focused=true;});$.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:false,fadeFirstSlide:true,thumbCaptions:false,pauseOnAction:true,pauseOnHover:false,pauseInvisible:true,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:true,isFirefox:false,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){},rtl:false};$.fn.flexslider=function(options){if(options===undefined){options={};}
if(typeof options==="object"){return this.each(function(){var $this=$(this),selector=(options.selector)?options.selector:".slides > li",$slides=$this.find(selector);if(($slides.length===1&&options.allowOneSlide===false)||$slides.length===0){$slides.fadeIn(400);if(options.start){options.start($this);}}else if($this.data('flexslider')===undefined){new $.flexslider(this,options);}});}else{var $slider=$(this).data('flexslider');switch(options){case"play":$slider.play();break;case"pause":$slider.pause();break;case"stop":$slider.stop();break;case"next":$slider.flexAnimate($slider.getTarget("next"),true);break;case"prev":case"previous":$slider.flexAnimate($slider.getTarget("prev"),true);break;default:if(typeof options==="number"){$slider.flexAnimate(options,true);}}}};})(jQuery);if(jQuery)(function($){var vpHeight=$(window).height(),vpWidth=$(window).width(),postUrl=epConfig.baseUrl,postData={};$.extend($.fn,{productHover:function(method,data){var def=$.Deferred();var deferredList=[];anchorNode=$('#ICPListHoverAnchorID');var init=function(itemNode,data){itemNode=$(itemNode);if(itemNode.data('icisbound')==1){return;}
itemNode.data('icisbound',1);var innerDef=$.Deferred();deferredList.push(innerDef.promise());if((typeof anchorNode==='undefined')||(anchorNode===null)||(anchorNode.length<1)){anchorNode=$('<div/>',{id:'ICPListHoverAnchorID',class:'ICPListHoverAnchor unbinded'}).appendTo($('body')).css({display:'none',position:'absolute',overflow:'hidden'});}
anchorNode.data('loading',false);if(itemNode.data('disabled')!==0){itemNode.on('mouseenter',function(e){openHover(jq(this));});itemNode.on('mouseleave',function(e){itemNode.data('trigger',0);});if(anchorNode.hasClass('unbinded')){anchorNode.on('mouseleave',function(e){closeHover(jq(this));});anchorNode.removeClass('unbinded');}}
innerDef.resolve();}
var openHover=function(itemNode){if((typeof itemNode!=='undefined')&&(itemNode!==null)&&(itemNode.length>0)&&(typeof anchorNode!=='undefined')&&(anchorNode!==null)&&(anchorNode.length>0)&&(anchorNode.data('loading')===false))
{anchorNode.empty();var useCache=0;var vW=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(itemNode.data('wrapcontent')&&itemNode.data('vW')==vW){useCache=1;}
else{itemNode.removeData(['wrapcontent','vW','anchorNodeL','anchorNodeW']);}
if(!useCache){var anchorShimmer=$('<div/>',{id:'ICPListShimmerID',class:'ICPListShimmer'}).css({'background-color':'#fff','height':'100%','width':'100%','position':'relative','zIndex':'300'}).appendTo(anchorNode);}
if(itemNode.data('disabled')!==0){itemNode.data('trigger',1);setTimeout(function(){if((itemNode.data('trigger')>0)){var vpWidth=$(window).width();var showHover=0;if(((ICPHoverOptions.activMinWidth===0)||(vpWidth>=ICPHoverOptions.activMinWidth))&&((ICPHoverOptions.activMaxWidth===0)||(vpWidth<=ICPHoverOptions.activMaxWidth))){showHover=1;}
if(itemNode.disabled===1){showHover=0;}
if(showHover===1){ICPHoverOptions.hoverTarget=itemNode;var bodyTop=jq('body').offset();bodyTop=bodyTop.top;bodyTop=bodyTop*(-1);var itemWidth=itemNode.width()+(ICPHoverOptions.paddingSide*2);var itemHeight=itemNode.height()+(ICPHoverOptions.paddingTop+2);var itemPos=itemNode.offset();var itemTop=itemPos.top-ICPHoverOptions.paddingTop+bodyTop;var itemLeft=itemPos.left-ICPHoverOptions.paddingSide;if(ICPHoverOptions.initHeight!==0){itemHeight=ICPHoverOptions.initHeight;};if(useCache){VarLeftAreaW=itemNode.data('VarLeftAreaW');if(VarLeftAreaW){itemLeft-=VarLeftAreaW;}}
anchorNode.css({top:itemTop,left:itemLeft,width:useCache&&itemNode.data('anchorNodeW')?itemNode.data('anchorNodeW'):itemWidth,height:(itemHeight+10)});anchorNode.show();jq.data(anchorNode,{'origItemW':itemWidth,'origItemH':itemHeight,'origItemL':itemLeft,'origItemT':itemTop});if(useCache){var wrapcontent=itemNode.data('wrapcontent');if(wrapcontent){setcontent(itemNode,wrapcontent,0);return;}
else{loadContent(itemNode);}}
else{loadContent(itemNode);}}}},ICPHoverOptions.delay);}}}
var closeHover=function(itemNode){itemNode.data('trigger',0);anchorNode.hide();anchorNode.empty();ICPHoverOptions.hoverTarget=null;}
var loadContent=function(itemNode){var rawcontent=itemNode.data('raw');if(rawcontent){setcontent(itemNode,rawcontent,0);return;}
if((typeof postUrl!=='undefined')&&(postUrl!==null)&&(postUrl!=='')&&(anchorNode.data('loading')===false)){anchorNode.data('loading',true);var ppath=itemNode.attr('ppath');var pclass=itemNode.attr('pclass');postData['RefreshPrice']=ICPHoverOptions.refreshPrice;postData['ViewObjectPath']=ppath;postData['ViewAction']='ICGetProductHover';$.ajax({type:'POST',async:false,url:postUrl,data:postData,success:function(response){response=response.replace(/<\!--(.*)-->/g,'');response=response.replace(/\t/g,'');response=response.replace(/\n/g,'');setcontent(itemNode,response,1);},error:function(response){itemNode.data('trigger',0);itemNode.data('disabled',1);anchorNode.hide();console.log(response);}});}}
var setcontent=function(itemNode,content,setdata){var anchorWrap=$('<div/>',{id:'ICPListHoverWrapID',class:'ICPListHoverWrap'}).appendTo(anchorNode);anchorWrap.html(content);if(setdata){itemNode.data('raw',content);}
if(typeof ICPHoverOptions.onLoad==='function'){setTimeout(ICPHoverOptions.onLoad,0);jq('#ICPListShimmerID').fadeOut(100);}
anchorNode.data('loading',false);}
var enable=function(itemNode){itemNode=$(itemNode);itemNode.data('disabled',0);}
var disable=function(itemNode){itemNode=$(itemNode);itemNode.data('disabled',1);}
var destroy=function(itemNode){itemNode=$(itemNode);itemNode.removeClass('ICHover');itemNode.data('disabled',0);itemNode.unbind();}
switch(method){case'enable':$(this).each(function(){enable(this);});break;case'disable':$(this).each(function(){disable(this);});break;case'destroy':$(this).each(function(){destroy(this);});break;default:$(this).each(function(){init(this,method);});break;}
$.when.apply($,deferredList).done(function(){def.resolve();});return def.promise($(this));}});})(jQuery);jQuery.ready({plugin:["ep.ajax"],DOM:true},function(){var HoverArea=jq('.ICFooterElement .HoverArea'),HoveredArea=jq('.ICFooterElement .ContextBoxBody');if((HoverArea.length>0)&&(HoveredArea.length>0)){if(!HoverArea.hasClass('hovered')){var BoundingRect=null;HoverArea.mouseenter(function(event){var Hovered=jq(this);if(!Hovered.hasClass('hovered')&&jq('.ContentArea').width()>(4*230)){var Box=Hovered.next('ul'),BoxHeight=0-Box.outerHeight();Box.css('top',BoxHeight);if(Box.width()>0){Hovered.addClass('hovered');}}});HoverArea.closest('.ICFooterElement').mouseleave(function(event){HoverArea.removeClass('hovered');});}}});jQuery.ready({plugin:["ep.ajax"],DOM:true},function($){jq('.ICMiniBasket').ICSimpleHover('',{'HoverObjSelector':'.ICBasketInnerContent','MinWidth':640});jq(window).resize(function(){vpW=jq(window).width();if(ICLastViewportWidth===vpW){return;}
jq('.ICMiniBasket').ICSimpleHover('reinit',{'HoverObjSelector':'.ICBasketInnerContent','MinWidth':640});});});jq(document).ready(function(){setTimeout('fixDoubleTap()',3000);});function fixDoubleTap(){var HoverAreaSep=jq('.ICMiniBasket.ICMiniBasketFull .MiniBasket > .BasketSeperator ');if(HoverAreaSep.is(":hidden")){jq('.ICMiniBasket.ICPortrait').removeClass('HE');jq('.ICMiniBasket.ICMiniBasketFull').addClass('HE');}};(function($){$.fn.collagePlus=function(options){return this.each(function(){var row=0,elements=[],rownum=1,$this=$(this);$.fn.collagePlus.defaults.albumWidth=$this.width();$.fn.collagePlus.defaults.padding=parseFloat($this.css('padding-left'));$.fn.collagePlus.defaults.images=$this.children();var settings=$.extend({},$.fn.collagePlus.defaults,options);settings.images.each(function(index){var $this=$(this),$img=($this.is("img"))?$this:$(this).find("img");var w=(typeof $img.data("width")!='undefined')?$img.data("width"):$img.width(),h=(typeof $img.data("height")!='undefined')?$img.data("height"):$img.height();var imgParams=getImgProperty($img);$img.data("width",w);$img.data("height",h);var nw=Math.ceil(w/h*settings.targetHeight),nh=Math.ceil(settings.targetHeight);elements.push([this,nw,nh,imgParams['w'],imgParams['h']]);row+=nw+imgParams['w']+settings.padding;if(row>settings.albumWidth&&elements.length!=0){resizeRow(elements,(row-settings.padding),settings,rownum);row=null;elements=null;row=0;elements=[];rownum+=1;}
if(settings.images.length-1==index&&elements.length!=0){resizeRow(elements,row,settings,rownum);row=null;elements=null;row=0;elements=[];rownum+=1;}});if(typeof settings.callBackFunction==='string'){var callfn=window[settings.callBackFunction];if(typeof callfn==="function")callfn();}});function resizeRow(obj,row,settings,rownum){var imageExtras=(settings.padding*(obj.length-1))+(obj.length*obj[0][3]),albumWidthAdjusted=settings.albumWidth-imageExtras,overPercent=albumWidthAdjusted/(row-imageExtras),trackWidth=imageExtras,lastRow=(row<settings.albumWidth?true:false);for(var i=0;i<obj.length;i++){var $obj=$(obj[i][0]),fw=Math.floor(obj[i][1]*overPercent),fh=Math.floor(obj[i][2]*overPercent),isNotLast=!!((i<obj.length-1));if(settings.allowPartialLastRow===true&&lastRow===true){fw=obj[i][1];fh=obj[i][2];}
trackWidth+=fw;if(!isNotLast&&trackWidth<settings.albumWidth){if(settings.allowPartialLastRow===true&&lastRow===true){fw=fw;}else{fw=fw+(settings.albumWidth-trackWidth);}}
fw--;var $img=($obj.is("img"))?$obj:$obj.find("img");$img.width(fw);if(!$obj.is("img")){$obj.width(fw+obj[i][3]);}
$img.height(fh);if(!$obj.is("img")){$obj.height(fh+obj[i][4]);}
applyModifications($obj,isNotLast,settings);$img.one('load',function(target){return function(){if(settings.effect=='default'){target.animate({opacity:'1'},{duration:settings.fadeSpeed});}else{if(settings.direction=='vertical'){var sequence=(rownum<=10?rownum:10);}else{var sequence=(i<=9?i+1:10);}
target.removeClass(function(index,css){return(css.match(/\beffect-\S+/g)||[]).join(' ');});target.addClass(settings.effect);target.addClass("effect-duration-"+sequence);}}}($obj)).each(function(){if(this.complete)$(this).trigger('load');});}}
function applyModifications($obj,isNotLast,settings){var css={'margin-bottom':settings.padding+"px",'margin-right':(isNotLast)?settings.padding+"px":"0px",'display':settings.display,'vertical-align':"bottom",'overflow':"hidden"};return $obj.css(css);}
function getImgProperty(img)
{$img=$(img);var params=new Array();params["w"]=(parseFloat($img.css("border-left-width"))+parseFloat($img.css("border-right-width")));params["h"]=(parseFloat($img.css("border-top-width"))+parseFloat($img.css("border-bottom-width")));return params;}};$.fn.collagePlus.defaults={'targetHeight':400,'fadeSpeed':"fast",'display':"inline-block",'effect':'default','direction':'vertical','allowPartialLastRow':false,'callBackFunction':null};})(jQuery);;(function($){"use strict";var VERSION="1.6.18",LEFT="left",RIGHT="right",UP="up",DOWN="down",IN="in",OUT="out",NONE="none",AUTO="auto",SWIPE="swipe",PINCH="pinch",TAP="tap",DOUBLE_TAP="doubletap",LONG_TAP="longtap",HOLD="hold",HORIZONTAL="horizontal",VERTICAL="vertical",ALL_FINGERS="all",DOUBLE_TAP_THRESHOLD=10,PHASE_START="start",PHASE_MOVE="move",PHASE_END="end",PHASE_CANCEL="cancel",SUPPORTS_TOUCH='ontouchstart'in window,SUPPORTS_POINTER_IE10=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!SUPPORTS_TOUCH,SUPPORTS_POINTER=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!SUPPORTS_TOUCH,PLUGIN_NS='TouchSwipe';var defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:".noSwipe",preventDefaultEvents:true};$.fn.swipe=function(method){var $this=$(this),plugin=$this.data(PLUGIN_NS);if(plugin&&typeof method==='string'){if(plugin[method]){return plugin[method].apply(plugin,Array.prototype.slice.call(arguments,1));}else{$.error('Method '+method+' does not exist on jQuery.swipe');}}
else if(plugin&&typeof method==='object'){plugin['option'].apply(plugin,arguments);}
else if(!plugin&&(typeof method==='object'||!method)){return init.apply(this,arguments);}
return $this;};$.fn.swipe.version=VERSION;$.fn.swipe.defaults=defaults;$.fn.swipe.phases={PHASE_START:PHASE_START,PHASE_MOVE:PHASE_MOVE,PHASE_END:PHASE_END,PHASE_CANCEL:PHASE_CANCEL};$.fn.swipe.directions={LEFT:LEFT,RIGHT:RIGHT,UP:UP,DOWN:DOWN,IN:IN,OUT:OUT};$.fn.swipe.pageScroll={NONE:NONE,HORIZONTAL:HORIZONTAL,VERTICAL:VERTICAL,AUTO:AUTO};$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:ALL_FINGERS};function init(options){if(options&&(options.allowPageScroll===undefined&&(options.swipe!==undefined||options.swipeStatus!==undefined))){options.allowPageScroll=NONE;}
if(options.click!==undefined&&options.tap===undefined){options.tap=options.click;}
if(!options){options={};}
options=$.extend({},$.fn.swipe.defaults,options);return this.each(function(){var $this=$(this);var plugin=$this.data(PLUGIN_NS);if(!plugin){plugin=new TouchSwipe(this,options);$this.data(PLUGIN_NS,plugin);}});}
function TouchSwipe(element,options){var options=$.extend({},options);var useTouchEvents=(SUPPORTS_TOUCH||SUPPORTS_POINTER||!options.fallbackToMouseEvents),START_EV=useTouchEvents?(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerDown':'pointerdown'):'touchstart'):'mousedown',MOVE_EV=useTouchEvents?(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerMove':'pointermove'):'touchmove'):'mousemove',END_EV=useTouchEvents?(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerUp':'pointerup'):'touchend'):'mouseup',LEAVE_EV=useTouchEvents?(SUPPORTS_POINTER?'mouseleave':null):'mouseleave',CANCEL_EV=(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerCancel':'pointercancel'):'touchcancel');var distance=0,direction=null,currentDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,pinchDirection=0,maximumsMap=null;var $element=$(element);var phase="start";var fingerCount=0;var fingerData={};var startTime=0,endTime=0,previousTouchEndTime=0,fingerCountAtRelease=0,doubleTapStartTime=0;var singleTapTimeout=null,holdTimeout=null;try{$element.bind(START_EV,touchStart);$element.bind(CANCEL_EV,touchCancel);}catch(e){$.error('events not supported '+START_EV+','+CANCEL_EV+' on jQuery.swipe');}
this.enable=function(){this.disable();$element.bind(START_EV,touchStart);$element.bind(CANCEL_EV,touchCancel);return $element;};this.disable=function(){removeListeners();return $element;};this.destroy=function(){removeListeners();$element.data(PLUGIN_NS,null);$element=null;};this.option=function(property,value){if(typeof property==='object'){options=$.extend(options,property);}else if(options[property]!==undefined){if(value===undefined){return options[property];}else{options[property]=value;}}else if(!property){return options;}else{$.error('Option '+property+' does not exist on jQuery.swipe.options');}
return null;}
function touchStart(jqEvent){if(getTouchInProgress()){return;}
if($(jqEvent.target).closest(options.excludedElements,$element).length>0){return;}
var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(event.pointerType&&event.pointerType=="mouse"&&options.fallbackToMouseEvents==false){return;};var ret,touches=event.touches,evt=touches?touches[0]:event;phase=PHASE_START;if(touches){fingerCount=touches.length;}
else if(options.preventDefaultEvents!==false){jqEvent.preventDefault();}
distance=0;direction=null;currentDirection=null;pinchDirection=null;duration=0;startTouchesDistance=0;endTouchesDistance=0;pinchZoom=1;pinchDistance=0;maximumsMap=createMaximumsData();cancelMultiFingerRelease();createFingerData(0,evt);if(!touches||(fingerCount===options.fingers||options.fingers===ALL_FINGERS)||hasPinches()){startTime=getTimeStamp();if(fingerCount==2){createFingerData(1,touches[1]);startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start);}
if(options.swipeStatus||options.pinchStatus){ret=triggerHandler(event,phase);}}else{ret=false;}
if(ret===false){phase=PHASE_CANCEL;triggerHandler(event,phase);return ret;}else{if(options.hold){holdTimeout=setTimeout($.proxy(function(){$element.trigger('hold',[event.target]);if(options.hold){ret=options.hold.call($element,event,event.target);}},this),options.longTapThreshold);}
setTouchInProgress(true);}
return null;};function touchMove(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(phase===PHASE_END||phase===PHASE_CANCEL||inMultiFingerRelease())
return;var ret,touches=event.touches,evt=touches?touches[0]:event;var currentFinger=updateFingerData(evt);endTime=getTimeStamp();if(touches){fingerCount=touches.length;}
if(options.hold){clearTimeout(holdTimeout);}
phase=PHASE_MOVE;if(fingerCount==2){if(startTouchesDistance==0){createFingerData(1,touches[1]);startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start);}else{updateFingerData(touches[1]);endTouchesDistance=calculateTouchesDistance(fingerData[0].end,fingerData[1].end);pinchDirection=calculatePinchDirection(fingerData[0].end,fingerData[1].end);}
pinchZoom=calculatePinchZoom(startTouchesDistance,endTouchesDistance);pinchDistance=Math.abs(startTouchesDistance-endTouchesDistance);}
if((fingerCount===options.fingers||options.fingers===ALL_FINGERS)||!touches||hasPinches()){direction=calculateDirection(currentFinger.start,currentFinger.end);currentDirection=calculateDirection(currentFinger.last,currentFinger.end);validateDefaultEvent(jqEvent,currentDirection);distance=calculateDistance(currentFinger.start,currentFinger.end);duration=calculateDuration();setMaxDistance(direction,distance);ret=triggerHandler(event,phase);if(!options.triggerOnTouchEnd||options.triggerOnTouchLeave){var inBounds=true;if(options.triggerOnTouchLeave){var bounds=getbounds(this);inBounds=isInBounds(currentFinger.end,bounds);}
if(!options.triggerOnTouchEnd&&inBounds){phase=getNextPhase(PHASE_MOVE);}
else if(options.triggerOnTouchLeave&&!inBounds){phase=getNextPhase(PHASE_END);}
if(phase==PHASE_CANCEL||phase==PHASE_END){triggerHandler(event,phase);}}}else{phase=PHASE_CANCEL;triggerHandler(event,phase);}
if(ret===false){phase=PHASE_CANCEL;triggerHandler(event,phase);}}
function touchEnd(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent,touches=event.touches;if(touches){if(touches.length&&!inMultiFingerRelease()){startMultiFingerRelease(event);return true;}else if(touches.length&&inMultiFingerRelease()){return true;}}
if(inMultiFingerRelease()){fingerCount=fingerCountAtRelease;}
endTime=getTimeStamp();duration=calculateDuration();if(didSwipeBackToCancel()||!validateSwipeDistance()){phase=PHASE_CANCEL;triggerHandler(event,phase);}else if(options.triggerOnTouchEnd||(options.triggerOnTouchEnd===false&&phase===PHASE_MOVE)){if(options.preventDefaultEvents!==false&&jqEvent.cancelable!==false){jqEvent.preventDefault();}
phase=PHASE_END;triggerHandler(event,phase);}
else if(!options.triggerOnTouchEnd&&hasTap()){phase=PHASE_END;triggerHandlerForGesture(event,phase,TAP);}else if(phase===PHASE_MOVE){phase=PHASE_CANCEL;triggerHandler(event,phase);}
setTouchInProgress(false);return null;}
function touchCancel(){fingerCount=0;endTime=0;startTime=0;startTouchesDistance=0;endTouchesDistance=0;pinchZoom=1;cancelMultiFingerRelease();setTouchInProgress(false);}
function touchLeave(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(options.triggerOnTouchLeave){phase=getNextPhase(PHASE_END);triggerHandler(event,phase);}}
function removeListeners(){$element.unbind(START_EV,touchStart);$element.unbind(CANCEL_EV,touchCancel);$element.unbind(MOVE_EV,touchMove);$element.unbind(END_EV,touchEnd);if(LEAVE_EV){$element.unbind(LEAVE_EV,touchLeave);}
setTouchInProgress(false);}
function getNextPhase(currentPhase){var nextPhase=currentPhase;var validTime=validateSwipeTime();var validDistance=validateSwipeDistance();var didCancel=didSwipeBackToCancel();if(!validTime||didCancel){nextPhase=PHASE_CANCEL;}
else if(validDistance&&currentPhase==PHASE_MOVE&&(!options.triggerOnTouchEnd||options.triggerOnTouchLeave)){nextPhase=PHASE_END;}
else if(!validDistance&&currentPhase==PHASE_END&&options.triggerOnTouchLeave){nextPhase=PHASE_CANCEL;}
return nextPhase;}
function triggerHandler(event,phase){var ret,touches=event.touches;if(didSwipe()||hasSwipes()){ret=triggerHandlerForGesture(event,phase,SWIPE);}
if((didPinch()||hasPinches())&&ret!==false){ret=triggerHandlerForGesture(event,phase,PINCH);}
if(didDoubleTap()&&ret!==false){ret=triggerHandlerForGesture(event,phase,DOUBLE_TAP);}
else if(didLongTap()&&ret!==false){ret=triggerHandlerForGesture(event,phase,LONG_TAP);}
else if(didTap()&&ret!==false){ret=triggerHandlerForGesture(event,phase,TAP);}
if(phase===PHASE_CANCEL){touchCancel(event);}
if(phase===PHASE_END){if(touches){if(!touches.length){touchCancel(event);}}else{touchCancel(event);}}
return ret;}
function triggerHandlerForGesture(event,phase,gesture){var ret;if(gesture==SWIPE){$element.trigger('swipeStatus',[phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection]);if(options.swipeStatus){ret=options.swipeStatus.call($element,event,phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection);if(ret===false)return false;}
if(phase==PHASE_END&&validateSwipe()){clearTimeout(singleTapTimeout);clearTimeout(holdTimeout);$element.trigger('swipe',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipe){ret=options.swipe.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);if(ret===false)return false;}
switch(direction){case LEFT:$element.trigger('swipeLeft',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeLeft){ret=options.swipeLeft.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;case RIGHT:$element.trigger('swipeRight',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeRight){ret=options.swipeRight.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;case UP:$element.trigger('swipeUp',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeUp){ret=options.swipeUp.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;case DOWN:$element.trigger('swipeDown',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeDown){ret=options.swipeDown.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;}}}
if(gesture==PINCH){$element.trigger('pinchStatus',[phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]);if(options.pinchStatus){ret=options.pinchStatus.call($element,event,phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData);if(ret===false)return false;}
if(phase==PHASE_END&&validatePinch()){switch(pinchDirection){case IN:$element.trigger('pinchIn',[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]);if(options.pinchIn){ret=options.pinchIn.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData);}
break;case OUT:$element.trigger('pinchOut',[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]);if(options.pinchOut){ret=options.pinchOut.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData);}
break;}}}
if(gesture==TAP){if(phase===PHASE_CANCEL||phase===PHASE_END){clearTimeout(singleTapTimeout);clearTimeout(holdTimeout);if(hasDoubleTap()&&!inDoubleTap()){doubleTapStartTime=getTimeStamp();singleTapTimeout=setTimeout($.proxy(function(){doubleTapStartTime=null;$element.trigger('tap',[event.target]);if(options.tap){ret=options.tap.call($element,event,event.target);}},this),options.doubleTapThreshold);}else{doubleTapStartTime=null;$element.trigger('tap',[event.target]);if(options.tap){ret=options.tap.call($element,event,event.target);}}}}else if(gesture==DOUBLE_TAP){if(phase===PHASE_CANCEL||phase===PHASE_END){clearTimeout(singleTapTimeout);clearTimeout(holdTimeout);doubleTapStartTime=null;$element.trigger('doubletap',[event.target]);if(options.doubleTap){ret=options.doubleTap.call($element,event,event.target);}}}else if(gesture==LONG_TAP){if(phase===PHASE_CANCEL||phase===PHASE_END){clearTimeout(singleTapTimeout);doubleTapStartTime=null;$element.trigger('longtap',[event.target]);if(options.longTap){ret=options.longTap.call($element,event,event.target);}}}
return ret;}
function validateSwipeDistance(){var valid=true;if(options.threshold!==null){valid=distance>=options.threshold;}
return valid;}
function didSwipeBackToCancel(){var cancelled=false;if(options.cancelThreshold!==null&&direction!==null){cancelled=(getMaxDistance(direction)-distance)>=options.cancelThreshold;}
return cancelled;}
function validatePinchDistance(){if(options.pinchThreshold!==null){return pinchDistance>=options.pinchThreshold;}
return true;}
function validateSwipeTime(){var result;if(options.maxTimeThreshold){if(duration>=options.maxTimeThreshold){result=false;}else{result=true;}}else{result=true;}
return result;}
function validateDefaultEvent(jqEvent,direction){if(options.preventDefaultEvents===false){return;}
if(options.allowPageScroll===NONE){jqEvent.preventDefault();}else{var auto=options.allowPageScroll===AUTO;switch(direction){case LEFT:if((options.swipeLeft&&auto)||(!auto&&options.allowPageScroll!=HORIZONTAL)){jqEvent.preventDefault();}
break;case RIGHT:if((options.swipeRight&&auto)||(!auto&&options.allowPageScroll!=HORIZONTAL)){jqEvent.preventDefault();}
break;case UP:if((options.swipeUp&&auto)||(!auto&&options.allowPageScroll!=VERTICAL)){jqEvent.preventDefault();}
break;case DOWN:if((options.swipeDown&&auto)||(!auto&&options.allowPageScroll!=VERTICAL)){jqEvent.preventDefault();}
break;case NONE:break;}}}
function validatePinch(){var hasCorrectFingerCount=validateFingers();var hasEndPoint=validateEndPoint();var hasCorrectDistance=validatePinchDistance();return hasCorrectFingerCount&&hasEndPoint&&hasCorrectDistance;}
function hasPinches(){return!!(options.pinchStatus||options.pinchIn||options.pinchOut);}
function didPinch(){return!!(validatePinch()&&hasPinches());}
function validateSwipe(){var hasValidTime=validateSwipeTime();var hasValidDistance=validateSwipeDistance();var hasCorrectFingerCount=validateFingers();var hasEndPoint=validateEndPoint();var didCancel=didSwipeBackToCancel();var valid=!didCancel&&hasEndPoint&&hasCorrectFingerCount&&hasValidDistance&&hasValidTime;return valid;}
function hasSwipes(){return!!(options.swipe||options.swipeStatus||options.swipeLeft||options.swipeRight||options.swipeUp||options.swipeDown);}
function didSwipe(){return!!(validateSwipe()&&hasSwipes());}
function validateFingers(){return((fingerCount===options.fingers||options.fingers===ALL_FINGERS)||!SUPPORTS_TOUCH);}
function validateEndPoint(){return fingerData[0].end.x!==0;}
function hasTap(){return!!(options.tap);}
function hasDoubleTap(){return!!(options.doubleTap);}
function hasLongTap(){return!!(options.longTap);}
function validateDoubleTap(){if(doubleTapStartTime==null){return false;}
var now=getTimeStamp();return(hasDoubleTap()&&((now-doubleTapStartTime)<=options.doubleTapThreshold));}
function inDoubleTap(){return validateDoubleTap();}
function validateTap(){return((fingerCount===1||!SUPPORTS_TOUCH)&&(isNaN(distance)||distance<options.threshold));}
function validateLongTap(){return((duration>options.longTapThreshold)&&(distance<DOUBLE_TAP_THRESHOLD));}
function didTap(){return!!(validateTap()&&hasTap());}
function didDoubleTap(){return!!(validateDoubleTap()&&hasDoubleTap());}
function didLongTap(){return!!(validateLongTap()&&hasLongTap());}
function startMultiFingerRelease(event){previousTouchEndTime=getTimeStamp();fingerCountAtRelease=event.touches.length+1;}
function cancelMultiFingerRelease(){previousTouchEndTime=0;fingerCountAtRelease=0;}
function inMultiFingerRelease(){var withinThreshold=false;if(previousTouchEndTime){var diff=getTimeStamp()-previousTouchEndTime
if(diff<=options.fingerReleaseThreshold){withinThreshold=true;}}
return withinThreshold;}
function getTouchInProgress(){return!!($element.data(PLUGIN_NS+'_intouch')===true);}
function setTouchInProgress(val){if(!$element){return;}
if(val===true){$element.bind(MOVE_EV,touchMove);$element.bind(END_EV,touchEnd);if(LEAVE_EV){$element.bind(LEAVE_EV,touchLeave);}}else{$element.unbind(MOVE_EV,touchMove,false);$element.unbind(END_EV,touchEnd,false);if(LEAVE_EV){$element.unbind(LEAVE_EV,touchLeave,false);}}
$element.data(PLUGIN_NS+'_intouch',val===true);}
function createFingerData(id,evt){var f={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};f.start.x=f.last.x=f.end.x=evt.pageX||evt.clientX;f.start.y=f.last.y=f.end.y=evt.pageY||evt.clientY;fingerData[id]=f;return f;}
function updateFingerData(evt){var id=evt.identifier!==undefined?evt.identifier:0;var f=getFingerData(id);if(f===null){f=createFingerData(id,evt);}
f.last.x=f.end.x;f.last.y=f.end.y;f.end.x=evt.pageX||evt.clientX;f.end.y=evt.pageY||evt.clientY;return f;}
function getFingerData(id){return fingerData[id]||null;}
function setMaxDistance(direction,distance){if(direction==NONE)return;distance=Math.max(distance,getMaxDistance(direction));maximumsMap[direction].distance=distance;}
function getMaxDistance(direction){if(maximumsMap[direction])return maximumsMap[direction].distance;return undefined;}
function createMaximumsData(){var maxData={};maxData[LEFT]=createMaximumVO(LEFT);maxData[RIGHT]=createMaximumVO(RIGHT);maxData[UP]=createMaximumVO(UP);maxData[DOWN]=createMaximumVO(DOWN);return maxData;}
function createMaximumVO(dir){return{direction:dir,distance:0}}
function calculateDuration(){return endTime-startTime;}
function calculateTouchesDistance(startPoint,endPoint){var diffX=Math.abs(startPoint.x-endPoint.x);var diffY=Math.abs(startPoint.y-endPoint.y);return Math.round(Math.sqrt(diffX*diffX+diffY*diffY));}
function calculatePinchZoom(startDistance,endDistance){var percent=(endDistance/startDistance)*1;return percent.toFixed(2);}
function calculatePinchDirection(){if(pinchZoom<1){return OUT;}else{return IN;}}
function calculateDistance(startPoint,endPoint){return Math.round(Math.sqrt(Math.pow(endPoint.x-startPoint.x,2)+Math.pow(endPoint.y-startPoint.y,2)));}
function calculateAngle(startPoint,endPoint){var x=startPoint.x-endPoint.x;var y=endPoint.y-startPoint.y;var r=Math.atan2(y,x);var angle=Math.round(r*180/Math.PI);if(angle<0){angle=360-Math.abs(angle);}
return angle;}
function calculateDirection(startPoint,endPoint){if(comparePoints(startPoint,endPoint)){return NONE;}
var angle=calculateAngle(startPoint,endPoint);if((angle<=45)&&(angle>=0)){return LEFT;}else if((angle<=360)&&(angle>=315)){return LEFT;}else if((angle>=135)&&(angle<=225)){return RIGHT;}else if((angle>45)&&(angle<135)){return DOWN;}else{return UP;}}
function getTimeStamp(){var now=new Date();return now.getTime();}
function getbounds(el){el=$(el);var offset=el.offset();var bounds={left:offset.left,right:offset.left+el.outerWidth(),top:offset.top,bottom:offset.top+el.outerHeight()}
return bounds;}
function isInBounds(point,bounds){return(point.x>bounds.left&&point.x<bounds.right&&point.y>bounds.top&&point.y<bounds.bottom);};function comparePoints(pointA,pointB){return(pointA.x==pointB.x&&pointA.y==pointB.y);}}})(jQuery);jQuery.fn.extend({clickOrTouch:function(handler){return this.each(function(){var event=('ontouchstart'in document)?'touchstart':'click';jq(this).on(event,handler);});}});if(jQuery)(function($){$.extend($.fn,{ICMegaMenu:function(method,data){var def=$.Deferred();var deferredList=[];var ICNaviParams=new Object();var isTouchDevice=function(){if(('ontouchstart'in window)||(navigator.maxTouchPoints)||(navigator.userAgent.toLowerCase().match(/windows phone os 7/i))){return true;}
else{return false;}};var init=function($anchorNode,method,data){ICNaviParams.anchorNode=$anchorNode;ICNaviParams.menuNode=jq('ul',$anchorNode).first();ICNaviParams.MenuType=data.MenuType;ICNaviParams.TypeClass='IC'+data.MenuType;ICNaviParams.OpenDelay=data.OpenDelay;ICNaviParams.UseOffCanvas=data.UseOffCanvas;ICNaviParams.OffCanvasIconObj=data.OffCanvasIconObj;ICNaviParams.ShowAtHamburgerIcon=data.ShowAtHamburgerIcon
ICNaviParams.OffCanvasMeta=jq('.ICOffCanvasMeta',$anchorNode);ICNaviParams.OffCanvasHead=jq('.ICOffCanvasHead',$anchorNode);ICNaviParams.OffCanvasShimmerClose=jq('#ICOCShimmerCloseBtn');ICNaviParams.OffCanvasRootLink=jq('#ICOCRootLink',$anchorNode);ICNaviParams.OffCanvasWanderBack=jq('#ICOCWanderBack',$anchorNode);ICNaviParams.OffCanvasSubHead=jq('#ICOCSubHeader',$anchorNode);ICNaviParams.OffCanvasSlideInHead=jq('#ICOCSlideInHead',$anchorNode);ICNaviParams.OffCanvasOpenCurrent=jq('#ICOCOpenCurrent',$anchorNode);ICNaviParams.OffCanvasOpenCurrentLabel=jq('#ICOCOpenCurrentNameLabel',$anchorNode);ICNaviParams.OffCanvasH=0;ICNaviParams.OffCanvasResolution=data.OffCanvasResolution;ICNaviParams.MinHeight=data.MinHeight||0;ICNaviParams.BottomMargin=data.BottomMargin||0;ICNaviParams.IsOffCanvas=false;ICNaviParams.ICTmpHoverEvent=null;ICNaviParams.ICTmpLastClickedLink=false;ICNaviParams.ICLastEvTimeStamp=null;ICNaviParams.ICLargestSubCount=0;ICNaviParams.ICLastViewportWidth=jq(window).width();ICNaviParams.ICMaxHeight=0;if((ICNaviParams.anchorNode.length<=0)||(ICNaviParams.menuNode.length<=0)){return false;}
ICNaviParams.anchorNode.addClass(ICNaviParams.TypeClass);if(isTouchDevice()){ICNaviParams.isTouchable=true;ICNaviParams.anchorNode.addClass('ICTouch');}
var UA=jQuery.browser;var IsIE8=false;if((typeof UA.msie!='undefined')&&(UA.msie===true)&&(UA.version==='8.0')){IsIE8=true;}
if(ICNaviParams.UseOffCanvas===1){if(IsIE8===false){toggleOffScreen();wanderOCback();closeOCSubsToRoot();openOCCurrentLink();}
var aSubItemCounts=jq('li[subitems]',ICNaviParams.menuNode).map(function(){return parseInt(jq(this).attr('subitems'));});for(var i=0;i<aSubItemCounts.length;i++){if(aSubItemCounts[i]>ICNaviParams.ICLargestSubCount){ICNaviParams.ICLargestSubCount=aSubItemCounts[i]}}
handleSubMenusAndLinks();handleOffScreenMenu();var doit;jq(window).resize(function(){if(ICNaviParams.ICLastViewportWidth!==jq(window).width()){toggleOffScreen();ICNaviParams.ICLastViewportWidth=jq(window).width();}});}
else{handleSubMenusAndLinks();}
jq('.Cat'+epConfig.objectId).parents('.ICLvl1').toggleClass('ICActiveNode',true);}
var reinit=function(anchorNode){}
var destroy=function(anchorNode){anchorNode.unbind();}
var close=function(offCanvas){ICNaviParams.anchorNode=jq('.ICNavigation');ICNaviParams.menuNode=jq('#ICMenuShimmer ul').first();ICNaviParams.OffCanvasIconObj=offCanvas;closeOffScreenMenu();}
var handleSubMenusAndLinks=function(){var $callNodes=jq(".ICNavigation li:not(.ICNavigation li.ICOffCanvasMeta)");jq('> a',$callNodes).on('click touchstart MSPointerDown pointerdown swipe',function(ev){var l=jq(this).children().length;if(isTouchDevice()){ev.preventDefault();ev.stopPropagation();}
else{var $callingNode=jq(ev.target).closest('li');openLink(ev,$callingNode);if(ICNaviParams.IsOffCanvas===true){openOCSub($callingNode);}
ev.preventDefault();ev.stopPropagation();}});jq('> a span, > a img',$callNodes).on('click',function(ev){var $callingNode=jq(ev.target).closest('li');openLink(ev,$callingNode);if(ICNaviParams.IsOffCanvas===true){openOCSub($callingNode);}
else{openMMSub($callingNode);}});jq('> a',$callNodes).swipe({tap:function(ev,target){var $callingNode=jq(target).closest('li');openLink(ev,$callingNode);if(ICNaviParams.IsOffCanvas===true){openOCSub($callingNode);}
else{openMMSub($callingNode);setTimeout(function(){ICNaviParams.ICTmpHoverEvent=jq('html').bind('touchstart MSPointerDown',function(ev){closeMMSub(jq('li.ICHover',ICNaviParams.menuNode));ICNaviParams.ICTmpHoverEvent.unbind();});},300);}},swipeUp:function(ev,target,direction,distance){jq('.ICOffCanvas > ul').animate({scrollTop:'+='+distance+'px'},(distance*1));},swipeDown:function(ev,direction,distance){jq('.ICOffCanvas > ul').animate({scrollTop:'-='+distance+'px'},(distance*1));},threshold:5});$callNodes.hover(function(ev){var $callingNode=jq(this);if(($callingNode.hasClass('ICHasSubContent'))&&(!ICNaviParams.IsOffCanvas)){openMMSub($callingNode);}},function(ev){var $callingNode=jq(this);if(($callingNode.hasClass('ICHasSubContent'))&&(!ICNaviParams.IsOffCanvas)){closeMMSub($callingNode);};});}
var openLink=function(ev,$callingNode){var $oCurrLink=jq(ev.target).closest('a');var currLinkTgt=$oCurrLink.attr('href');var isTargetBlank=false;if(($oCurrLink.attr('target')==='blank')||($oCurrLink.attr('target')==='_blank')){isTargetBlank=true;}
var maxLevel=0;var isDoubledEvent=false;if(ICNaviParams.MenuType==='Flyout'){maxLevel=0;}
else if(ICNaviParams.MenuType==='MegaMenu'){maxLevel=0;}
else if(ICNaviParams.MenuType==='ThumbMenu'){maxLevel=3;}
else{}
if((ICNaviParams.ICLastEvTimeStamp!==null)&&((ev.timeStamp-ICNaviParams.ICLastEvTimeStamp)<500)){isDoubledEvent=true;}
if(ICNaviParams.IsOffCanvas===false){if((maxLevel===0)||($callingNode.parents('ul').length<=maxLevel)){if((isDoubledEvent===false)&&(ev.type==='click')){if(isTargetBlank===false){window.location.href=currLinkTgt;}
else{window.open(currLinkTgt,'_blank');}}
else if(isDoubledEvent===false){if(($callingNode.hasClass('ICHasSubContent'))&&($callingNode[0]!=ICNaviParams.ICTmpLastClickedLink[0])){ICNaviParams.ICTmpLastClickedLink=$callingNode;}
else{if(isTargetBlank===false){window.location.href=currLinkTgt;}
else{window.open(currLinkTgt,'_blank');}}}
else{console.log('second event stopped');}}}
else{if(!$callingNode.hasClass('ICHasSubContent')){window.location.href=currLinkTgt;}}
lastEvTimeStamp=ev.timeStamp;jq(document).on('click touchstart MSPointerDown',function(ev){if(ICNaviParams.isTouchable){var resetItem=true,parents=jq(ev.target).parents();for(var i=0;i<parents.length;i++)
if(parents[i]==ICNaviParams.ICTmpLastClickedLink[0])
resetItem=false;if(resetItem)
ICNaviParams.ICTmpLastClickedLink=false;}});}
var openMMSub=function(path){var $tmpSibs=path.siblings();for(i=0;i<$tmpSibs.length;i++){var $tmpSib=jq($tmpSibs[i]);if($tmpSib.hasClass('ICHover')){closeMMSub($tmpSib);}}
if((ICNaviParams.isTouchable)||(ICNaviParams.IsOffCanvas===true)){path.addClass('ICHover');openCallback(path);}
else{if(path.hasClass('ICLvl1')){openTimer=setTimeout(function(){path.addClass('ICHover');openCallback(path);},500);}
else{path.addClass('ICHover');openCallback(path);}}
menuActive=true;}
var closeMMSub=function(path){if(!(ICNaviParams.isTouchable)&&(ICNaviParams.IsOffCanvas!==true)){if(typeof openTimer!=='undefined'){clearTimeout(openTimer);}}
path.removeClass('ICHover');}
var openOCSub=function(path){if(path.hasClass('ICHover')!==true){var callNodePos=path.offset();var callNodeW=path.width();var callNodeZIndex=path.css('zIndex');var $subMenuNode=jq('> ul',path);ICNaviParams.OffCanvasMeta.removeClass('HideElement');var $newSlideInHead=ICNaviParams.OffCanvasSlideInHead.clone();var newName=jq('> a span:not(.ICCatImage):not(.NoImage)',path).html();if(jq(path).hasClass('ICHasSubCategories')){jq('#ICOCSubHeader',$newSlideInHead).html(newName);jq('#ICOCOpenCurrentNameLabel').html(newName);}
$subMenuNode.prepend($newSlideInHead);if($newSlideInHead.hasClass('HideElement')){$newSlideInHead.removeClass('HideElement');}
if(path.hasClass('ICLvl1')===true){$subMenuNode.prepend(ICNaviParams.OffCanvasMeta);}
var h=$subMenuNode.height();ICNaviParams.ICMaxHeight=ICNaviParams.ICMaxHeight>h?ICNaviParams.ICMaxHeight:h;if(path.hasClass('ICLvl1')===true){$subMenuNode.css({'left':(callNodePos.left+callNodeW),'z-index':(callNodeZIndex+1)});}
else{var subMenuTop=0;if(path.hasClass('ICLvl2')){subMenuTop=Math.ceil(ICNaviParams.OffCanvasMeta.height());}
$subMenuNode.css({'top':subMenuTop,'left':(callNodePos.left+callNodeW),'z-index':(callNodeZIndex+1)});}
path.addClass('ICHover');var MenuTop=ICNaviParams.menuNode.offset();MenuTop=MenuTop.top;if(((ICNaviParams.menuNode.height()+MenuTop)>(jq(window).height()))&&(jq(window).scrollTop()>MenuTop)){jq('html, body').animate({scrollTop:(MenuTop-10)+'px'});}
jq('#ICMenuShimmer').removeClass('AniStop').addClass('AniOpen')
$subMenuNode.animate({left:0,},function(){var $tmpSibs=path.siblings('.ICHover');for(i=0;i<$tmpSibs.length;i++){jq($tmpSibs[i]).removeClass('ICHover');}
ICNaviParams.OffCanvasSlideInHead.remove();ICNaviParams.OffCanvasSlideInHead=$newSlideInHead;jq('#ICMenuShimmer').removeClass('AniOpen').addClass('AniStop');setShimmerLevel(path);});if($subMenuNode.length>0){jq.data(ICNaviParams.OffCanvasOpenCurrent,'OpenCurrentLink',jq('> a',path).attr('href'));jq.data(ICNaviParams.OffCanvasWanderBack,'WanderBackNode',path);jq.data(ICNaviParams.OffCanvasRootLink,'WanderBackNode',jq('.ICLvl1.ICHover',ICNaviParams.menuNode));}}
jq('#ICMenuShimmer > ul').animate({scrollTop:0},400);}
var closeOCSub=function($wanderBackNode){if((typeof $wanderBackNode!=='undefined')&&($wanderBackNode!==null)&&($wanderBackNode.length>0)){var $subMenuNode=jq('> ul',$wanderBackNode);var $parentList=$subMenuNode.parent('li').parent('ul');var $parentNode=$subMenuNode.parent('li');var $superParentNode=$subMenuNode.parent('li').parent('ul').parent('li');var callNodePos=$wanderBackNode.offset();var callNodeW=$wanderBackNode.width();var callNodeZIndex=$wanderBackNode.css('zIndex');var $newSlideInHead=ICNaviParams.OffCanvasSlideInHead.clone();var newName=jq('> a span:not(.ICCatImage):not(.NoImage)',$superParentNode).html();jq('#ICOCSubHeader',$newSlideInHead).html(newName);jq('#ICOCOpenCurrentNameLabel').html(newName);if(jq('li:first-child',$parentList).hasClass('ICOffCanvasMeta')){$newSlideInHead.insertAfter(jq('.ICOffCanvasMeta',$parentList));}
else{$newSlideInHead.prependTo($parentList);}
if($parentNode.hasClass('ICLvl1')===true){$newSlideInHead.addClass('HideElement');}
jq('#ICMenuShimmer').removeClass('AniStop').addClass('AniClose');setShimmerLevel($wanderBackNode.parent());$subMenuNode.animate({left:(callNodePos.left+callNodeW),},function(){$wanderBackNode.removeClass('ICHover');if($parentNode.hasClass('ICLvl1')===true){ICNaviParams.OffCanvasSlideInHead.addClass('HideElement');jq('li.ICHover',ICNaviParams.menuNode).removeClass('ICHover');}
jq.data(ICNaviParams.OffCanvasWanderBack,'WanderBackNode',$superParentNode);jq.data(ICNaviParams.OffCanvasOpenCurrent,'OpenCurrentLink',jq('> a',$superParentNode).attr('href'));$newSlideInHead.css('background-color','blue');ICNaviParams.OffCanvasSlideInHead.css('background-color','red');ICNaviParams.OffCanvasSlideInHead.remove();ICNaviParams.OffCanvasSlideInHead=$newSlideInHead;jq('#ICMenuShimmer').removeClass('AniClose').addClass('AniStop');});}}
var setShimmerLevel=function(path){if(path.is("ul")){path=path.parent();}
var lvlClasses='';if(path.hasClass('ICLvl4')===true){lvlClasses='HideLvl4 HideLvl3 HideLvl2 HideLvl1';}
else if(path.hasClass('ICLvl3')===true){lvlClasses='HideLvl3 HideLvl2 HideLvl1';}
else if(path.hasClass('ICLvl2')===true){lvlClasses='HideLvl2 HideLvl1';}
else if(path.hasClass('ICLvl1')===true){lvlClasses='HideLvl1';}
var classes=jq('#ICMenuShimmer').attr("class");classes=classes.replace(/HideLvl\d/g,'');jq('#ICMenuShimmer').attr("class",classes+' '+lvlClasses);}
var closeOCSubsToRoot=function(path){ICNaviParams.OffCanvasRootLink.click(function(){var $wanderBackNode=jq.data(ICNaviParams.OffCanvasRootLink,'WanderBackNode');closeOCSub($wanderBackNode);});}
var wanderOCback=function(path){ICNaviParams.OffCanvasWanderBack.click(function(){var $wanderBackNode=jq.data(ICNaviParams.OffCanvasWanderBack,'WanderBackNode');closeOCSub($wanderBackNode);});}
var openOCCurrentLink=function(){ICNaviParams.OffCanvasOpenCurrent.click(function(){var openCurrentLink=jq.data(ICNaviParams.OffCanvasOpenCurrent,'OpenCurrentLink');if((typeof openCurrentLink!=='undefined')&&(openCurrentLink!==null)){window.location.href=openCurrentLink;}});}
var openCallback=function(menuNode){switch(ICNaviParams.MenuType){case'MegaMenu':displayMegaMenu(menuNode);break;case'ThumbMenu':displayThumbMenu(menuNode);break;default:displayFlyout(menuNode);break;}}
var displayFlyout=function(menuNode){}
var displayMegaMenu=function(menuNode){var callNodePos=menuNode.position(),callNodeL=callNodePos.left,callNodeR=(callNodePos.left+menuNode.width()),contentW=jq('div.GeneralLayout').width(),$currentSub=jq('> ul',menuNode),currentSubW=$currentSub.outerWidth(),leftVal=0;if(currentSubW<contentW){if((callNodeL+currentSubW)>contentW){leftVal=contentW-currentSubW;}
if((callNodeR-currentSubW)<0){leftVal=0;}}
$currentSub.css('left',leftVal+'px');}
var displayThumbMenu=function(menuNode){if((ICNaviParams.IsOffCanvas===false)&&((menuNode.hasClass('ICLvl1'))||(menuNode.hasClass('ICLvl2')))){var isFromRoot=0;if(menuNode.hasClass('ICLvl1')){isFromRoot=1;}
var $lvl2List=jq('li.ICLvl1.ICHover > ul',ICNaviParams.menuNode);if((isFromRoot===1)&&(jq('> li.ICHover',$lvl2List).length<1)){menuNode=jq('> li:first-child',$lvl2List);menuNode.addClass('ICHover');}
var $lvl2Items=jq('> li:not(li.ICReadMoreLink)',$lvl2List);var $lvl2ImgCol=jq('li.ICHover .ICLvl2ImageMedium',$lvl2List);var $lvl2ImgMedium=jq('li.ICHover .ICLvl2ImageMedium img',$lvl2List);var $lvl2LastItem=jq($lvl2Items[$lvl2Items.length-1]);var $lvl3List=jq('li.ICHover > ul',$lvl2List);var $lvl3Items=jq('> li:not(li.ICReadMoreLink)',$lvl3List);var $lvl2ReadMoreLink=jq('li.ICLvl1.ICHover li.ICLvl2.ICReadMoreLink',ICNaviParams.anchorNode);var $lvl3ReadMoreLink=jq('li.ICLvl2.ICHover li.ICLvl3.ICReadMoreLink',ICNaviParams.anchorNode);$lvl2List.removeAttr('style');$lvl2LastItem.removeAttr('style');$lvl3List.removeAttr('style');$lvl2ImgMedium.removeAttr('style');$lvl2Items.removeClass('HideElement');$lvl3Items.removeClass('HideElement');var vpH=jq(window).height();var vpW=jq(window).width();var menuH=0;var menuW=$lvl2List.outerWidth();var lvl2ColW=$lvl2Items.outerWidth();var lvl2ColH=$lvl2List.outerHeight();var lvl2ImgW=0;var lvl2ImgH=0;var lvl2ImgRealH=parseInt($lvl2ImgMedium.attr('height'));var lvl2ImgRealW=parseInt($lvl2ImgMedium.attr('width'));var lvl2ImgMaxW=parseInt($lvl2ImgCol.css('width'));var lvl2Offset=$lvl2List.offset();var lvl2MoreLinkH=parseInt($lvl2ReadMoreLink.css('height'));var $lvl3Dummy=jq($lvl3Items[0]);var lvl3ColW=0;var lvl3ColH=0;var lvl3ItemW=$lvl3Dummy.outerWidth();var lvl3ItemH=$lvl3Dummy.outerHeight();var lvl3MoreLinkH=parseInt($lvl3ReadMoreLink.css('height'))||0;var lvl3ColPadd=parseInt($lvl3List.css('padding-left'))+parseInt($lvl3List.css('padding-right'))
lvl3ColW=menuW-lvl2ColW-lvl2ImgW-lvl3ColPadd;if($lvl3List.hasClass('ICAltContentBox')){lvl3ItemH=$lvl3Dummy.outerHeight();}
var maxItemsX=Math.floor(lvl3ColW/lvl3ItemW);if(maxItemsX<1){maxItemsX=1;}
var maxItemsY=Math.ceil($lvl3Items.length/maxItemsX);if(maxItemsY<1){maxItemsY=1;}
var lvl3ColH=maxItemsY*lvl3ItemH;if($lvl2ReadMoreLink.hasClass('ShowPermanently')){lvl2ColH+=lvl2MoreLinkH};if($lvl3ReadMoreLink.hasClass('ShowPermanently')){lvl3ColH+=lvl3MoreLinkH};menuH=lvl3ColH;if(lvl2ColH>lvl3ColH){menuH=lvl2ColH;}
if(ICNaviParams.MinHeight>0){menuH=ICNaviParams.MinHeight;}
var maxShownItemsYLvl3=0;if(menuH>(vpH-lvl2Offset.top-ICNaviParams.BottomMargin)){menuH=(vpH-lvl2Offset.top-ICNaviParams.BottomMargin-lvl3MoreLinkH);maxShownItemsYLvl3=Math.floor(menuH/lvl3ItemH);if(maxShownItemsYLvl3<1){maxShownItemsYLvl3=1;}
menuH=(maxShownItemsYLvl3*lvl3ItemH)+lvl3MoreLinkH;}
if(lvl3ColH>menuH){maxShownItemsYLvl3=Math.floor(menuH/lvl3ItemH);if(maxShownItemsYLvl3<1){maxShownItemsYLvl3=1;}
for(i=$lvl3Items.length;i>(maxItemsX*maxShownItemsYLvl3);i--){jq($lvl3Items[i]).addClass('HideElement');}
if(!$lvl3ReadMoreLink.hasClass('ShowPermanently')){$lvl3ReadMoreLink.removeClass('HideElement')};}
if(lvl2ColH>menuH){var countLvl2H=lvl2ColH;for(var i=$lvl2Items.length;i>0;i--){var $currentLvl2Item=jq($lvl2Items[i]);countLvl2H-=$currentLvl2Item.outerHeight();if(countLvl2H>(menuH-lvl2MoreLinkH)){$currentLvl2Item.addClass('HideElement');}}
if(!$lvl2ReadMoreLink.hasClass('ShowPermanently')){$lvl2ReadMoreLink.removeClass('HideElement')}}
else{if(!$lvl2ReadMoreLink.hasClass('ShowPermanently')){$lvl2ReadMoreLink.toggleClass('HideElement',true);}}
if(lvl2ImgRealW>lvl2ImgW){lvl2ImgH=lvl2ImgW/lvl2ImgRealW*lvl2ImgRealH;}
else{lvl2ImgH=lvl2ImgRealH;lvl2ImgW=lvl2ImgRealW;}
$lvl2List.css({'height':menuH});$lvl3List.css({'height':menuH});$lvl2ImgMedium.css({'height':lvl2ImgH,'width':lvl2ImgW});}}
var toggleOffScreen=function(){if(ICNaviParams.UseOffCanvas===1){var vpWidth=jq(window).width();var MenuWidth=0;if(ICNaviParams.menuNode.data('menuwidth')){MenuWidth=ICNaviParams.menuNode.data('menuwidth');}
if(MenuWidth==0){var MenuItems=jq('> li.ICLvl1',ICNaviParams.menuNode);var mLen=MenuItems.length;for(var i=0;i<mLen;i++){MenuWidth+=MenuItems[i].clientWidth;}
MenuWidth+=jq('#ICModelPartsNavElement').width();ICNaviParams.menuNode.data({'menuwidth':MenuWidth});}
handleOffScreenMenu('close');if(ICNaviParams.OffCanvasResolution>0){if(vpWidth<ICNaviParams.OffCanvasResolution){ICNaviParams.menuNode.hide();ICNaviParams.anchorNode.addClass('ICOffCanvas');jq('#ICSiteWrapper').addClass('IsICOffCanvas');ICNaviParams.anchorNode.removeClass(ICNaviParams.TypeClass);ICNaviParams.OffCanvasIconObj.show();ICNaviParams.IsOffCanvas=true;}
else{ICNaviParams.menuNode.removeAttr('style');ICNaviParams.menuNode.show();ICNaviParams.anchorNode.removeClass('ICOffCanvas');jq('#ICSiteWrapper').removeClass('IsICOffCanvas');ICNaviParams.anchorNode.addClass(ICNaviParams.TypeClass);jq('li.ICHasSubContent',ICNaviParams.menuNode).removeClass('ICHover');ICNaviParams.OffCanvasIconObj.hide();ICNaviParams.IsOffCanvas=false;}}
else{if(vpWidth<MenuWidth){ICNaviParams.menuNode.hide();ICNaviParams.anchorNode.addClass('ICOffCanvas');jq('#ICSiteWrapper').addClass('IsICOffCanvas');ICNaviParams.anchorNode.removeClass(ICNaviParams.TypeClass);ICNaviParams.OffCanvasIconObj.css('display','block');ICNaviParams.IsOffCanvas=true;}
else{ICNaviParams.menuNode.removeAttr('style');ICNaviParams.menuNode.show();ICNaviParams.anchorNode.removeClass('ICOffCanvas');jq('#ICSiteWrapper').removeClass('IsICOffCanvas');ICNaviParams.anchorNode.addClass(ICNaviParams.TypeClass);jq('li.ICHasSubContent',ICNaviParams.menuNode).removeClass('ICHover');ICNaviParams.OffCanvasIconObj.hide();ICNaviParams.IsOffCanvas=false;}}}}
var handleOffScreenMenu=function(forceState){if((typeof forceState==='undefined')||(forceState===null)){jq(ICNaviParams.OffCanvasIconObj).click(function(ShEvent){if((typeof ICNaviParams.OffCanvasIconObj.data('open')==='undefined')||(ICNaviParams.OffCanvasIconObj.data('open')===0)){openOffScreenMenu();}
else{closeOffScreenMenu();}});}
else{if(forceState==='open'){openOffScreenMenu();}
else if((forceState==='close')&&(ICNaviParams.OffCanvasIconObj.data('open')===1)){closeOffScreenMenu();}}}
var openOffScreenMenu=function(){var Shimmer=jq('#ICMenuShimmer');var vpHeight=jq(window).height();var docHeight=jq('body').height();var ShimmerHeight=0;var IconOffset=ICNaviParams.OffCanvasIconObj.offset();IconOffset=IconOffset.top+ICNaviParams.OffCanvasIconObj.outerHeight();var bodyNode=jq('body');if(Shimmer.length>0){Shimmer.show();}
else{if(docHeight>vpHeight){ShimmerHeight=docHeight;}
else{ShimmerHeight=vpHeight;}
if(ICNaviParams.ShowAtHamburgerIcon!==true){IconOffset=0;}
Shimmer=jq('<div></div>').attr('id','ICMenuShimmer').addClass('ICMenuShimmer ICOffCanvas').appendTo(bodyNode).on('click',function(ev){var ICMenuDims={};ICMenuDims.top=ICNaviParams.menuNode.offset().top;ICMenuDims.left=ICNaviParams.menuNode.offset().left;ICMenuDims.right=Math.ceil(ICMenuDims.left+ICNaviParams.menuNode.width()+parseInt(ICNaviParams.menuNode.css('padding-left'))+parseInt(ICNaviParams.menuNode.css('padding-right')));ICMenuDims.bottom=Math.floor(ICMenuDims.top+ICNaviParams.menuNode.height()+parseInt(ICNaviParams.menuNode.css('padding-top'))+parseInt(ICNaviParams.menuNode.css('padding-bottom')));if((ev.pageX<ICMenuDims.left)||(ev.pageX>ICMenuDims.right)||(ev.pageY<ICMenuDims.top)||(ev.pageY>ICMenuDims.bottom)){handleOffScreenMenu('close');}});ICNaviParams.OffCanvasShimmerClose.click(function(){ICNaviParams.OffCanvasRootLink.trigger('click');handleOffScreenMenu('close')});}
window._overlasty=$(window).scrollTop();jq(document.documentElement).toggleClass("HiddenOverflowFixed",true);ICNaviParams.menuNode.appendTo(Shimmer);ICNaviParams.menuNode.show();ICNaviParams.OffCanvasIconObj.data('open',1);jq('li.ICHover',ICNaviParams.menuNode).removeClass('ICHover');var h=ICNaviParams.menuNode[0].scrollHeight;ICNaviParams.ICMaxHeight=ICNaviParams.ICMaxHeight>h?ICNaviParams.ICMaxHeight:h;}
var closeOffScreenMenu=function(){var Shimmer=jq('#ICMenuShimmer');ICNaviParams.menuNode.hide();ICNaviParams.menuNode.appendTo(ICNaviParams.anchorNode);Shimmer.hide();jq(document.documentElement).toggleClass("HiddenOverflowFixed",false);jq('html,body').scrollTop(window._overlasty);ICNaviParams.OffCanvasIconObj.data('open',0);jq('li.ICHover',ICNaviParams.menuNode).removeClass('ICHover');}
switch(method){case'reinit':jq(this).each(function(){reinit(this);});break;case'destroy':jq(this).each(function(){destroy(this);});break;case'close':close(jq(this));break;default:jq(this).each(function(){init(jq(this),method,data);});break;}
$.when.apply($,deferredList).done(function(){def.resolve();});return def.promise(ICNaviParams);}});})(jQuery);const previousDevice=window.device
const device={}
const changeOrientationList=[]
window.device=device
const documentElement=window.document.documentElement
const userAgent=window.navigator.userAgent.toLowerCase()
device.ios=function(){return device.iphone()||device.ipod()||device.ipad()}
device.iphone=function(){return!device.windows()&&find('iphone')}
device.ipod=function(){return find('ipod')}
device.ipad=function(){return find('ipad')}
device.android=function(){return!device.windows()&&find('android')}
device.windows=function(){return find('windows')}
device.noConflict=function(){window.device=previousDevice
return this}
function includes(haystack,needle){return haystack.indexOf(needle)!==-1}
function find(needle){return includes(userAgent,needle)}
(function($){$.fn.extend({FilterOverlay:function(options){this.each(function(){new $.FilterOverlay(this,options);});return this;}});$.FilterOverlay=function(ctl,options){init(ctl,options);function getViewPortH(){var win=typeof window!='undefined'&&window,doc=typeof document!='undefined'&&document,docElem=doc&&doc.documentElement;var a=docElem['clientHeight'],b=win['innerHeight'];return a<b?b:a;}
function init(ctl,options){if(!window['coId']){window['coId']=0;}
create(ctl,options);$(ctl).bind('click',function(e){toggle(e,$(this));});}
function recalculate(node){var h=getViewPortH();var clsbtn=$(node).find('div.coCloseBtn');var header=$(node).find('.coHeader');var btnh=clsbtn.outerHeight()+header.outerHeight();$(node).css({'height':h+'px','top':'0px'});$(node).find('.coContent').css({'height':(h-btnh)+'px'});}
function toggle(e,node){var id=$(node).data('coId');var target=$('#'+id+' .coContent .inner');if($('#'+id).hasClass('open')){setTimeout(function(){$('#RemoteSearchFacets').appendTo('.NavBarLeft .SizeContainer')},options.delay);hide('#'+id);}
else{$('#RemoteSearchFacets').appendTo(target);createAccordion('#'+id);show('#'+id);}}
function createAccordion(node){if(typeof(pageritemstotal)=='number'){$(node).find('.totalproducts').html(pageritemstotal);}
$(node).find('.coContent form .RemoteSearchFacet ').each(function(idx,el){var node=jq(el);if(node.find('.RemoteSearchFacetsReset').length){node.toggleClass('adown',true).removeClass('arrow');node.find('> ul, > div').show();}
else{node.toggleClass('arrow',true).removeClass('adown');node.find('> ul, > div').hide();}});$(node).find('.coContent form .FacetName').each(function(){jq(this).off('click.filterbox').on('click.filterbox',function(){var $this=jq(this);var closeme=1;$this.siblings('ul, div').each(function(idx,el){var $parent=jq(el).parent();if($parent.hasClass('arrow')){$parent.removeClass('arrow');$parent.addClass('adown');closeme=0;}});$this.siblings('ul, div').slideToggle(function(){var $parent=$this.parent();if($parent.hasClass('adown')&&closeme){$parent.removeClass('adown');$parent.addClass('arrow');}});});});}
function show(node){window._overlasty=$(window).scrollTop();jq("body").busy("show");jq('.ep-busy').addClass('NoOpacity');$(document.documentElement).toggleClass("HiddenOverflowFixed",true);recalculate(node);$(node).toggleClass("Hidden",false);$(node).toggleClass("open",true);$(node).toggleClass("close",false);}
function hide(node){$(node).toggleClass("open",false);$(node).toggleClass("close",true);setTimeout(function(){$(document.documentElement).toggleClass("HiddenOverflowFixed",false);jq("body").busy("hide");$('html,body').scrollTop(window._overlasty);$(node).toggleClass("Hidden",true);},options.delay);}
function create(node,options){var id='co'+window['coId'];var h=getViewPortH();var t=0;options.reused=0;options.delay=500;if(!options.singleInstance||window['coId']==0){window['coId']++;id='co'+window['coId'];$('body').append(function(){return $('<div style="top:'+t+'px;height:'+h+'px" data-url="'+options.url+'" class="filterOverlay Hidden" id="'+id+'"><div class="coHeader"><span class="nd_mar_l">'+options.header+'<span class="subheader">'+options.subheader+'</span></span><span class="coCloseBtn iconCloseSvgBlack"></span></div><div class="coContent bubblestop"  mbsc-form style="height:'+(h-120)+'px"><div class="inner"></div></div><div class="coCloseBtn Bottom"><div class="CloseBtn"><span class="close">'+options.back+'</span></div></div></div>')});}
else{options.reused=1;}
var that=this;if(options.reused==0){$(node).data('coId',id);_bindEvents(null,'#'+id,options.reused?0:1);}}
function _bindEvents(data,node,isinitial){node=$(node);if(isinitial){$(window).resize(function(){recalculate($(node));});$(document).on('focus blur','textarea, select, input[type=text], input[type=number]',function(e){var KeyboardOpen=(e.type=='focusin');if(device&&device.android()&&KeyboardOpen){setTimeout(function(){$(window).trigger('resize');},700);}
return true;});$(node).on('recreate',function(){createAccordion(this);});}
$(node).find('.coCloseBtn').on('click',function(){hide($(this).parents('.filterOverlay'));setTimeout(function(){$('#RemoteSearchFacets').appendTo('.NavBarLeft .SizeContainer')},options.delay);});$(node).find('.selectable').on('click',function(){_showSubmitButton($(this).parents('.filterOverlay'));});$(node).find('select, input[type="number"], input[type="checkbox"]').on('change',function(){_showSubmitButton($(this).parents('.filterOverlay'));});}
function _showSubmitButton(node){if(window['formIsRefreshed']){return;}
$(node).find('div.coCloseBtn').toggleClass('submit',true);window.clearTimeout(window['filteredMobile']);if(window['xhrSetFilterCounts']){window['xhrSetFilterCounts'].abort()}
window['filteredMobile']=window.setTimeout(function(){_setFilterCounts(node);window.clearTimeout(window['filteredMobile']);},250);}
function destroy(){alert("destroy");}
function getResults(){alert("getResults");}}})(jQuery);(function($){$.ICImageGallery=function(element,options){var defaults={isSliding:false,onBeforeCreate:function(){}}
var cache={oGallery:jq('#ICProductGallery'),oThumbWrapper:jq('#ProductThumbWrapper'),oThumbMover:jq('#ProductThumbMover'),oThumbBar:jq('#ProductThumbBar'),oThumbShimmer:jq('#ProductThumbShimmer'),oThumbs:jq('#ProductThumbMover li'),oImgMedium:jq('#ICImageMediumLarge'),oImgMediumWrapper:jq('#ICImageMediumWrapper'),oImgMediumShimmer:jq('#ICImageMediumShimmer'),buttonUp:null,buttonDown:null}
var plugin=this;plugin.settings={}
var $element=$(element),element=element;plugin.init=function(){plugin.settings=$.extend({},defaults,options);_create();}
plugin.resize=function(){_resizeGallery();}
plugin.setImageExternal=function(externalPath){_setImageExternal(externalPath);}
plugin.getCachedObjects=function(){return cache;}
plugin.recreate=function(externalID,externalPath){if((typeof externalID==='undefined')||(externalID===null)||(externalID==='')){externalID=plugin.settings.id;}
if((typeof externalPath==='undefined')||(externalPath===null)||(externalPath==='')){externalPath='';}
_recreateGallery(externalID,externalPath);}
var _create=function(){if((typeof ICImageData!=='undefined')&&(ICImageData!==null)&&Object.keys(ICImageData.ImageData.ImageData).length>0){cache.oGallery.addClass('ImgGalActive');_createGUI();_resizeGallery();_setThumbHighlight();}}
var _recreateGallery=function(extid,extpath){if((typeof extid!=='undefined')&&(extid!==null)&&(extid!=='')){cache.oThumbShimmer.show();jq('li',cache.oThumbBar).remove();cache.oThumbs=null;if(typeof cache.buttonUp!=='undefined'&&cache.buttonUp!==null){cache.buttonUp.remove();cache.buttonUp=null;}
if(typeof cache.buttonDown!=='undefined'&&cache.buttonDown!==null){cache.buttonDown.remove();cache.buttonDown=null;}
var mediumImageSrc=null;var mediumImagePos=null;if(typeof ICImageData.ImageData.Products[extid].ImagesSlideShow!=='undefined'&&ICImageData.ImageData.Products[extid].ImagesSlideShow!==null){for(var i=0;i<ICImageData.ImageData.Products[extid].ImagesSlideShow.length;i++){var ProductWebPath='';for(var j=0;j<ICImageData.ProductWebPath.length;j++){var value=ICImageData.ProductWebPath[j];if(value!==''){ProductWebPath=ProductWebPath+'/'+value;}};var BlockKeyML=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[extid].ImagesSlideShow[i].Sizes].MediumLarge;if(typeof(BlockKeyML)==='undefined'){if((typeof extid!=='undefined')&&(extid!==null)&&(extid!=='')){BlockKeyML=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[extid].ImagesSlideShow[i].Sizes].Large;}}
var BlockKeyS=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[extid].ImagesSlideShow[i].Sizes].Small;if(i==0){mediumImageSrc=ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKeyML].File;mediumImagePos=ICImageData.ImageData.Products[extid].ImagesSlideShow[i].Position;}
if((typeof extpath!=='undefined')&&(extpath!==null)&&(extpath!=='')){if(extpath===(ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKeyS].File)){mediumImageSrc=ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKeyML].File;mediumImagePos=ICImageData.ImageData.Products[extid].ImagesSlideShow[i].Position;}}
var tmpItem=jq('<li></li>');jq('<img />',{src:ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKeyS].File,pos:ICImageData.ImageData.Products[extid].ImagesSlideShow[i].Position}).appendTo(tmpItem);tmpItem.appendTo(cache.oThumbBar);}}
cache.oThumbs=jq('#ProductThumbMover li');if(mediumImageSrc!==null){if((typeof mediumImageSrc!='undefined')&&(mediumImageSrc!='')){cache.oImgMediumShimmer.fadeIn(300,$.proxy(function(){var oImgMedium=cache.oImgMedium,oImgMediumShimmer=cache.oImgMediumShimmer;oImgMedium.attr('src',mediumImageSrc);var imgArr=new Array();for(var i=0;i<cache.oImgMedium.length;i++){imgArr.push(jq(cache.oImgMedium[i]).attr('src'));}
cache.oImgMedium.attr({'currentpos':mediumImagePos});_adjustMediumImage();_loadImages(imgArr,$.proxy(function(){_createGUI();cache.oImgMedium.data('pos',mediumImagePos);cache.oImgMedium.attr({'currentpos':mediumImagePos});_resizeGallery();_setThumbHighlight();oImgMediumShimmer.fadeOut(300);},this));},this));}}
plugin.settings.id=extid;}}
var _createGUI=function(){if((cache.oGallery.length>0)&&(cache.oImgMedium.length>0)&&(cache.oThumbWrapper.length>0)&&(cache.oThumbMover.length>0)){if((cache.buttonUp===null)||(cache.buttonUp.length>0)){cache.buttonUp=jq('<div/>',{id:'ICThumbsUp',class:'ICThumbsUp'});cache.buttonUp.clickOrTouch($.proxy(_slideThumbs,this,{direction:'up'}));cache.buttonUp.prependTo(cache.oGallery);cache.buttonUp.hide();}
if((cache.buttonDown===null)||(cache.buttonDown.length>0)){cache.buttonDown=jq('<div/>',{id:'ICThumbsDown',class:'ICThumbsDown'});cache.buttonDown.clickOrTouch($.proxy(_slideThumbs,this,{direction:'down'}));cache.buttonDown.appendTo(cache.oGallery);cache.buttonDown.hide();}
if(cache.oThumbs!==null){cache.oThumbs.unbind();cache.oThumbs.clickOrTouch($.proxy(_switchImages,this));}
if(cache.oImgMedium!==null){var BlockKeyML=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].MainImages].ImageMediumLarge;if(typeof(BlockKeyML)==='undefined'){BlockKeyML=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].MainImages].Large;}
var BlockKeyL=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].MainImages].ImageLarge;if((typeof ICImageData.ImageData.ImageData[BlockKeyML]!=='undefined')&&(ICImageData.ImageData.ImageData[BlockKeyML].File!=='')){cache.oImgMedium.addClass('ICIsZoomable');cache.oImgMedium.data('pos',-1);cache.oImgMedium.swipe({tap:function(event,target){_loadLightBox(jq(target).attr('currentpos'));},doubleTap:function(event,target){},longTap:function(event,target){},swipe:function(){},allowPageScroll:'auto',threshold:20});}
else if((typeof ICImageData.ImageData.ImageData[BlockKeyL].File!=='undefined')&&(ICImageData.ImageData.ImageData[BlockKeyL].File!=='')){cache.oImgMedium.addClass('ICIsZoomable');cache.oImgMedium.swipe({tap:function(event,target){_loadLightBox(jq(target).attr('currentpos'));},doubleTap:function(event,target){},longTap:function(event,target){},swipe:function(){},allowPageScroll:'auto',threshold:20});}
else{cache.oImgMedium.removeClass('ICIsZoomable');}}
var imgArr=new Array();var thumgsimg=jq('img',cache.oThumbs);for(var i=0;i<thumgsimg.length;i++){imgArr.push(jq(thumgsimg[i]).attr('src'));}
_loadImages(imgArr,$.proxy(function(){cache.oThumbShimmer.hide();},this));}}
var _loadImages=function(imgArr,callback){if(imgArr.length>0){var imagesLoaded=0;function _loadAllImages(callback){var img=new Image();$(img).attr('src',imgArr[imagesLoaded]);if(img.complete||img.readyState===4){imagesLoaded++;if(imagesLoaded==imgArr.length){callback();}else{_loadAllImages(callback);}}else{$(img).load(function(){imagesLoaded++;if(imagesLoaded==imgArr.length){callback();}else{_loadAllImages(callback);}});}};_loadAllImages(callback);}}
var _loadLightBox=function(position){var MediumLargeImageSrc=_getImagePathByPosition(position,'Large');var ProductWebPath='';for(var i=0;i<ICImageData.ProductWebPath.length;i++){var value=ICImageData.ProductWebPath[i];if(value!==''){ProductWebPath=ProductWebPath+'/'+value;}}
if((typeof MediumLargeImageSrc=='undefined')||(MediumLargeImageSrc=='')||(MediumLargeImageSrc==false)){MediumLargeImageSrc=_getImagePathByPosition(position,'MediumLarge');}
if((typeof MediumLargeImageSrc=='undefined')||(MediumLargeImageSrc=='')||(MediumLargeImageSrc==false)){var BlockKeyML=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].MainImages].ImageMediumLarge;var BlockKeyL=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].MainImages].ImageLarge;if((typeof ICImageData.ImageData.ImageData[BlockKeyL]!=='undefined')&&(ICImageData.ImageData.ImageData[BlockKeyL]!==null)){MediumLargeImageSrc=ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKeyL].File;}
if((typeof MediumLargeImageSrc=='undefined')||(MediumLargeImageSrc=='')||(MediumLargeImageSrc==false)){MediumLargeImageSrc=ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKeyML].File;}}
if((typeof MediumLargeImageSrc!='undefined')&&(MediumLargeImageSrc!='')){var ImgObj=jq('<img id="ImgLarge">');var DivObj=jq('<div id="DivImgLarge"></div>');var viewportWidth=jq(window).width()-100;var viewportHeight=jq(window).height()-100;if(viewportWidth<580){viewportWidth=jq(window).width()-20;viewportHeight=jq(window).height()-20;DivObj.addClass('ICMobile');}else if(viewportHeight<580){DivObj.addClass('ICMobile');}else{DivObj.removeClass('ICMobile');}
var ICGalObject=this;ImgObj.appendTo(DivObj);oImgLightBox=ep(DivObj).uiDialog({dialogClass:'ImgLargeDialog',modal:true,closeOnEscape:true,title:'',height:viewportHeight,width:viewportWidth,open:function(){ImgObj.attr('src',MediumLargeImageSrc);ImgObj.load(function(){ImgObj.css('padding-top',(viewportHeight-ImgObj.height())/2);DivObj.css('text-align','center');});var ThumbsObj=jq('.ICGalleryThumbs');var LightboxThumbs=null;if(jq('li',ThumbsObj).length>0){LightboxThumbs=jq(ThumbsObj).clone();LightboxThumbs.addClass('ICLightboxThumbs');LightboxThumbs.removeAttr('style');LightboxThumbs.appendTo(DivObj);}
if(LightboxThumbs!==null){jq('li',LightboxThumbs).click(function(){jq('li',LightboxThumbs).removeClass('Highlight');jq(this).addClass('Highlight');var ImgGalID=parseInt(jq('img',this).attr('pos'));var LargeImageSrc='';for(var i=0;i<ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow.length;i++){var ProductWebPath='';for(var j=0;j<ICImageData.ProductWebPath.length;j++){var value=ICImageData.ProductWebPath[j];if(value!==''){ProductWebPath=ProductWebPath+'/'+value;}}
if(ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Position==ImgGalID){var BlockKeyL=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Sizes]['Large'];LargeImageSrc=ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKeyL].File;if((typeof LargeImageSrc=='undefined')||(LargeImageSrc=='')||(LargeImageSrc==false)){var BlockKeyML=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Sizes]['MediumLarge'];LargeImageSrc=ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKeyML].File;}}}
var InitLargeImage=jq('#DivImgLarge');if((typeof LargeImageSrc!='undefined')&&(LargeImageSrc!='')){var LightBoxImageObj=jq('#LightBoxImgLarge');if(LightBoxImageObj.length<1){LightBoxImageObj=jq('<img id="LightBoxImgLarge">');LightBoxImageObj.css('display','none');LightBoxImageObj.appendTo('#DivImgLarge');LightBoxImageObj.on('load',function(){var LightBoxImageObj=jq(this);LightBoxImageObj.css('padding-top',(DivObj.height()-LightBoxImageObj.height())/2);LightBoxImageObj.fadeIn(300);});}
jq('#ImgLarge').fadeOut(300).remove();LightBoxImageObj.fadeOut(300,function(){jq(LightBoxImageObj).attr('src',LargeImageSrc);});}});}
jq('.ui-widget-overlay.ui-front').clickOrTouch(function(event){ep(DivObj).dialog('close');});},close:function(){ep(DivObj).uiDialog('destroy');}});}}
var _resizeGallery=function(){if(cache.oGallery.length>0){cache.oGallery.removeAttr('style');cache.oGallery.css({height:cache.oGallery.css('max-height')});}
if(cache.oImgMedium.length>0){_adjustMediumImage();}
if((cache.oThumbs!==null)&&(cache.oThumbs.length>0)){cache.oThumbMover.css({'top':0});thumbHeight=parseInt(cache.oThumbs.first().css('height'))+parseInt(cache.oThumbs.first().css('margin-top'))+parseInt(cache.oThumbs.first().css('margin-bottom'))+parseInt(cache.oThumbs.first().css('padding-top'))+parseInt(cache.oThumbs.first().css('padding-bottom'))+parseInt(cache.oThumbs.first().css('border-top-width'))+parseInt(cache.oThumbs.first().css('border-bottom-width'));galH=cache.oGallery.height();thumbBarHeight=thumbHeight*cache.oThumbs.length;if(thumbBarHeight>galH){var btnTopHeight=parseInt(cache.buttonUp.css('height'));var btnBtmHeight=parseInt(cache.buttonDown.css('height'));var availableH=(galH-btnTopHeight-btnBtmHeight);availableH=(Math.floor(availableH/thumbHeight)*thumbHeight);cache.oThumbWrapper.css({'top':cache.buttonUp.css('height'),'height':availableH,'overflow':'hidden'});_enabledSlides();}
else{cache.oThumbWrapper.css({'top':0,'height':'auto','overflow':'hidden'});_disabledSlides();}}
return;}
var _adjustMediumImage=function(){if((cache.oImgMedium.length>0)&&((typeof ICImageData!=='undefined')&&(ICImageData!==null))){cache.oImgMedium.removeAttr('style');cache.oImgMediumWrapper.removeAttr('style');var currentMediumPos=parseInt(cache.oImgMedium.attr('currentpos'));var medImgH;var medImgW;var BlockKeyML=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].MainImages].ImageMediumLarge;var BlockKeyL=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].MainImages].ImageLarge;var BlockKeyM=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].MainImages].ImageMedium;if(typeof ICImageData.ImageData.ImageData[BlockKeyML]==='object'){medImgH=parseInt(ICImageData.ImageData.ImageData[BlockKeyML].Height);medImgW=parseInt(ICImageData.ImageData.ImageData[BlockKeyML].Width);}else if(typeof ICImageData.ImageData.ImageData[BlockKeyL]==='object'){medImgH=parseInt(ICImageData.ImageData.ImageData[BlockKeyL].Height);medImgW=parseInt(ICImageData.ImageData.ImageData[BlockKeyL].Width);}else{medImgH=parseInt(ICImageData.ImageData.ImageData[BlockKeyM].Height);medImgW=parseInt(ICImageData.ImageData.ImageData[BlockKeyM].Width);}
if((typeof currentMediumPos!=='undefined')&&(currentMediumPos!==null)){if(currentMediumPos!==-1){for(var i=0;i<ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow.length;i++){if(ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Position==currentMediumPos){var imgAlias='MediumLarge';if(typeof ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Sizes][imgAlias]==='undefined'){imgAlias='Large';}
if(typeof ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Sizes][imgAlias]==='undefined'){imgAlias='Medium';}
var BlockKey=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Sizes][imgAlias];var medImgH=parseInt(ICImageData.ImageData.ImageData[BlockKey].Height);var medImgW=parseInt(ICImageData.ImageData.ImageData[BlockKey].Width);}}}}
var medWrapH=Math.floor(cache.oGallery.height());var medWrapW=Math.floor(cache.oImgMediumWrapper.width());var newMedImgH=medWrapH;var newMedImgW=medWrapW;var newPaddingTop=0;var scale=0;var scaleX=medWrapW/medImgW;var scaleY=medWrapH/medImgH;if((medImgW>medWrapW)||(medImgH>medWrapH)){scale=scaleX<scaleY?scaleX:scaleY;}else{scale=1.0;}
newMedImgH=medImgH*scale;newMedImgW=medImgW*scale;newPaddingTop=Math.floor((medWrapH/2)-(newMedImgH/2));cache.oImgMedium.css({height:newMedImgH,width:newMedImgW,paddingTop:newPaddingTop});}}
var _getImagePathByPosition=function(position,imgAlias){if((typeof ICImageData!=='undefined')&&(ICImageData!==null)&&(typeof ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow!=='undefined')&&(typeof ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow!==null)){var ImagePath='';for(var i=0;i<ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow.length;i++){var ProductWebPath='';for(var j=0;j<ICImageData.ProductWebPath.length;j++){var value=ICImageData.ProductWebPath[j];if(value!==''){ProductWebPath=ProductWebPath+'/'+value;}}
if(ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Position==position){if(typeof ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Sizes][imgAlias]!=='undefined'){var BlockKey=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Sizes][imgAlias];ImagePath=ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKey].File;;}
else{var BlockKey=ICImageData.ImageData.ImageBlocks[ICImageData.ImageData.Products[plugin.settings.id].ImagesSlideShow[i].Sizes]['Large'];ImagePath=ProductWebPath+'/'+ICImageData.ImageData.ImageData[BlockKey].File;;}}};return ImagePath;}
else{return false;}}
var _enabledSlides=function(){cache.buttonUp.show();cache.buttonDown.show();}
var _disabledSlides=function(){cache.buttonUp.hide();cache.buttonDown.hide();}
var _slideThumbs=function(params,oEvent){if(plugin.settings.isSliding){return false;}
else{var listTop=0;if(params.direction==='up'){listTop=cache.oThumbMover.position();listTop=listTop.top;if(listTop<0){_setIsSliding({state:true});listTop=listTop+thumbHeight;cache.oThumbMover.animate({'top':listTop},300,$.proxy(_setIsSliding,this,{state:false}));}}
if(params.direction==='down'){listTop=cache.oThumbMover.position();listTop=Math.round(listTop.top);if(((listTop-cache.oThumbWrapper.height())*(-1))<(thumbHeight*cache.oThumbs.length)){_setIsSliding({state:true});listTop=Math.round(listTop-thumbHeight);cache.oThumbMover.animate({'top':listTop},300,$.proxy(_setIsSliding,this,{state:false}));}}}}
var _setIsSliding=function(params,ev){plugin.settings.isSliding=params.state;}
var _switchImages=function(ev){var currTarget=jq(ev.currentTarget);if(jq(cache.oThumbs).length){jq(cache.oThumbs).removeClass('Highlight');currTarget.addClass('Highlight');var imgGalID=parseInt(jq('img',currTarget).attr('pos'));var mediumImageSrc=_getImagePathByPosition(imgGalID,'Medium');var mediumLargeImageSrc=_getImagePathByPosition(imgGalID,'MediumLarge');if((typeof mediumLargeImageSrc=='undefined')||(mediumLargeImageSrc=='')){mediumLargeImageSrc=mediumImageSrc;}
if((typeof mediumImageSrc!='undefined')&&(mediumImageSrc!='')){cache.oImgMediumShimmer.fadeIn(300,$.proxy(function(){var oImgMedium=cache.oImgMedium,oImgMediumShimmer=cache.oImgMediumShimmer;oImgMedium.attr('src',mediumLargeImageSrc);cache.oImgMedium.data('pos',imgGalID);var imgArr=new Array();for(var i=0;i<cache.oImgMedium.length;i++){imgArr.push(jq(cache.oImgMedium[i]).attr('src'));}
cache.oImgMedium.attr({'currentpos':imgGalID});_adjustMediumImage();_loadImages(imgArr,$.proxy(function(){oImgMediumShimmer.fadeOut(300);},this));},this));}}}
var _setThumbHighlight=function(){if((cache.oThumbs!==null)&&(cache.oThumbs.length>0)){var ImgGalID=cache.oImgMedium.data('pos');cache.oThumbs.removeClass('Highlight');var thumbsLength=cache.oThumbs.length;for(var i=0;i<thumbsLength;i++){var $oThumb=jq('img',cache.oThumbs[i]);if(parseInt($oThumb.attr('pos'))===ImgGalID){var thumbPos=$oThumb.parent().offset();var thumbWrapperPos=cache.oThumbWrapper.offset();var thumbBarSliderPos=cache.oThumbMover.offset();$oThumb.parent().addClass('Highlight');thumbPos=Math.floor(thumbPos.top);thumbWrapperPos=Math.floor(thumbWrapperPos.top);if((thumbPos>=(thumbWrapperPos+cache.oThumbWrapper.outerHeight()))||(thumbPos<thumbWrapperPos)){var newTop=(thumbBarSliderPos.top-thumbPos)+'px';jq(cache.oThumbMover).animate({'top':newTop});}}}}}
var _setImageExternal=function(path){var $oThumb=jq('#ProductThumbBar li img[src="'+path+'"]');if($oThumb.length>0){$oThumb.click();var thumbPos=$oThumb.parent().offset();var thumbWrapperPos=cache.oThumbWrapper.offset();var thumbBarSliderPos=cache.oThumbMover.offset();$oThumb.parent().addClass('Highlight');thumbPos=Math.floor(thumbPos.top);thumbWrapperPos=Math.floor(thumbWrapperPos.top);if((thumbPos>=(thumbWrapperPos+cache.oThumbWrapper.outerHeight()))||(thumbPos<thumbWrapperPos)){var newTop=(thumbBarSliderPos.top-thumbPos)+'px';jq(cache.oThumbMover).animate({'top':newTop});}}}
plugin.init();}
$.fn.ICImageGallery=function(options){if(options===undefined){options={};}
if(typeof options==='object'){if(options.method==='create'){var objs=this;for(var i=0;i<objs.length;i++){var obj=objs[i];if($(obj).data('ICImageGallery')==undefined){var plugin=new $.ICImageGallery(this,options);$(this).data('ICImageGallery',plugin);}};return this;}
else{var $plugin=$(this).data('ICImageGallery');switch(options.method){case"resize":$plugin.resize();break;case"recreate":$plugin.recreate(options.externalID,options.externalPath);break;case"setImage":$plugin.setImageExternal(options.externalPath);break;case"getCachedObjects":return $plugin.getCachedObjects();break;default:break;}}}};}(jQuery));function initEvents(clickedButton,usePageReload,callBackFunction){var productid=clickedButton.attr('productid').split('_')[0],attributeid=clickedButton.attr('id').split('_')[0],varattrs=jq('button.icattribute,img.icattribute,span.icattribute,select.icattribute');for(var i=0,len=varattrs.length;i<len;i++){var b=jq(varattrs[i]);if(b.prop('nodeName')==='SELECT'){if((b.attr('predefattrid').substr(0,attributeid.length)!=attributeid)&&(i>0)){b[0].selectedIndex=0;var options=jq('option',b);for(var j=0,olen=options.length;j<olen;j++){var opt=jq(options[j]);if(opt.attr('predefattrid').substr(0,attributeid.length)==attributeid){opt.removeClass('fakedisabled');}};}}
else{if(b.attr('id').substr(0,attributeid.length)==attributeid){b.removeClass('selected');b.parent().removeClass('selected');}}
showSelectedValue(null,b.attr('predefattrid'));};if(clickedButton.prop('nodeName')!=='SELECT'){clickedButton.addClass('selected');clickedButton.parent().addClass('selected');}
setVisibleAttributeCombinations(attributeid,productid);var allSelected=true;for(i=0;i<ICPAttrSuperArray['PID_'+productid].AttributeIDs.length;i++){if(getSelectedValue(ICPAttrSuperArray['PID_'+productid].AttributeIDs[i])==undefined){allSelected=false;break;}}
if(allSelected){var anyMatch=false;for(i=0;i<ICPAttrSuperArray['PID_'+productid].SubProducts.length;i++){var matches=true;var ProductID;for(j=0;j<ICPAttrSuperArray['PID_'+productid].AttributeIDs.length;j++){if(getSelectedValue(ICPAttrSuperArray['PID_'+productid].AttributeIDs[j])!=ICPAttrSuperArray['PID_'+productid].SubProducts[i].AttributeValues[ICPAttrSuperArray['PID_'+productid].AttributeIDs[j]]){matches=false;break;}else{ProductID=ICPAttrSuperArray['PID_'+productid].SubProducts[i].ProductID;}}
if(matches){anyMatch=true;var FinalPath=ICPAttrSuperArray['PID_'+productid].SubProducts[i].SubProductUrl;if(usePageReload){if(jq('#ICSiteWrapper').hasClass('ic_Product')){getSubProduct(anyMatch,ProductID);}else{window.location.href=FinalPath;}
break;}else{if(typeof callBackFunction==='function'){setTimeout(function(){callBackFunction(clickedButton,FinalPath);},0);}}}}
if(!(anyMatch)){if(usePageReload&&jq('#ICSiteWrapper').hasClass('ic_Product')){var hasMatch=false;for(i=0;i<ICPAttrSuperArray['PID_'+productid].NotVisibleSubProducts.length;i++){var matches=true;var ProductID;for(j=0;j<ICPAttrSuperArray['PID_'+productid].AttributeIDs.length;j++){if(getSelectedValue(ICPAttrSuperArray['PID_'+productid].AttributeIDs[j])!=ICPAttrSuperArray['PID_'+productid].NotVisibleSubProducts[i].AttributeValues[ICPAttrSuperArray['PID_'+productid].AttributeIDs[j]]){matches=false;break;}else{ProductID=ICPAttrSuperArray['PID_'+productid].NotVisibleSubProducts[i].ProductID;}}
if(matches){getSubProduct(anyMatch,ProductID);hasMatch=true;}}
if(!(hasMatch)){getSubProduct(anyMatch);}}}}
showSelectedValue(clickedButton,attributeid);}
function setVisibleAttributeCombinations(clickedAttributeID,productid){var selectedFound=false;var selectedAttributes=[];var unselectedAttributes=[];jq.each(ICPAttrSuperArray['PID_'+productid].AttributeIDs,function(key,valueID){if(selectedFound){unselectedAttributes.push(valueID);}
else{selectedAttributes.push({AttributeID:valueID,ValueID:getSelectedValue(valueID)});if(clickedAttributeID==valueID)selectedFound=true;}});var possibleSubProducts=[];for(i=0;i<ICPAttrSuperArray['PID_'+productid].SubProducts.length;i++){if(ICPAttrSuperArray['PID_'+productid].SubProducts[i].CanAddToBasket===1){var matchesSelectedAttributes=true;for(j=0;j<selectedAttributes.length;j++){if(ICPAttrSuperArray['PID_'+productid].SubProducts[i].AttributeValues[selectedAttributes[j]['AttributeID']]!=selectedAttributes[j]['ValueID']){matchesSelectedAttributes=false;break;}}
if(matchesSelectedAttributes&&!(unselectedAttributes.length==0))possibleSubProducts.push(ICPAttrSuperArray['PID_'+productid].SubProducts[i]);}}
if(possibleSubProducts.length===0){jq('button[name="AddToBasket"]').attr('disabled','disabled').removeClass('Disabled');}
var combinations=[];for(i=0;i<unselectedAttributes.length;i++){var attributeValues={};var productIDs={};for(j=0;j<possibleSubProducts.length;j++){attributeValues[possibleSubProducts[j].AttributeValues[unselectedAttributes[i]]]=1;productIDs[possibleSubProducts[j].ProductID]=1;jq("[predefvalueid='"+possibleSubProducts[j].AttributeValues[unselectedAttributes[i]]+"']").attr('variationid',possibleSubProducts[j].ProductID);}
combinations.push({AttributeID:unselectedAttributes[i],ValuesIDs:Object.keys(attributeValues),ProductIDs:Object.keys(productIDs)});}
for(var i=0;i<combinations.length;i++){var value=jq(combinations)[i];if(i==0){disableAndEnableInputs(value.AttributeID,value.ValuesIDs,value.ProductIDs);}
else{disableAttributeInputs(value.AttributeID,true);}};}
function getSelectedValue(attributeid){var attributeidStr=""+attributeid,ret=undefined,attrs=jq('button.icattribute,img.icattribute,span.icattribute,select.icattribute');for(var i=0,len=attrs.length;i<len;i++){var b=jq(attrs[i]);if(b.prop('nodeName')==='SELECT'){if(b.attr('id').substr(0,attributeidStr.length)==attributeidStr){ret=b.val();}}
else{if(b.attr('id').substr(0,attributeidStr.length)==attributeidStr&&b.hasClass('selected')){ret=b.attr('predefvalueid');}}};return ret;}
function disableAndEnableInputs(AttributeID,ValueIDs,ProductIDs){var attributeidStr=""+AttributeID,attrs=jq('button.icattribute,img.icattribute,span.icattribute,select.icattribute');for(var i=0,len=attrs.length;i<len;i++){var b=jq(attrs[i]);if(b.prop('nodeName')==='SELECT'){if(b.attr('id').substr(0,attributeidStr.length)==attributeidStr){var options=jq('option',b);for(var j=0,olen=options.length;j<olen;j++){var opt=jq(options[j]);if(elementOf(opt.attr('predefvalueid'),ValueIDs)){opt.removeClass('fakedisabled');}
else{opt.addClass('fakedisabled');opt.removeAttr('variationid');}};}}
else{if(b.attr('id').substr(0,attributeidStr.length)==attributeidStr){b.removeClass('selected');b.parent().removeClass('selected');if(elementOf(b.attr('predefvalueid'),ValueIDs)){b.parent().removeClass('disabled');b.removeClass('disabled');}
else{b.addClass('disabled');b.removeAttr('variationid');b.parent().addClass('disabled');}}}};}
function disableAttributeInputs(AttributeID,resetSelection){var attributeidStr=""+AttributeID,attrs=jq('button.icattribute,img.icattribute,span.icattribute,select.icattribute');for(var i=0,len=attrs.length;i<len;i++){var b=jq(attrs[i]);if(b.attr('id').substr(0,attributeidStr.length)==attributeidStr){if(b.prop('nodeName')==='SELECT'){jq('option',b).addClass('fakedisabled');}else{b.addClass('disabled');b.removeClass('variationid');b.parent().addClass('disabled');if(resetSelection){b.removeClass('selected');b.parent().removeClass('selected');}}}};}
function elementOf(el,ar){for(i=0;i<ar.length;i++){if(el==ar[i])return true;}
return false;}
function whichElementOf(el,ar){for(i=0;i<ar.length;i++){if(el==ar[i])return i;}}
function showSelectedValue(clickedButton,attributeid){if((typeof clickedButton==='undefined')||(clickedButton===null)||(clickedButton==='')){}
else{var $oSelectedValSpan=jq('#SelectedVal_'+attributeid);var selectedVal='-';var predefvalueid=clickedButton.attr('predefvalueid');if(clickedButton.prop('nodeName')==='SELECT'){selectedVal=jq('option:selected',clickedButton).text().trim();}
else if((clickedButton.prop('nodeName')==='IMG')||(clickedButton.prop('nodeName')==='SPAN')){selectedVal=jq('#ICVarImgLabel_'+predefvalueid).html();}
else{selectedVal=clickedButton.val();}
$oSelectedValSpan.html(selectedVal);}
var attrBars=jq('[id^=AttributeBar_]');for(var i=0;i<attrBars.length;i++){var attridThisValSpan=jq(attrBars[i]).attr('attrid');if(jq(attrBars[i]).find('li').hasClass('selected')==false){var $oSelectedValSpan=jq('#SelectedVal_'+attridThisValSpan);$oSelectedValSpan.html('-');}};var satrs=jq('[id^=AttributeBar_]');for(var i=0;i<satrs.length;i++){var attridThisValSpan=jq(satrs[i]).attr('data-attributeid');if(jq(satrs[i]).find('option:selected').val()=="0"){var $oSelectedValSpan=jq('#SelectedVal_'+attridThisValSpan);$oSelectedValSpan.html('-');}};}
function disableBasket(){if(jq('button[name="AddToBasket"]').hasClass('Disabled')){return;}
jq('button[name="AddToBasket"]').addClass('Disabled');jq('form#basketForm_standalone.AddToBasketForm').submit(function(ev){if(jq('button[name="AddToBasket"]').hasClass('Disabled')){ev.preventDefault();}});jq('button[name="AddToBasket"]').hover(function(ev){if(jq('button[name="AddToBasket"]').hasClass('Disabled')){var el=jq(this),vpWidth=jq(window).width(),elW=el.outerWidth(),posx=el.offset().left,posy=el.offset().top-115;var TTip=jq("<div class='Tooltip AddToBasketDisabled'></div>").html(DisabledBasketToolTip).appendTo('body').fadeIn('slow');TTip.css({'top':posy,'left':posx-(210/2)+(el.innerWidth()/2),'position':'absolute','background-color':'#fff','border':'1px solid #DDD','padding':'10px','z-index':'10000','height':'90px','width':190+'px','font-family':'Arial','font-size':'12px','font-weight':'normal','overflow':'hidden','box-shadow':'5px 3px 7px 0px rgba(0,0,0,0.5)'});TTAnchor=jq("<div class='TooltipAnchor'></div>").appendTo('body').fadeIn('slow');TTAnchor.css({'top':posy+101,'left':posx+(el.innerWidth()/2)-10,'position':'absolute','background-color':'#fff','border-right':'1px solid #DDD','border-bottom':'1px solid #DDD','Padding':'10px','-moz-transform':'rotate(45deg)','-webkit-transform':'rotate(45deg)','-o-transform':'rotate(45deg)','-ms-transform':'rotate(45deg)','transform':'rotate(45deg)','z-index':'10000',});}},function(ev){jq('.Tooltip.AddToBasketDisabled').remove();jq('.TooltipAnchor').remove();});}
jQuery(document).ready(function(){if((typeof ICPAttrSuperArray!='undefined')&&(ICPAttrSuperArray!=null)){var tmpAttributeHTMLObjects=null;jq.each(ICPAttrSuperArray,function(key,value){if(value.AttributeIDs.length===1){disableAttributeInputs(value.AttributeIDs[0],false);}
else{for(i=1;i<value.AttributeIDs.length;i++){disableAttributeInputs(value.AttributeIDs[i],false);}}
if(IsSubProduct){for(i=0;i<value.AttributeIDs.length;i++){if(value.AttributeIDs.length>1){var SelectedParentValue=getSelectedValue(value.AttributeIDs[i-1]);}
for(j=0;j<value.SubProducts.length;j++){if(value.SubProducts[j].CanAddToBasket===1||value.SubProducts[j].HasLocalOnlyStock===1){var possibleSub=false;if(value.AttributeIDs.length>1){for(var key in value.SubProducts[j].AttributeValues){if(value.SubProducts[j].AttributeValues[key]===SelectedParentValue){possibleSub=true;break;}}}
else{possibleSub=true;}
if(possibleSub===true){tmpAttributeHTMLObjects=jq('.icattribute[predefattrid='+value.AttributeIDs[i]+']');if((tmpAttributeHTMLObjects.length==1)&&(tmpAttributeHTMLObjects.prop('nodeName')==='SELECT')){jq('option[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']',tmpAttributeHTMLObjects).removeClass('fakedisabled');var options=jq(tmpAttributeHTMLObjects).find('option');for(var k=0;k<options.length;k++){var elem=jq(options[k]);if(elem.attr('predefvalueid')==value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]){elem.attr('variationid',value.SubProducts[j].ProductID);}};}
else{for(var k=0;k<tmpAttributeHTMLObjects.length;k++){var elem=jq(tmpAttributeHTMLObjects[k]);if(elem.attr('predefvalueid')==value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]){elem.removeClass('disabled');elem.parent().removeClass('disabled');elem.attr('variationid',value.SubProducts[j].ProductID);}};}}}
jq('.icattribute[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').attr('icvariationid',value.SubProducts[j].ProductID)}}}
else{if(value.AttributeIDs.length>0){for(i=0;i<value.AttributeIDs.length;i++){for(j=0;j<value.SubProducts.length;j++){if(value.SubProducts[j].CanAddToBasket===1||value.SubProducts[j].HasLocalOnlyStock===1){if(jq('.icattribute[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').size()>0){jq('.icattribute[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').removeClass('disabled');jq('.icattribute[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').parent().removeClass('disabled');}else{jq('select.selectBox option[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').removeAttr('disabled');jq('option[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').removeClass('fakedisabled');}
if(1===value.AttributeIDs.length){if(jq('.icattribute[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').size()>0){jq('.icattribute[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').attr('variationid',value.SubProducts[j].ProductID);}else{jq('select.selectBox option[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').attr('variationid',value.SubProducts[j].ProductID);}}}
jq('.icattribute[predefvalueid='+value.SubProducts[j].AttributeValues[value.AttributeIDs[i]]+']').attr('icvariationid',value.SubProducts[j].ProductID)}}
disableBasket();}}});jq('button.icattribute,img.icattribute,span.icattribute').clickOrTouch(function(){disableBasket();jq('button[name="AddToBasket"]').removeAttr('disabled','disabled');initEvents(jq(this),true);});jq('select.icattribute').change(function(){disableBasket();jq('button[name="AddToBasket"]').removeAttr('disabled','disabled');initEvents(jq(this),true);});jq('.ICVarImgLabel').clickOrTouch(function(){disableBasket();jq('button[name="AddToBasket"]').removeAttr('disabled','disabled');var clickElem=jq('img',jq(this).parent());if(clickElem.length<=0){clickElem=jq('span.NoVariationPic',jq(this).parent());}
if('ontouchstart'in document){clickElem.trigger('touchstart');}
else{clickElem.trigger('click');}});}});function changeImgMediumFromVariationSelect(){jq('.ICVariationSelect .ICAttributBar li img.icattribute').clickOrTouch(function(){_changeImgMedium(jq(this));});jq('.ICVariationSelect .ICCustomDropDown').change(function(){_changeImgMedium(jq('option:selected',this));});}
function _changeImgMedium(clicked){var currentSmall=clicked.attr('src');if((typeof icPGal!=='undefined')&&(icPGal!==null)){jq.each(ICPAttrSuperArray,function(key,value){if(value.AttributeIDs.length>1){for(i=0;i<value.AttributeIDs.length;i++){var SelectedParentValue=getSelectedValue(value.AttributeIDs[i-1]);for(j=0;j<value.SubProducts.length;j++){if(value.SubProducts[j].IsAvailable===1){for(var key in value.SubProducts[j].AttributeValues){if(value.SubProducts[j].AttributeValues[key]===SelectedParentValue){icPGal.ICImageGallery({'method':'recreate','externalID':value.SubProducts[j].ProductID,'externalPath':currentSmall});return;}}}}
for(j=0;j<value.NotVisibleSubProducts.length;j++){for(var key in value.NotVisibleSubProducts[j].AttributeValues){if(value.NotVisibleSubProducts[j].AttributeValues[key]===SelectedParentValue){icPGal.ICImageGallery({'method':'recreate','externalID':value.NotVisibleSubProducts[j].ProductID,'externalPath':currentSmall});return;}}}}}else{icPGal.ICImageGallery({'method':'recreate','externalID':clicked.attr('icvariationid'),'externalPath':currentSmall});return;}});}}
jQuery(document).ready(function(){changeImgMediumFromVariationSelect();});jQuery(document).ready(function(){jq(".ICVariationSelect .ICAttributBar:last-of-type li .icattribute:not(select)").mouseenterOrTouch(function(ev){var el=jq(this);ProductID=jq(this).attr('variationid'),ObjectID=jq(this).attr('id');var event=('ontouchstart'in document)?'touchstart':'mouseenter';if((typeof ProductID!=='undefined')&&(event==='mouseenter')&&jq('.DeliveryPeriod.NoAjaxUpdate').length<=0){jq("<div class='Tooltip DeliverPeriodDisplay_"+ProductID+"'></div>").appendTo('body').addClass('Hidden');var Tooltip=jq('.Tooltip.DeliverPeriodDisplay_'+ProductID);var posx=el.offset().left;var posy=el.offset().top-39;Tooltip.css({left:posx-(215/2)+(el.innerWidth()/2)});jq("<div class='TooltipAnchor'></div>").appendTo('body').addClass('Hidden');var TooltipAnchor=jq('.TooltipAnchor');TooltipAnchor.css({left:posx+(el.innerWidth()/2)-10});if(typeof ProductID!=='undefined'){jQuery.ajax({url:epConfig.baseUrl+'?ViewAction=ICPixiStockLevel&ProductID='+ProductID,contentType:"text/plain",preventCache:true,success:function(data){data=data.replace(/<\!--(.*)-->/g,'');data=data.replace(/\t/g,'');data=data.replace(/\n/g,'');data=jQuery.trim(data);Tooltip.html(data).delay(900);var autoHeight=Tooltip.height();Tooltip.css({top:posy-autoHeight}).removeClass('Hidden');TooltipAnchor.css({top:posy+5}).removeClass('Hidden');},error:function(data){console.log(data);}});}else{jq('.Tooltip.DeliverPeriodDisplay_'+ProductID).remove();jq('.TooltipAnchor').remove();}}});jq(".ICVariationSelect .ICAttributBar:last-of-type li .icattribute:not(select)").mouseout(function(ev){var VariationID=jq(this).attr('variationid'),ObjectID=jq(this).attr('id'),ProductID="";if(typeof VariationID!=='undefined'){ProductID=VariationID;}else{ProductID=ObjectID;}
jq('.Tooltip.DeliverPeriodDisplay_'+ProductID).remove();jq('.TooltipAnchor').remove();});});function handleDropDownsForMobile(){var isMobile=false;var $ICVarSelect=jq('.ICVariationSelect');var activeAttributeID=-1;if(jq(window).width()<580){isMobile=true;}
jq(window).resize(function(){vpW=jq(window).width();if(ICLastViewportWidth===vpW){return;}
if(jq(window).width()<580){isMobile=true;}
else{isMobile=false;jq('.ICAttributBar').removeAttr('style');jq('.Icon.Arrow').addClass('Down');activeAttributeID=-1;}});if($ICVarSelect.length>0){jq('.ICVariationSelect .Headline').clickOrTouch(function(){if(isMobile===true){var event=('ontouchstart'in document)?'touchstart':'click';if(event==='click'){jq('.ICAttributBar').css({'display':'none'});jq('.Icon.Arrow').addClass('Down');var attributeID=jq(this).attr('attrid');var $oAttrBar=jq('#AttributeBar_'+attributeID);if(attributeID!==activeAttributeID){$oAttrBar.css({'display':'block'});jq('.Icon.Arrow',jq(this)).removeClass('Down');activeAttributeID=attributeID;}
else{$oAttrBar.css({'display':'none'});jq('.Icon.Arrow',jq(this)).addClass('Down');activeAttributeID=-1;}
jq(this).off('touchend');}else{jq(this).on('touchend',function(e){jq('.ICAttributBar').css({'display':'none'});jq('.Icon.Arrow').addClass('Down');var attributeID=jq(this).attr('attrid');var $oAttrBar=jq('#AttributeBar_'+attributeID);if(attributeID!==activeAttributeID){$oAttrBar.css({'display':'block'});jq('.Icon.Arrow',jq(this)).removeClass('Down');activeAttributeID=attributeID;}
else{$oAttrBar.css({'display':'none'});jq('.Icon.Arrow',jq(this)).addClass('Down');activeAttributeID=-1;}
jq(this).off('touchend');});jq(this).on('touchmove',function(e){jq(this).off('touchend');});}}});jq('img.icattribute,span.icattribute,button.icattribute').clickOrTouch(function(){if(isMobile===true){setTimeout(function(){jq('.ICAttributBar').css({'display':'none'});},300);jq('.Icon.Arrow').addClass('Down');activeAttributeID=-1;}});}}
jq('document').ready(function(){handleDropDownsForMobile();});jQuery.ready({DOM:true},function(){setProductList();setFooter();setSlider();});jq(window).resize(function(){vpW=jq(window).width();if(ICLastViewportWidth===vpW){return;}
setProductList();});function setProductList(){if(cssPropertySupported('display',['-ms-flexbox','-webkit-box','flex'])){return;}
var products=0,wProduct=180,productsPerRow=0,productsPerRowMax=6,wWidth=jq('.ContentArea').width()+1;var lists=jq('.ICProductList, .CategoryList');for(var i=0,len=lists.length;i<len;i++){var type=jq(lists[i]).hasClass('ICProductList')?'product':'category';if(jq(lists[i]).hasClass('ICTwoColumns')){productsPerRowMax=3;wProduct=400;}
var row=0,firstRow=1;var container=(type==='product')?jq('.ListItemProductContainer',lists[i]):jq('.Category',lists[i]);products=container.length;productsPerRow=Math.floor(wWidth/wProduct);productsPerRow=(productsPerRow>productsPerRowMax)?productsPerRowMax:productsPerRow;wProduct=wWidth/productsPerRow;for(var j=0,clen=products;j<clen;j++){row=row+1;if(type==='product'){jq(container[j]).css({"width":wProduct});}else{jq(container[j]).css({"width":wProduct,"height":wProduct});}};}}
jq(window).on({resize:function(){vpW=jq(window).width();if(ICLastViewportWidth===vpW){return;}
var header=jq('.Header'),searchHead=jq('.SearchElement',header),headHoverBox=jq('.HoverBox'.header);searchHead.css({'position':'relative','top':'5px','left':'auto'});headHoverBox.removeClass('HideLabel');jq('.ICMiniBasket .MiniBasket span:not(.Separator)',header).removeClass('Hidden');headHoverBox.find('.ShopLogo img').css({'max-width':'60%','margin':'0 1em 1em 0'});jq('.ArrowSmall',header).removeClass('Hidden');setHeader();},scroll:StickyHeader});function setHeader(){var header=jq('.Header'),overallWidth=header.innerWidth(),widthLeft=jq('.custom-left',header).width(),customRight=jq('.custom-right',header),widthRight=customRight.width(),remainingWidth=overallWidth-widthLeft-widthRight,oHeadHoverBox=jq('.HoverBox',header),oSearchHead=jq('.SearchElement',header),oSearch=jq('.NavBarTop .ICOffCanvas .SearchElement'),oSearchInput=jq('.SearchForm.horizontal-search input.Search');if(oSearch.length<=0&&oSearchInput.length>0){var searchWidth=parseInt(oSearchInput.css('max-width').replace(/[^-\d\.]/g,''));var searchInputWidth=searchWidth+remainingWidth;if(searchInputWidth>200&&searchInputWidth<335){oSearchInput.css({'width':searchInputWidth});}
widthRight=customRight.width();remainingWidth=overallWidth-widthLeft-widthRight;}
if(remainingWidth<0){jq('.ICMiniBasket .MiniBasket span:not(.Separator)',header).addClass('Hidden');oHeadHoverBox.find('.Logo').css({'max-width':'none','margin':'0 0 1em 0'});}
if(remainingWidth<0){jq('.ArrowSmall',header).addClass('Hidden');}}
function StickyHeader(){var width=jq(window).width(),TriggerRes=1037,$oLayout=jq(".GeneralLayout");if(jq(window).scrollTop()>50&&width>offCanvasSwitchWidth){if(!($oLayout.hasClass("fix-search"))){var stickyHeadHeight=parseInt(jq('div.NavBarRoof.HorizontalNavBar').height())+parseInt(jq('div.Header.HorizontalNavBar').height())+parseInt(jq('div.NavBarTop.HorizontalNavBar').height());$oLayout.addClass("fix-search");if(width>TriggerRes){$oLayout.css({'padding-top':stickyHeadHeight});}
jq(".ICBasketInnerContent").css("z-index","1000");}}else{$oLayout.removeClass("fix-search").css({'padding-top':0});}};jq(window).on({resize:function(){if(!cssPropertySupported('display',['grid'])){vpW=jq(window).width();if(ICLastViewportWidth===vpW){return;}
var footerContainer=jq('.Div .FooterContainer'),onlyBoxes=jq('.NavBarBottom .SizeContainer > div:not(.NewsletterBox):not(:last-child)',footerContainer);jq('.ContextBoxBody',onlyBoxes).css('display','block');onlyBoxes.css('height','175px');jq('.ContextBoxHead',onlyBoxes).css('cursor','default').off('click');jq('.ContextBox',onlyBoxes).removeClass('arrow').removeClass('adown');jq('html .ICFooterElement:not(:nth-child(4)) .ContextBoxHead').css('border-right','1px solid #fff');jq('.Footer .ContextBox.ICFooterElement').css('background-position','0px 2px');jq('.Footer .SizeContainer > div:not(:last-child), .NavBarBottom .SizeContainer > div:first-child, .NavBarBottom .SizeContainer > div:nth-child(2)',footerContainer).css('border-bottom','0px');}
setFooter();}});function setFooter(){if(cssPropertySupported('display',['grid'])){var footer=new Object();footer.con=jq('.FooterContainer');footer.bottom=jq('.NavBarBottom',footer.con);footer.bottom.con=jq('.SizeContainer',footer.bottom);onlyBoxes=jq('> div:not(.NewsletterBox):not(:last-child)',footer.bottom.con);jq('.ContextBox',onlyBoxes).addClass('arrow');if(matchMedia("screen and (max-width: 596px)").matches){jq(onlyBoxes).each(function(){jq(this).find('.ContextBoxHead').off('click.footerboxes').on('click.footerboxes',function(){jq(this).next().slideToggle();var Parent=jq(this).parent('.BoxContainer').parent('.ContextBox');if(Parent.hasClass('arrow')){Parent.removeClass('arrow');Parent.addClass('adown');}else if(Parent.hasClass('adown')){Parent.removeClass('adown');Parent.addClass('arrow');}});});}
else{jq(onlyBoxes).each(function(){jq(this).find('.ContextBoxBody').removeAttr('style');jq(this).find('.ContextBoxHead').off('click.footerboxes');});jq('.NavBarBottom .adown').removeClass('adown');jq('.NavBarBottom .arrow').removeClass('arrow')}
return;}
var footer=new Object();footer.con=jq('.FooterContainer');footer.bottom=jq('.NavBarBottom',footer.con);footer.bottom.con=jq('.SizeContainer',footer.bottom);footer.bottom.con.children=jq('> div',footer.bottom.con);footer.bottom.con.fchild=jq('> div:first-child',footer.bottom.con);footer.bottom.con.scchild=jq('> div:nth-child(2)',footer.bottom.con);footer.footercon=jq('.Footer .SizeContainer',footer.con);footer.footercon.nlchild=jq('> div:not(:last-child)',footer.footercon);var conWidth=footer.bottom.con.width(),conBox='0',conBoxes='4',onlyBoxes=jq('> div:not(.NewsletterBox):not(:last-child)',footer.bottom.con);if(footer.bottom.con.fchild.length>0){conBox=footer.bottom.con.fchild.css('min-width').replace('px','');}
if(conWidth-(conBox*conBoxes)<0){footer.bottom.con.fchild.css('border-bottom','1px solid #fff');footer.bottom.con.scchild.css('border-bottom','1px solid #fff');if(conWidth-(conBox*(conBoxes/2))>=0){footer.bottom.con.children.css('width','50%');jq('html .ICFooterElement:nth-child(2) .ContextBoxHead').css('border-right','0px');footer.footercon.nlchild.css('width','50%');jq(' > div:first-child, > div:nth-child(2)',footer.footercon).css('border-bottom','1px solid #fff');}else{footer.footercon.nlchild.css("border-bottom","1px solid #fff");jq('.SizeContainer > div',footer.con).css('width','100%');jq('.Footer .ContextBox.ICFooterElement').css('background-position','-9999px');jq('html .ICFooterElement .ContextBoxHead').css('border-right','0px');jq('.ContextBox',onlyBoxes).addClass('arrow');jq('.ContextBoxBody',onlyBoxes).css('display','none');onlyBoxes.css('height','auto');jq('.ContextBoxHead',onlyBoxes).css('cursor','pointer');jq('.ContextBoxHead',onlyBoxes).click(function(){jq(this).next().slideToggle();var Parent=jq(this).parent('.BoxContainer').parent('.ContextBox');if(Parent.hasClass('arrow')){Parent.removeClass('arrow');Parent.addClass('adown');}else if(Parent.hasClass('adown')){Parent.removeClass('adown');Parent.addClass('arrow');}});}}else{footer.bottom.con.children.css('width','25%');footer.footercon.nlchild.css('width','25%');}
if(footer.bottom.con.fchild.length>0){var fontFactor=footer.bottom.con.fchild.css('width').replace('px','')/'16.25';jq('.NewsletterBox .ContextBoxHead span',footer.bottom).css('font-size',fontFactor);}}
jq(window).on({resize:function(){vpW=jq(window).width();if(ICLastViewportWidth===vpW){return;}
if(jq(window).width()!==wWidth){setSlider();}}});function setSlider(){var IsProductPage=jq('.ic_Product').length;var HasCrossSelling=jq('.ICInfoAreaTabsWrapper').hasClass('HasCrossSelling');var TriggerRes=640;if(IsProductPage>0){var TriggerRes=740;if(HasCrossSelling===true){TriggerRes=1024;}}
var innerWidth=jq(window).width();var ftSlider=jq('.future_flexslider');if(innerWidth<TriggerRes){ftSlider.addClass('flexslider');ftSlider.parent().addClass('IsMobile');initSlider(jq(".future_flexslider"));}else{for(var i=0,len=ftSlider.length;i<len;i++){var el=jq(ftSlider[i]);var elClean=el.clone();var slideParent=el.parent();elClean.find('.flex-viewport').children().unwrap();elClean.removeClass('flexslider').find('.clone, .flex-direction-nav, .flex-control-nav').remove().end().find('.flex-viewport, .slides, .slides li').removeAttr('style').find('*[class*="flex"]').removeClass(function(index,css){return(css.match(/\bflex\S+/g)||[]).join(' ');});el.parent().removeClass('IsMobile');if(elClean.html()!=el.html()){elClean.appendTo(slideParent);el.remove();}};}}
var resizingNeeded=0;var $aSubCats=null;var $aCollageBars=null;var aLineFeedPos=new Array();var threshHold=0.8;var $oCollages=null;function resizeCollage(initial){var dynTargetHeight=300;var vpWidth=jq(window).width();var firstImageH=jq('img',$oCollages).first().height();if(vpWidth<1680){dynTargetHeight=300;}
if(vpWidth<1280){dynTargetHeight=200;}
if(vpWidth<1024){dynTargetHeight=300;}
if(vpWidth<800){dynTargetHeight=250;}
if(vpWidth<640){dynTargetHeight=200;}
if(initial===1){$aSubCats=jq('.Brand');$oCollages.each(function(){var $tmpSubs=jq('.Brand',jq(this));aLineFeedPos.push($tmpSubs.length);});}
if(vpWidth<1024){$aSubCats.appendTo($oCollages.first());resizingNeeded=1;}
else{if(resizingNeeded===1){var barCount=0;var tmpSubs=new Array();var sliceFrom=0;var sliceTo=0;for(var i=0;i<aLineFeedPos.length-1;i++){sliceFrom=aLineFeedPos[i];if(typeof aLineFeedPos[i+1]!=='undefined'){sliceTo=sliceFrom+(aLineFeedPos[i+1]);}
else{sliceTo=$aSubCats.length;}
tmpSubs=$aSubCats.slice(sliceFrom,sliceTo);tmpSubs.appendTo($oCollages[i+1]);barCount=barCount+1;}
resizingNeeded=0;}}
jq('.ICCollagePlus').collagePlus({'fadeSpeed':'fast','targetHeight':dynTargetHeight,'allowPartialLastRow':false,'callBackFunction':'avoidHugeLastElem'});};function avoidHugeLastElem(){if((typeof $img!=='undefined')&&($img.length>0)){var $lastRowItem=jq('img',$oCollages).last(),virtualW=$img.width(),nativeW=$img[0].naturalWidth;if((nativeW/virtualW)<threshHold){jq('.ICCollagePlus').collagePlus({'fadeSpeed':'fast','targetHeight':100,'allowPartialLastRow':false,'callBackFunction':null});}}}
var resizeTimer=null;jq(window).bind('resize',function(){vpW=jq(window).width();if(ICLastViewportWidth===vpW){return;}
if(jq(window).width()!=wWidth){jq('.ICCollagePlus .Brand').css("opacity",0);if(resizeTimer)clearTimeout(resizeTimer);wWidth=jq(window).width();resizeTimer=setTimeout(resizeCollage,100);}});jQuery.ready({DOM:true},function(){$oCollages=jq('.ICCollagePlus');resizeCollage(1);jq('.ListItemProductContainer .PriceArea .Price span, .PriceAndOrderBox .PriceArea .Price span').each(function(){if(this.innerHTML.length>12){jq(this).css('font-size','23px');}});});require(["jquery"],function($){var isTouchDevice=function(){return'ontouchstart'in window||navigator.maxTouchPoints;};var vpW=jq(window).width();var changeModeW=480;HandleShippingFree();function HandleShippingFree(){var $ICShippingInfo=jq('.ICShippingInfo'),$HiddenSum=jq('.ICCountrySelector #HiddenFreeShippingSum');if($HiddenSum.length>0){jq('.ICShippingFreeSum',$ICShippingInfo).append($HiddenSum.html());$ICShippingInfo.removeClass('Hidden');}else{$ICShippingInfo.addClass('Hidden');}}});function setTrustpilotWidget(trustpilot){trustpilot.appendTo(jq('body')).removeClass('Hidden');jq('.trustbox img.xtrustbox').bind('click touchstart',function(){jq(this).next('.trustpilot-widget').remove();jq.cookie('IC_Trustbox',1,{expires:1});});}
jQuery.ready({plugin:['jQuery.cookie'],DOM:true},function($){trustpilot=$('.trustbox.Hidden');if(trustpilot.length>0&&jq.cookie('IC_Trustbox')===null){setTrustpilotWidget(trustpilot);trustpilot.hover(function(){trustpilot.stop().animate({'margin-bottom':-25});},function(){trustpilot.stop().animate({'margin-bottom':-202});});}});(function(cc){if(cc.hasInitialised)return;var util={escapeRegExp:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&');},hasClass:function(element,selector){var s=' ';return element.nodeType===1&&(s+element.className+s).replace(/[\n\t]/g,s).indexOf(s+selector+s)>=0;},addClass:function(element,className){element.className+=' '+className;},removeClass:function(element,className){var regex=new RegExp('\\b'+this.escapeRegExp(className)+'\\b');element.className=element.className.replace(regex,'');},interpolateString:function(str,callback){var marker=/{{([a-z][a-z0-9\-_]*)}}/ig;return str.replace(marker,function(matches){return callback(arguments[1])||'';})},getCookie:function(name){var value='; '+document.cookie;var parts=value.split('; '+name+'=');return parts.length!=2?undefined:parts.pop().split(';').shift();},setCookie:function(name,value,expiryDays,domain,path){var exdate=new Date();exdate.setDate(exdate.getDate()+(expiryDays||365));var cookie=[name+'='+value,'expires='+exdate.toUTCString(),'path='+(path||'/')];if(domain){cookie.push('domain='+domain);}
document.cookie=cookie.join(';');},deepExtend:function(target,source){for(var prop in source){if(source.hasOwnProperty(prop)){if(prop in target&&this.isPlainObject(target[prop])&&this.isPlainObject(source[prop])){this.deepExtend(target[prop],source[prop]);}else{target[prop]=source[prop];}}}
return target;},throttle:function(callback,limit){var wait=false;return function(){if(!wait){callback.apply(this,arguments);wait=true;setTimeout(function(){wait=false;},limit);}}},hash:function(str){var hash=0,i,chr,len;if(str.length===0)return hash;for(i=0,len=str.length;i<len;++i){chr=str.charCodeAt(i);hash=((hash<<5)-hash)+chr;hash|=0;}
return hash;},normaliseHex:function(hex){if(hex[0]=='#'){hex=hex.substr(1);}
if(hex.length==3){hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];}
return hex;},getContrast:function(hex){hex=this.normaliseHex(hex);var r=parseInt(hex.substr(0,2),16);var g=parseInt(hex.substr(2,2),16);var b=parseInt(hex.substr(4,2),16);var yiq=((r*299)+(g*587)+(b*114))/1000;return(yiq>=128)?'#000':'#fff';},getLuminance:function(hex){var num=parseInt(this.normaliseHex(hex),16),amt=38,R=(num>>16)+amt,B=(num>>8&0x00FF)+amt,G=(num&0x0000FF)+amt;var newColour=(0x1000000+(R<255?R<1?0:R:255)*0x10000+(B<255?B<1?0:B:255)*0x100+(G<255?G<1?0:G:255)).toString(16).slice(1);return'#'+newColour;},isMobile:function(){if(matchMedia("screen and (max-width: 767px)").matches){return 1}
return 0;},isPlainObject:function(obj){return typeof obj==='object'&&obj!==null&&obj.constructor==Object;},};cc.status={deny:'deny',allow:'allow',dismiss:'dismiss'};cc.transitionEnd=(function(){var el=document.createElement('div');var trans={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd",};for(var prefix in trans){if(trans.hasOwnProperty(prefix)&&typeof el.style[prefix+'ransition']!='undefined'){return trans[prefix];}}
return'';}());cc.hasTransition=!!cc.transitionEnd;var __allowedStatuses=Object.keys(cc.status).map(util.escapeRegExp);cc.customStyles={};cc.Popup=(function(){var defaultOptions={enabled:true,container:null,cookie:{name:'cookieconsent_status',path:'/',domain:'',expiryDays:365,},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(status){},onStatusChange:function(status,chosenBefore){},onRevokeChoice:function(){},content:{header:'Cookies used on the website!',message:'This website uses cookies to ensure you get the best experience on our website.',dismiss:'Got it!',allow:'Allow cookies',deny:'Decline',link:'Learn more',href:'http://cookiesandyou.com',close:'&#x274c;',},elements:{header:'<span class="cc-header">{{header}}</span>&nbsp;',message:'<span id="cookieconsent:desc" class="cc-message">{{message}}</span>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="_blank">{{link}}</a></span>',dismiss:'<a aria-label="dismiss cookie message" role=button tabindex="0" class="cc-btn cc-dismiss">{{dismiss}}</a>',allow:'<a aria-label="allow cookies" role=button tabindex="0"  class="cc-btn cc-allow">{{allow}}</a>',deny:'<a aria-label="deny cookies" role=button tabindex="0" class="cc-btn cc-deny">{{deny}}</a>',link:'<a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" target="_blank">{{link}}</a>',close:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-close">{{close}}</span>',closebtn:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-closebtn iconCloseSvgWhite"></span>'},window:'<div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window {{classes}}"><!--googleoff: all-->{{children}}<!--googleon: all--></div>',revokeBtn:'<div class="cc-revoke {{classes}}">Cookie Policy</div>',compliance:{'info':'<div class="cc-compliance">{{dismiss}}</div>','opt-in':'<div class="cc-compliance cc-highlight">{{dismiss}}{{allow}}</div>','opt-out':'<div class="cc-compliance cc-highlight">{{deny}}{{dismiss}}</div>',},type:'info',layouts:{'basic':'{{message}}{{compliance}}{{closebtn}}','basic-close':'{{messagelink}}{{compliance}}{{close}}{{closebtn}}','basic-header':'{{header}}{{message}}{{link}}{{compliance}}',},layout:'basic',position:'bottom',theme:'block',static:false,palette:null,revokable:false,animateRevokable:true,showLink:true,dismissOnScroll:false,dismissOnTimeout:false,autoOpen:true,autoAttach:true,whitelistPage:[],blacklistPage:[],overrideHTML:null,};function CookiePopup(){this.initialise.apply(this,arguments);}
CookiePopup.prototype.initialise=function(options){if(this.options){this.destroy();}
util.deepExtend(this.options={},defaultOptions);if(util.isPlainObject(options)){util.deepExtend(this.options,options);}
if(checkCallbackHooks.call(this)){this.options.enabled=false;}
if(arrayContainsMatches(this.options.blacklistPage,location.pathname)){this.options.enabled=false;}
if(arrayContainsMatches(this.options.whitelistPage,location.pathname)){this.options.enabled=true;}
var cookiePopup=this.options.window.replace('{{classes}}',getPopupClasses.call(this).join(' ')).replace('{{children}}',getPopupInnerMarkup.call(this));var customHTML=this.options.overrideHTML;if(typeof customHTML=='string'&&customHTML.length){cookiePopup=customHTML;}
if(this.options.static){var wrapper=appendMarkup.call(this,'<div class="cc-grower">'+cookiePopup+'</div>');wrapper.style.display='';this.element=wrapper.firstChild;this.element.style.display='none';util.addClass(this.element,'cc-invisible');}else{this.element=appendMarkup.call(this,cookiePopup);}
applyAutoDismiss.call(this);applyRevokeButton.call(this);if(this.options.autoOpen){this.autoOpen();}};CookiePopup.prototype.destroy=function(){if(this.onButtonClick&&this.element){this.element.removeEventListener('click',this.onButtonClick);this.onButtonClick=null;}
if(this.dismissTimeout){clearTimeout(this.dismissTimeout);this.dismissTimeout=null;}
if(this.onWindowScroll){window.removeEventListener('scroll',this.onWindowScroll);this.onWindowScroll=null;}
if(this.onMouseMove){window.removeEventListener('mousemove',this.onMouseMove);this.onMouseMove=null;}
if(this.element&&this.element.parentNode){this.element.parentNode.removeChild(this.element);}
this.element=null;if(this.revokeBtn&&this.revokeBtn.parentNode){this.revokeBtn.parentNode.removeChild(this.revokeBtn);}
this.revokeBtn=null;removeCustomStyle(this.options.palette);this.options=null;};CookiePopup.prototype.open=function(callback){if(!this.element)return;if(!this.isOpen()){if(cc.hasTransition){this.fadeIn();}else{this.element.style.display='';}
if(this.options.revokable){this.toggleRevokeButton();}
this.options.onPopupOpen.call(this);}
return this;};CookiePopup.prototype.close=function(showRevoke){if(!this.element)return;if(this.isOpen()){if(cc.hasTransition){this.fadeOut();}else{this.element.style.display='none';}
if(showRevoke&&this.options.revokable){this.toggleRevokeButton(true);}
this.options.onPopupClose.call(this);}
return this;};CookiePopup.prototype.fadeIn=function(){var el=this.element;if(!cc.hasTransition||!el)
return;if(this.afterTransition){afterFadeOut.call(this,el)}
if(util.hasClass(el,'cc-invisible')){el.style.display='';if(this.options.static){var height=this.element.clientHeight;this.element.parentNode.style.maxHeight=height+'px';}
var fadeInTimeout=20;this.openingTimeout=setTimeout(afterFadeIn.bind(this,el),fadeInTimeout);}};CookiePopup.prototype.fadeOut=function(){var el=this.element;if(!cc.hasTransition||!el)
return;if(this.openingTimeout){clearTimeout(this.openingTimeout);afterFadeIn.bind(this,el);}
if(!util.hasClass(el,'cc-invisible')){if(this.options.static){this.element.parentNode.style.maxHeight='';}
this.afterTransition=afterFadeOut.bind(this,el);el.addEventListener(cc.transitionEnd,this.afterTransition);util.addClass(el,'cc-invisible');}};CookiePopup.prototype.isOpen=function(){return this.element&&this.element.style.display==''&&(cc.hasTransition?!util.hasClass(this.element,'cc-invisible'):true);};CookiePopup.prototype.toggleRevokeButton=function(show){if(this.revokeBtn)this.revokeBtn.style.display=show?'':'none';};CookiePopup.prototype.revokeChoice=function(preventOpen){this.options.enabled=true;this.clearStatus();this.options.onRevokeChoice.call(this);if(!preventOpen){this.autoOpen();}};CookiePopup.prototype.hasAnswered=function(options){return Object.keys(cc.status).indexOf(this.getStatus())>=0;};CookiePopup.prototype.hasConsented=function(options){var val=this.getStatus();return val==cc.status.allow||val==cc.status.dismiss;};CookiePopup.prototype.autoOpen=function(options){!this.hasAnswered()&&this.options.enabled&&this.open();};CookiePopup.prototype.setStatus=function(status){var c=this.options.cookie;var value=util.getCookie(c.name);var chosenBefore=Object.keys(cc.status).indexOf(value)>=0;if(Object.keys(cc.status).indexOf(status)>=0){util.setCookie(c.name,status,c.expiryDays,c.domain,c.path);this.options.onStatusChange.call(this,status,chosenBefore);}else{this.clearStatus();}};CookiePopup.prototype.getStatus=function(){return util.getCookie(this.options.cookie.name);};CookiePopup.prototype.clearStatus=function(){var c=this.options.cookie;util.setCookie(c.name,'',-1,c.domain,c.path);};function afterFadeIn(el){this.openingTimeout=null;util.removeClass(el,'cc-invisible');}
function afterFadeOut(el){el.style.display='none';el.removeEventListener(cc.transitionEnd,this.afterTransition);this.afterTransition=null;}
function checkCallbackHooks(){var complete=this.options.onInitialise.bind(this);if(!window.navigator.cookieEnabled){complete(cc.status.deny);return true;}
if(window.CookiesOK||window.navigator.CookiesOK){complete(cc.status.allow);return true;}
var allowed=Object.keys(cc.status);var answer=this.getStatus();var match=allowed.indexOf(answer)>=0;if(match){complete(answer);}
return match;}
function getPositionClasses(){var positions=this.options.position.split('-');var classes=[];positions.forEach(function(cur){classes.push('cc-'+cur);});return classes;}
function getPopupClasses(){var opts=this.options;var positionStyle=(opts.position=='top'||opts.position=='bottom')?'banner':'floating';if(util.isMobile()){positionStyle='floating';}
var classes=['cc-'+positionStyle,'cc-type-'+opts.type,'cc-theme-'+opts.theme,];if(opts.static){classes.push('cc-static');}
classes.push.apply(classes,getPositionClasses.call(this));var didAttach=attachCustomPalette.call(this,this.options.palette);if(this.customStyleSelector){classes.push(this.customStyleSelector);}
return classes;}
function getPopupInnerMarkup(){var interpolated={};var opts=this.options;if(!opts.showLink){opts.elements.link='';opts.elements.messagelink=opts.elements.message;}
Object.keys(opts.elements).forEach(function(prop){interpolated[prop]=util.interpolateString(opts.elements[prop],function(name){var str=opts.content[name];return(name&&typeof str=='string'&&str.length)?str:'';})});var complianceType=opts.compliance[opts.type];if(!complianceType){complianceType=opts.compliance.info;}
interpolated.compliance=util.interpolateString(complianceType,function(name){return interpolated[name];});var layout=opts.layouts[opts.layout];if(!layout){layout=opts.layouts.basic;}
return util.interpolateString(layout,function(match){return interpolated[match];});}
function appendMarkup(markup){var opts=this.options;var div=document.createElement('div');var cont=(opts.container&&opts.container.nodeType===1)?opts.container:document.body;div.innerHTML=markup;var el=div.children[0];el.style.display='none';if(util.hasClass(el,'cc-window')&&cc.hasTransition){util.addClass(el,'cc-invisible');}
this.onButtonClick=handleButtonClick.bind(this);el.addEventListener('click',this.onButtonClick);if(opts.autoAttach){if(!cont.firstChild){cont.appendChild(el);}else{cont.insertBefore(el,cont.firstChild)}}
return el;}
function handleButtonClick(event){var targ=event.target;if(util.hasClass(targ,'cc-btn')){var matches=targ.className.match(new RegExp("\\bcc-("+__allowedStatuses.join('|')+")\\b"));var match=(matches&&matches[1])||false;if(match){this.setStatus(match);this.close(true);}}
if(util.hasClass(targ,'cc-close')){this.setStatus(cc.status.dismiss);this.close(true);}
if(util.hasClass(targ,'cc-closebtn')){this.setStatus(cc.status.dismiss);this.close(true);}
if(util.hasClass(targ,'cc-revoke')){this.revokeChoice();}}
function attachCustomPalette(palette){var hash=util.hash(JSON.stringify(palette));var selector='cc-color-override-'+hash;var isValid=util.isPlainObject(palette);this.customStyleSelector=isValid?selector:null;if(isValid){addCustomStyle(hash,palette,'.'+selector);}
return isValid;}
function addCustomStyle(hash,palette,prefix){if(cc.customStyles[hash]){++cc.customStyles[hash].references;return;}
var colorStyles={};var popup=palette.popup;var button=palette.button;var highlight=palette.highlight;if(popup){popup.text=popup.text?popup.text:util.getContrast(popup.background);popup.link=popup.link?popup.link:popup.text;colorStyles[prefix+'.cc-window']=['color: '+popup.text,'background-color: '+popup.background];colorStyles[prefix+'.cc-revoke']=['color: '+popup.text,'background-color: '+popup.background];colorStyles[prefix+' .cc-link,'+prefix+' .cc-link:active,'+prefix+' .cc-link:visited']=['color: '+popup.link];if(button){button.text=button.text?button.text:util.getContrast(button.background);button.border=button.border?button.border:'transparent';colorStyles[prefix+' .cc-btn']=['color: '+button.text,'border-color: '+button.border,'background-color: '+button.background];if(button.background!='transparent')
colorStyles[prefix+' .cc-btn:hover, '+prefix+' .cc-btn:focus']=['background-color: '+getHoverColour(button.background)];if(highlight){highlight.text=highlight.text?highlight.text:util.getContrast(highlight.background);highlight.border=highlight.border?highlight.border:'transparent';colorStyles[prefix+' .cc-highlight .cc-btn:first-child']=['color: '+highlight.text,'border-color: '+highlight.border,'background-color: '+highlight.background];}else{colorStyles[prefix+' .cc-highlight .cc-btn:first-child']=['color: '+popup.text];}}}
var style=document.createElement('style');document.head.appendChild(style);cc.customStyles[hash]={references:1,element:style.sheet};var ruleIndex=-1;for(var prop in colorStyles){if(colorStyles.hasOwnProperty(prop)){style.sheet.insertRule(prop+'{'+colorStyles[prop].join(';')+'}',++ruleIndex);}}}
function getHoverColour(hex){hex=util.normaliseHex(hex);if(hex=='000000'){return'#222';}
return util.getLuminance(hex);}
function removeCustomStyle(palette){if(util.isPlainObject(palette)){var hash=util.hash(JSON.stringify(palette));var customStyle=cc.customStyles[hash];if(customStyle&&!--customStyle.references){var styleNode=customStyle.element.ownerNode;if(styleNode&&styleNode.parentNode){styleNode.parentNode.removeChild(styleNode);}
cc.customStyles[hash]=null;}}}
function arrayContainsMatches(array,search){for(var i=0,l=array.length;i<l;++i){var str=array[i];if((str instanceof RegExp&&str.test(search))||(typeof str=='string'&&str.length&&str===search)){return true;}}
return false;}
function applyAutoDismiss(){var setStatus=this.setStatus.bind(this);var delay=this.options.dismissOnTimeout;if(typeof delay=='number'&&delay>=0){this.dismissTimeout=window.setTimeout(function(){setStatus(cc.status.dismiss);},Math.floor(delay));}
var scrollRange=this.options.dismissOnScroll;if(typeof scrollRange=='number'&&scrollRange>=0){var onWindowScroll=function(evt){if(window.pageYOffset>Math.floor(scrollRange)){setStatus(cc.status.dismiss);window.removeEventListener('scroll',onWindowScroll);this.onWindowScroll=null;}};this.onWindowScroll=onWindowScroll;window.addEventListener('scroll',onWindowScroll);}}
function applyRevokeButton(){if(this.options.type!='info')this.options.revokable=true;if(util.isMobile())this.options.animateRevokable=false;if(this.options.revokable){var classes=getPositionClasses.call(this);if(this.options.animateRevokable){classes.push('cc-animate');}
if(this.customStyleSelector){classes.push(this.customStyleSelector)}
var revokeBtn=this.options.revokeBtn.replace('{{classes}}',classes.join(' '));this.revokeBtn=appendMarkup.call(this,revokeBtn);var btn=this.revokeBtn;if(this.options.animateRevokable){var wait=false;var onMouseMove=util.throttle(function(evt){var active=false;var minY=20;var maxY=(window.innerHeight-20);if(util.hasClass(btn,'cc-top')&&evt.clientY<minY)active=true;if(util.hasClass(btn,'cc-bottom')&&evt.clientY>maxY)active=true;if(active){if(!util.hasClass(btn,'cc-active')){util.addClass(btn,'cc-active');}}else{if(util.hasClass(btn,'cc-active')){util.removeClass(btn,'cc-active');}}},200);this.onMouseMove=onMouseMove;window.addEventListener('mousemove',onMouseMove);}}}
return CookiePopup}());cc.Location=(function(){var defaultOptions={timeout:5000,services:['freegeoip','ipinfo','maxmind'],serviceDefinitions:{freegeoip:function(){return{url:'//freegeoip.net/json/?callback={callback}',isScript:true,callback:function(done,response){try{var json=JSON.parse(response);return json.error?toError(json):{code:json.country_code};}catch(err){return toError({error:'Invalid response ('+err+')'});}}}},ipinfo:function(){return{url:'//ipinfo.io',headers:['Accept: application/json'],callback:function(done,response){try{var json=JSON.parse(response);return json.error?toError(json):{code:json.country};}catch(err){return toError({error:'Invalid response ('+err+')'});}}}},ipinfodb:function(options){return{url:'//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}',isScript:true,callback:function(done,response){try{var json=JSON.parse(response);return json.statusCode=='ERROR'?toError({error:json.statusMessage}):{code:json.countryCode};}catch(err){return toError({error:'Invalid response ('+err+')'});}}}},maxmind:function(){return{url:'//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js',isScript:true,callback:function(done){if(!window.geoip2){done(new Error('Unexpected response format. The downloaded script should have exported `geoip2` to the global scope'));return;}
geoip2.country(function(location){try{done({code:location.country.iso_code});}catch(err){done(toError(err));}},function(err){done(toError(err));});}}},},};function Location(options){util.deepExtend(this.options={},defaultOptions);if(util.isPlainObject(options)){util.deepExtend(this.options,options);}
this.currentServiceIndex=-1;}
Location.prototype.getNextService=function(){var service;do{service=this.getServiceByIdx(++this.currentServiceIndex);}while(this.currentServiceIndex<this.options.services.length&&!service);return service;};Location.prototype.getServiceByIdx=function(idx){var serviceOption=this.options.services[idx];if(typeof serviceOption==='function'){var dynamicOpts=serviceOption();if(dynamicOpts.name){util.deepExtend(dynamicOpts,this.options.serviceDefinitions[dynamicOpts.name](dynamicOpts));}
return dynamicOpts;}
if(typeof serviceOption==='string'){return this.options.serviceDefinitions[serviceOption]();}
if(util.isPlainObject(serviceOption)){return this.options.serviceDefinitions[serviceOption.name](serviceOption);}
return null;};Location.prototype.locate=function(complete,error){var service=this.getNextService();if(!service){error(new Error('No services to run'));return;}
this.callbackComplete=complete;this.callbackError=error;this.runService(service,this.runNextServiceOnError.bind(this));};Location.prototype.setupUrl=function(service){var serviceOpts=this.getCurrentServiceOpts();return service.url.replace(/\{(.*?)\}/g,function(_,param){if(param==='callback'){var tempName='callback'+Date.now();window[tempName]=function(res){service.__JSONP_DATA=JSON.stringify(res);}
return tempName;}
if(param in serviceOpts.interpolateUrl){return serviceOpts.interpolateUrl[param];}});};Location.prototype.runService=function(service,complete){var self=this;if(!service||!service.url||!service.callback){return;}
var requestFunction=service.isScript?getScript:makeAsyncRequest;var url=this.setupUrl(service);requestFunction(url,function(xhr){var responseText=xhr?xhr.responseText:'';if(service.__JSONP_DATA){responseText=service.__JSONP_DATA;delete service.__JSONP_DATA;}
self.runServiceCallback.call(self,complete,service,responseText);},this.options.timeout,service.data,service.headers);};Location.prototype.runServiceCallback=function(complete,service,responseText){var self=this;var serviceResultHandler=function(asyncResult){if(!result){self.onServiceResult.call(self,complete,asyncResult)}};var result=service.callback(serviceResultHandler,responseText);if(result){this.onServiceResult.call(this,complete,result);}};Location.prototype.onServiceResult=function(complete,result){if(result instanceof Error||(result&&result.error)){complete.call(this,result,null);}else{complete.call(this,null,result);}};Location.prototype.runNextServiceOnError=function(err,data){if(err){this.logError(err);var nextService=this.getNextService();if(nextService){this.runService(nextService,this.runNextServiceOnError.bind(this));}else{this.completeService.call(this,this.callbackError,new Error('All services failed'));}}else{this.completeService.call(this,this.callbackComplete,data);}};Location.prototype.getCurrentServiceOpts=function(){var val=this.options.services[this.currentServiceIndex];if(typeof val=='string'){return{name:val};}
if(typeof val=='function'){return val();}
if(util.isPlainObject(val)){return val;}
return{};};Location.prototype.completeService=function(fn,data){this.currentServiceIndex=-1;fn&&fn(data);};Location.prototype.logError=function(err){var idx=this.currentServiceIndex;var service=this.getServiceByIdx(idx);console.error('The service['+idx+'] ('+service.url+') responded with the following error',err);};function getScript(url,callback,timeout){var timeoutIdx,s=document.createElement('script');s.type='text/'+(url.type||'javascript');s.src=url.src||url;s.async=false;s.onreadystatechange=s.onload=function(){var state=s.readyState;clearTimeout(timeoutIdx);if(!callback.done&&(!state||/loaded|complete/.test(state))){callback.done=true;callback();s.onreadystatechange=s.onload=null;}};document.body.appendChild(s);timeoutIdx=setTimeout(function(){callback.done=true;callback();s.onreadystatechange=s.onload=null;},timeout);}
function makeAsyncRequest(url,onComplete,timeout,postData,requestHeaders){var xhr=new(window.XMLHttpRequest||window.ActiveXObject)('MSXML2.XMLHTTP.3.0');xhr.open(postData?'POST':'GET',url,1);xhr.setRequestHeader('X-Requested-With','XMLHttpRequest');xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded');if(Array.isArray(requestHeaders)){for(var i=0,l=requestHeaders.length;i<l;++i){var split=requestHeaders[i].split(':',2)
xhr.setRequestHeader(split[0].replace(/^\s+|\s+$/g,''),split[1].replace(/^\s+|\s+$/g,''));}}
if(typeof onComplete=='function'){xhr.onreadystatechange=function(){if(xhr.readyState>3){onComplete(xhr);}};}
xhr.send(postData);}
function toError(obj){return new Error('Error ['+(obj.code||'UNKNOWN')+']: '+obj.error);}
return Location;}());cc.Law=(function(){var defaultOptions={regionalLaw:true,hasLaw:['AT','BE','BG','HR','CZ','CY','DK','EE','FI','FR','DE','EL','HU','IE','IT','LV','LT','LU','MT','NL','PL','PT','SK','SI','ES','SE','GB','UK'],revokable:['HR','CY','DK','EE','FR','DE','LV','LT','NL','PT','ES'],explicitAction:['HR','IT','ES'],};function Law(options){this.initialise.apply(this,arguments);}
Law.prototype.initialise=function(options){util.deepExtend(this.options={},defaultOptions);if(util.isPlainObject(options)){util.deepExtend(this.options,options);}};Law.prototype.get=function(countryCode){var opts=this.options;return{hasLaw:opts.hasLaw.indexOf(countryCode)>=0,revokable:opts.revokable.indexOf(countryCode)>=0,explicitAction:opts.explicitAction.indexOf(countryCode)>=0,};};Law.prototype.applyLaw=function(options,countryCode){var country=this.get(countryCode);if(!country.hasLaw){options.enabled=false;}
if(this.options.regionalLaw){if(country.revokable){options.revokable=true;}
if(country.explicitAction){options.dismissOnScroll=false;options.dismissOnTimeout=false;}}
return options;};return Law;}());cc.initialise=function(options,complete,error){var law=new cc.Law(options.law);if(!complete)complete=function(){};if(!error)error=function(){};cc.getCountryCode(options,function(result){delete options.law;delete options.location;if(result.code){options=law.applyLaw(options,result.code);}
complete(new cc.Popup(options));},function(err){delete options.law;delete options.location;error(err,new cc.Popup(options));});};cc.getCountryCode=function(options,complete,error){if(options.law&&options.law.countryCode){complete({code:options.law.countryCode});return;}
if(options.location){var locator=new cc.Location(options.location);locator.locate(function(serviceResult){complete(serviceResult||{});},error);return;}
complete({});};cc.utils=util;cc.hasInitialised=true;window.cookieconsent=cc;}(window.cookieconsent||{}));