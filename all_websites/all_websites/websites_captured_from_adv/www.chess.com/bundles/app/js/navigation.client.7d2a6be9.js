/*! For license information please see navigation.client.7d2a6be9.js.LICENSE.txt */
!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)__webpack_require__.d(n,a,function(t){return e[t]}.bind(null,a));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/bundles/app/js/",__webpack_require__(__webpack_require__.s=4)}({"./core/chat/components/chat-avatar.svelte.html":function(e,t,n){"use strict";var a=n("./node_modules/svelte/shared.js"),s=n("./core/navigation/components/avatar.svelte.html");n("./core/chat/components/chat-avatar.svelte.svelte.css");function create_if_block_1(e,t){var n;function select_block_type(e){return e.user&&e.user.avatarUrl?create_if_block_2:create_else_block}var s=select_block_type(t),r=s(e,t);return{c:function c(){r.c(),n=Object(a.h)()},m:function m(e,t){r.m(e,t),Object(a.w)(e,n,t)},p:function p(t,a){s===(s=select_block_type(a))&&r?r.p(t,a):(r.d(1),(r=s(e,a)).c(),r.m(n.parentNode,n))},d:function d(e){r.d(e),e&&Object(a.q)(n)}}}function create_else_block(e,t){var n;return{c:function c(){(n=Object(a.i)("span")).className="chat-avatar-placeholder svelte-atyy5f",Object(a.G)(n,"height",t.size+"px"),Object(a.G)(n,"width",t.size+"px")},m:function m(e,t){Object(a.w)(e,n,t)},p:function p(e,t){e.size&&(Object(a.G)(n,"height",t.size+"px"),Object(a.G)(n,"width",t.size+"px"))},d:function d(e){e&&Object(a.q)(n)}}}function create_if_block_2(e,t){var n={online:t.chat.isOnline,size:t.size,src:t.user.avatarUrl,username:t.user.username},a=new s.a({root:e.root,store:e.store,data:n});return{c:function c(){a._fragment.c()},m:function m(e,t){a._mount(e,t)},p:function p(e,t){var n={};e.chat&&(n.online=t.chat.isOnline),e.size&&(n.size=t.size),e.user&&(n.src=t.user.avatarUrl),e.user&&(n.username=t.user.username),a._set(n)},d:function d(e){a.destroy(e)}}}function create_if_block(e,t){var n,s;return{c:function c(){n=Object(a.i)("span"),(s=Object(a.i)("span")).className="icon-font-chess users",n.className="chat-avatar-group svelte-atyy5f",Object(a.G)(n,"height",t.size+"px"),Object(a.G)(n,"line-height",t.size+"px"),Object(a.G)(n,"width",t.size+"px")},m:function m(e,t){Object(a.w)(e,n,t),Object(a.d)(n,s)},p:function p(e,t){e.size&&(Object(a.G)(n,"height",t.size+"px"),Object(a.G)(n,"line-height",t.size+"px"),Object(a.G)(n,"width",t.size+"px"))},d:function d(e){e&&Object(a.q)(n)}}}function Chat_avatar_svelte(e){Object(a.v)(this,e),this._state=Object(a.e)(this.store._init(["users"]),e.data),this.store._add(this,["users"]),this._recompute({avatarSize:1,$users:1,chat:1},this._state),this._intro=!0,this._handlers.destroy=[a.C],this._fragment=function create_main_fragment(e,t){var n,s,r=t.chat.isDirect&&create_if_block_1(e,t),l=t.chat.isGroup&&create_if_block(0,t);return{c:function c(){r&&r.c(),n=Object(a.k)("\n\n"),l&&l.c(),s=Object(a.h)()},m:function m(e,t){r&&r.m(e,t),Object(a.w)(e,n,t),l&&l.m(e,t),Object(a.w)(e,s,t)},p:function p(t,a){a.chat.isDirect?r?r.p(t,a):((r=create_if_block_1(e,a)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),a.chat.isGroup?l?l.p(t,a):((l=create_if_block(0,a)).c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d:function d(e){r&&r.d(e),e&&Object(a.q)(n),l&&l.d(e),e&&Object(a.q)(s)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object(a.s)(this))}Object(a.e)(Chat_avatar_svelte.prototype,a.z),Chat_avatar_svelte.prototype._recompute=function _recompute(e,t){e.avatarSize&&this._differs(t.size,t.size=function size(e){return e.avatarSize||30}(t))&&(e.size=!0),(e.$users||e.chat)&&this._differs(t.user,t.user=function user(e){return e.$users[e.chat.userId]}(t))&&(e.user=!0)},t.a=Chat_avatar_svelte},"./core/chat/components/chat-avatar.svelte.svelte.css":function(e,t,n){},"./core/chat/components/panel-chats-list.svelte.svelte.css":function(e,t,n){},"./core/chat/config/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return C})),n.d(t,"a",(function(){return S}));var a,s,r,l,u,f={SEND_MESSAGE:{key:"Social - SendMessage",payload:function payload(e){return{mode:"globalChat",recipient:e?"friend":"member"}}}},_=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(_),h={CREATE:"create",DELETE:"delete",HERE:"here",MUTE:"mute",UNMUTE:"unmute",WARN:"warn"},v=(a={},b()(a,h.CREATE,'create <i>say-hi "hello world" 60 5</i>'),b()(a,h.DELETE,"delete <i>say-hi</i>"),b()(a,h.HERE,"here"),b()(a,h.MUTE,"mute <i>username</i>"),b()(a,h.UNMUTE,"unmute <i>username</i>"),b()(a,h.WARN,"warn <i>username</i>"),a),g={personalChannel:function personalChannel(e){return"chat/users/".concat(e)},userStatusChannel:function userStatusChannel(e){return"presence/users/".concat(e)}};!function(e){e.MUTE="mute",e.UNMUTE="unmute",e.WARN="warn"}(s||(s={})),function(e){e.BADGE_KEY="chatMessages",e[e.BIG_EMOTES_LIMIT=4]="BIG_EMOTES_LIMIT",e[e.DEFAULT_CHAT_WINDOW_HEIGHT=400]="DEFAULT_CHAT_WINDOW_HEIGHT",e[e.DEFAULT_CHAT_WINDOW_WIDTH=350]="DEFAULT_CHAT_WINDOW_WIDTH",e[e.CHAT_WINDOW_MOVE_TRESHOLD=30]="CHAT_WINDOW_MOVE_TRESHOLD",e[e.CHAT_WINDOW_WIDTH_ON_MOBILE=.9]="CHAT_WINDOW_WIDTH_ON_MOBILE",e.CHESS_COM_BOT_USER_ID="83ab9400-ffcd-11db-8054-000000000000",e.CHESS_COM_BOT_USER_NAME="chesscombot",e[e.CHESS_TV_CHAT_POPOUT_HEIGHT=500]="CHESS_TV_CHAT_POPOUT_HEIGHT",e[e.CHESS_TV_CHAT_POPOUT_WIDTH=300]="CHESS_TV_CHAT_POPOUT_WIDTH",e.CHESS_TV_DEFAULT_LANG="en",e[e.EMOTES_IN_A_ROW=3]="EMOTES_IN_A_ROW",e[e.HTTP_CODE_TOO_MUCH_REQUESTS=429]="HTTP_CODE_TOO_MUCH_REQUESTS",e[e.HTTP_CODE_FORBIDDEN=403]="HTTP_CODE_FORBIDDEN",e[e.INTERVAL_BETWEEN_BASIC_USER_MESSAGES=1e4]="INTERVAL_BETWEEN_BASIC_USER_MESSAGES",e[e.INTERVAL_GET_PUBSUB_STATE=3e3]="INTERVAL_GET_PUBSUB_STATE",e[e.INTERVAL_GET_PUBSUB_STATE_INITIAL=500]="INTERVAL_GET_PUBSUB_STATE_INITIAL",e[e.INTERVAL_AUTO_SCROLL=15e3]="INTERVAL_AUTO_SCROLL",e.KEY_ALT="Alt",e[e.KEY_ENTER=13]="KEY_ENTER",e[e.KEY_ESC=27]="KEY_ESC",e[e.MESSAGE_FIELD_MAX_HEIGHT=100]="MESSAGE_FIELD_MAX_HEIGHT",e[e.MESSAGE_MAX_LENGTH=500]="MESSAGE_MAX_LENGTH",e[e.MESSAGE_MAX_LENGTH_FOR_BASIC=100]="MESSAGE_MAX_LENGTH_FOR_BASIC",e[e.MESSAGES_PER_REQUEST=20]="MESSAGES_PER_REQUEST",e[e.MESSAGES_PER_REQUEST_CHESS_TV=100]="MESSAGES_PER_REQUEST_CHESS_TV",e[e.MIN_CHAT_WINDOW_HEIGHT=200]="MIN_CHAT_WINDOW_HEIGHT",e[e.MIN_CHAT_WINDOW_WIDTH=300]="MIN_CHAT_WINDOW_WIDTH",e.ONLINE_STATUS="online",e.PENDING_MESSAGE_ID="pending_message",e.PUBSUB_ACTION_CREATED="created",e[e.RETRY_REQUEST_TIMEOUT=200]="RETRY_REQUEST_TIMEOUT",e[e.WINDOW_RESIZE_DEBOUNCE=250]="WINDOW_RESIZE_DEBOUNCE",e[e.SCROLL_HEIGHT_TRIGGER=100]="SCROLL_HEIGHT_TRIGGER",e.SYSTEM_USER_ID="1414b520-62de-11dd-8050-000000000000",e[e.TIMEOUT_TILL_MESSAGE_IS_READ=500]="TIMEOUT_TILL_MESSAGE_IS_READ",e[e.UNREAD_MESSAGE_BADGE_ANIMATION=1e3]="UNREAD_MESSAGE_BADGE_ANIMATION",e[e.USER_MUTE_MESSAGES_ANMOUNT=60]="USER_MUTE_MESSAGES_ANMOUNT",e[e.USER_MUTE_TIMEOUT=1e4]="USER_MUTE_TIMEOUT",e.USER_CLUB_CHAT_MUTE_TIMEOUT="PT60M",e[e.USERS_PER_REQUEST=30]="USERS_PER_REQUEST",e[e.USERS_TRACK_STATUS_LIMIT=25]="USERS_TRACK_STATUS_LIMIT"}(r||(r={})),function(e){e.CHAT_LOAD_USER_POPOVER_BUNDLE="chat-load-user-popover-bundle",e.INIT_CHESS_TV_CHAT="init-chess-tv-chat",e.INIT_CLUB_CHAT="init-club-chat",e.INIT_EVENT_CHAT="init-event-chat"}(l||(l={})),function(e){e.EVERYONE="everyone",e.FRIENDS="friends",e.TITLED_PLAYERS="titled"}(u||(u={}));var O,j={CLUB_CHAT_CONTAINER:".club-chat-container",CLUB_CHAT_WIDGET:".club-chat-widget",EVENT_CHAT_CONTAINER:".event-chat-container",OPENED_CHATS_CONTAINER:".opened-chats-container",messageElement:function messageElement(e){return'[data-id="chat-message-'.concat(e,'"]')},messagesList:function messagesList(e){return'[data-id="chat-messages-list-'.concat(e,'"]')},MOUNTED_CHATS_CONTAINER:".opened-chats-list",lastServiceMessage:function lastServiceMessage(e){return'[data-id="chat-message-'.concat(e,'"] ~ .chat-messages-list-service-message:last-of-type')},TV_CHAT_CONTAINER:".tv-chat-container",USER_POPOVER_CONTAINER_ID:"user-popover",USER_POPOVER_LINK_ATTRIBUTE:"data-link-id"},y=n("./utils/translation/translation.helper.js"),w=n("./utils/router.js"),k=(O={accept:Object(y.trans)("Accept"),acceptAndChat:Object(y.trans)("Accept & Chat"),blockDirectChat:Object(y.trans)("Block this chat"),cancel:Object(y.trans)("Cancel"),cannotBeCreated:Object(y.trans)("This chat cannot be created."),cannotComment:Object(y.trans)("You are currently unable to comment with this account."),cannotSendMessagesTooOften:Object(y.trans)("You can chat only once every 10 seconds."),chatRequestSent:Object(y.trans)("Chat request sent"),chatViewOptions:Object(y.trans)("Chat View Options"),closeChat:Object(y.trans)("Close"),commandCreated:function commandCreated(e){return Object(y.trans)("Command /%1$s% has been created",{"%1$s%":e})},commandDeleted:function commandDeleted(e){return Object(y.trans)("Command /%1$s% has been deleted",{"%1$s%":e})},commandDoesNotExist:Object(y.trans)("Command doesn't exist"),commandFailed:Object(y.trans)("Command failed"),deactivateChat:Object(y.trans)("Hide"),decline:Object(y.trans)("Decline"),declinedChatRequest:function declinedChatRequest(e){return Object(y.trans)("You have declined to chat with %1$s%. You can change your mind and accept at any time.",{"%1$s%":e})},deleteMessage:Object(y.trans)("Delete message"),donationGiven:function donationGiven(e){var t=e.userFrom,n=e.userTo,a=e.value;return Object(y.trans)("%1$s% donated a %2$s% to %3$s%",{"%1$s%":t,"%2$s%":a,"%3$s%":n})},findUser:Object(y.trans)("Search..."),hideInactiveChats:Object(y.trans)("Active chats"),latestChat:Object(y.trans)("Latest Chat"),leaveChat:Object(y.trans)("Leave this chat"),loading:Object(y.trans)("Loading..."),membershipGiven:function membershipGiven(e){var t=e.membership,n=e.userFrom,a=e.userTo;return Object(y.trans)("%1$s% gifted a %2$s% to %3$s%",{"%1$s%":n,"%2$s%":t,"%3$s%":a})},message:Object(y.trans)("Message..."),minimizeChat:Object(y.trans)("Minimize"),moderatorMessage:Object(y.trans)("Moderator message:"),muted:Object(y.trans)("Muted"),gotIt:Object(y.trans)("Got it!"),pleaseSignUp:Object(y.trans)('Please <a href="%1$s%" target="_blank">Sign Up</a> to use the chat',{"%1$s%":w.default.generate("web_security_register")}),pleaseUpgrade:Object(y.trans)("Upgrade to get all emojis!"),popout:Object(y.trans)("Popout"),removeChat:Object(y.trans)("Remove chat"),restoreMessage:Object(y.trans)("Restore message"),rulesLink:Object(y.trans)('Please follow our Community Policy to keep Chess.com a fun and safe place to enjoy chess. If you don\'t follow the rules, your account may be restricted. <a href="https://www.chess.com/community" target="_blank">Learn more »</a>'),sendMessageError:Object(y.trans)("Message failed."),showInactiveChats:Object(y.trans)("Inactive chats"),sendMessageTo:Object(y.trans)("To:"),subscriptionFromStreamer:function subscriptionFromStreamer(e){var t=e.affiliate,n=e.membership,a=e.username;return Object(y.trans)("<strong>%1$s%</strong> upgraded to a Chess.com %2$s% - Thanks %3$s%!",{"%1$s%":a,"%2$s%":n,"%3$s%":t})},tooMuchMessages:Object(y.trans)("Relax! You are sending too many messages."),tooManyClubInvitations:Object(y.trans)('Please read <a href="%1$s%" target="_blank">How do I invite someone to join my club?</a>',{"%1$s%":"https://support.chess.com/article/329-how-do-i-invite-someone-to-join-my-club"}),tryAgain:Object(y.trans)("Resend"),unableToConnect:Object(y.trans)("Unable to connect to chat. Please refresh or login again."),usersAreUnavailable:function usersAreUnavailable(e){return Object(y.trans)("Sorry! %1$s% are not available to chat.",{"%1$s%":e})},userIsUnavailable:function userIsUnavailable(e){return Object(y.trans)("Sorry! %1$s% is not available to chat.",{"%1$s%":e})},userWasUnavailable:function userWasUnavailable(e){return Object(y.trans)("%1$s% declined to chat earlier. You can try again now.",{"%1$s%":e})},userWantsToChat:function userWantsToChat(e){return Object(y.trans)("%1$s% would like to chat",{"%1$s%":e})},userHasBeenMuted:function userHasBeenMuted(e,t){return Object(y.trans)("%1$s% has been muted by %2$s%",{"%1$s%":e,"%2$s%":t})},userHasBeenWarned:function userHasBeenWarned(e,t){return Object(y.trans)("%1$s% has been warned by %2$s%",{"%1$s%":e,"%2$s%":t})},usersOnline:function usersOnline(e){return Object(y.trans)("Users online: %1$s%",{"%1$s%":e})},warning:Object(y.trans)("Warning"),youHaveBeenMuted:Object(y.trans)("You have been muted."),youHaveBeenWarned:Object(y.trans)("You have been warned.")},b()(O,u.EVERYONE,Object(y.trans)("Everyone")),b()(O,u.FRIENDS,Object(y.trans)("Friends")),b()(O,u.TITLED_PLAYERS,Object(y.trans)("Titled Players")),O),E=n("./web/core/api/user/helper.js"),T=Object(E.b)("uuid"),N=window.context,C=N&&N.user&&N.user.isPremium,S=["avatarUrl","chessTitle","flairCode","isFriend","isStreamer","membership","username"]},"./core/modals/components/login-register.svelte.svelte.css":function(e,t,n){},"./core/modals/components/message-modal.svelte.svelte.css":function(e,t,n){},"./core/modals/components/old-browser-modal.svelte.svelte.css":function(e,t,n){},"./core/modals/components/shareable-game-url.svelte.svelte.css":function(e,t,n){},"./core/modals/components/three-loader-bounce.svelte.svelte.css":function(e,t,n){},"./core/modals/components/upgrade-modal-slideshow.svelte.svelte.css":function(e,t,n){},"./core/modals/components/upgrade-modal.svelte.svelte.css":function(e,t,n){},"./core/navigation/api/config.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return w})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return T}));var a=n("./utils/router.js"),s={amplitudeProps:"data-amplitude-props",speedChessChampionshipUrl:"data-speed-chess-championship-url",challengeUser:"data-challenge-user",loginAndGoRoute:"data-route-login-and-go",registerRoute:"data-route-register",routes:"data-routes"},r={ONBOARD:"Onboard - StartReg",SEARCH:"Search"},l=100,u=100,f={ALERTS:"alerts",CHALLENGES:"challenges",CHAT_MESSAGES:"chatMessages",GAMES:"games",MESSAGES:"messages"},_={CLOSE:"close",COLLAPSED:"collapsed",HOVER:"hover",NO_REDIRECT:"noredirect",OPEN:"open",WIDE:"wide"},b={CLUB_CHAT_MODERATOR_ACTION:"club-chat-moderator-action",CLOSE_SHAREABLE_URL_MODAL:"CLOSE_SHAREABLE_URL_MODAL",MODAL_DID_HIDE:"MODAL_DID_HIDE",OPEN_SHAREABLE_URL_MODAL:"OPEN_SHAREABLE_URL_MODAL",OPEN_SHAREABLE_URL_MODAL_FAILED:"OPEN_SHAREABLE_URL_MODAL_FAILED",SEND_NEW_GAME_SEEK:"SEND_NEW_GAME_SEEK",SEND_NEW_GAME_SEEK_SUCCESS:"SEND_NEW_GAME_SEEK_SUCCESS",SHOW_UPGRADE_MODAL:"SHOW_UPGRADE_MODAL",START_DIRECT_CHAT:"START_DIRECT_CHAT"},h={ANY:"any",DEFAULT_AND_USER:"default_and_user"},v={MOBILE_WIDTH:960,TOOLTIP_OFFSET:8},g={registerRoute:function registerRoute(e){return a.default.generate("web_security_register",{redirectUrl:e})},loginAndGoRoute:function loginAndGoRoute(e){return a.default.generate("web_security_login_and_go",{redirectUrl:e})}},O={FRIEND_RESULTS:".svelte-friend-result",LESSONS_CONTAINER:".lessons-container",LOGOUT_FORM:".form.logout",LOGOUT_TRIGGER:"#sb .logout",MAIN_NAV:"#sb",MAIN_NAV_CONNECT_LINK:"#sb .link.connect",MAIN_NAV_HOME_LINK:"#sb .link.home",MAIN_NAV_LINKS:"#sb .menu > .link",MAIN_NAV_LOGIN_LINK:"#sb .login",MAIN_NAV_PLAY_LINK:"#sb .link.play",MAIN_NAV_REGISTER_LINK:".signup.register",MAIN_TOP_NAV:"#sb .menu.top",MAIN_TOP_NAV_LINKS:"#sb .menu.top > .link",SEARCH_INPUT:'input[name="q"]',SIGN_UP:".signup",TOOLTIP:".svelte-tooltip",TOOLTIP_TRIGGER:"[data-tooltip-content]"},j={FACEBOOK:"facebook",TWITTER:"twitter"},y={TOOLTIP_SHOW_DELAY:400},w={COLLAPSED_NAV:"collapsed-nav"},k=2,E=5,T=3},"./core/navigation/api/helpers.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return C}));var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(a),r=n("./core/navigation/api/config.js"),l=n("./core/navigation/config/routes.js"),u=n("./core/utils/dom/has-touch.js"),f=n("./utils/amplitude/logger.js"),_=(n("./utils/window/post-message.ts"),n("./utils/browser.js"));function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=document.querySelector(r.n.MAIN_NAV),h=function generateMyTurnsLink(e){return Object(l.a)(e)},v=function getMainNav(){return null==b&&(b=document.querySelector(r.n.MAIN_NAV)),b},g=function commentIcon(e){return{article:"page",blog:"paper-pencil",chess_video:"play",chess_term:"chat",club:"users",forum_topic:"chat",game:"chess-move",lesson_course:"chat",master_player:"chat",news:"news",opening:"book-alt",survey:"question",tactics:"chess-board-puzzle",tournament:"order",team_match:"crossed-swords",votechess:"checkbox"}[e]},O=function countryCode(e){var t;return null==e||null===(t=e.country_code)||void 0===t?void 0:t.toLowerCase()},j=function getTvByUserLanguage(e){if(null!=e){var t;t=Array.isArray(e)?e:[e];var n=window.context.i18n,a=n.contentLanguage,s=n.locale,l=t.find((function(e){var t=e.language;return s===t}));return l||(a===r.h.DEFAULT_AND_USER||a===r.h.ANY?t.find((function(e){var t=e.language;return e.defaultLanguage===t})):void 0)}},y=function isLive(){return"/live"===window.location.pathname.substr(0,5)},w=u.a,k=function joinUrl(e){var t=e||window.location.href,n=v();return n?"".concat(n.getAttribute(r.b.registerRoute),"?redirectUrl=").concat(encodeURI(t)):r.m.registerRoute(e)},E=function loginUrl(e){var t=e||window.location.href,n=v();return n?"".concat(n.getAttribute(r.b.loginAndGoRoute),"?redirectUrl=").concat(encodeURI(t)):r.m.loginAndGoRoute(e)},T=function mountReplace(e,t){var n=document.createDocumentFragment(),a=new e(_objectSpread(_objectSpread({},t),{},{target:n}));return t.target.parentNode.replaceChild(n,t.target),a},N=function sendInvitation(e){var t="body=Play a daily game with me on chess.com by clicking on the following link ".concat(e," or copying and pasting into your browser.");Object(_.e)("subject=Play chess with me on Chess.com",t)},C=function sendSocialInvitation(e){var t=e.shareUrl,n=e.network,a=e.username,s='Play chess with me? I play on @chesscom as "'.concat(a,'." Click the link to play me in a daily game!!');!function openWindow(e){f.a.logSocialShare();var t=window.screen.width/2-280,n=window.screen.height/2-340,a="width=".concat(560,", height=").concat(510),s="left=".concat(t,", top=").concat(n);window.open(e,"_blank","".concat(a,",").concat(s,",").concat("resizable=no, status=no, menubar=no, scrollbars=no"))}(n===r.o.TWITTER?"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(s),"&url=").concat(encodeURIComponent(t)):"http://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(t)))}},"./core/navigation/components/avatar.svelte.html":function(e,t,n){"use strict";var a=n("./node_modules/svelte/shared.js");n("./core/navigation/components/avatar.svelte.svelte.css");function Avatar_svelte(e){Object(a.v)(this,e),this._state=Object(a.e)({},e.data),this._intro=!0,this._fragment=function create_main_fragment(e,t){var n,s,r,l,u;return{c:function c(){n=Object(a.i)("span"),s=Object(a.i)("img"),r=Object(a.k)("\n\n  "),l=Object(a.i)("span"),s.alt=t.username,s.width=t.size,s.height=t.size,s.src=t.src,l.className=u="status "+(t.online?"online":"")+" "+(t.live?"live":"")+" svelte-g0lln",n.className="component svelte-g0lln",Object(a.G)(n,"width",t.size+"px")},m:function m(e,t){Object(a.w)(e,n,t),Object(a.d)(n,s),Object(a.d)(n,r),Object(a.d)(n,l)},p:function p(e,t){e.username&&(s.alt=t.username),e.size&&(s.width=t.size,s.height=t.size),e.src&&(s.src=t.src),(e.online||e.live)&&u!==(u="status "+(t.online?"online":"")+" "+(t.live?"live":"")+" svelte-g0lln")&&(l.className=u),e.size&&Object(a.G)(n,"width",t.size+"px")},d:function d(e){e&&Object(a.q)(n)}}}(0,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object(a.e)(Avatar_svelte.prototype,a.z),t.a=Avatar_svelte},"./core/navigation/components/avatar.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/connect-search.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/home-notification-panel.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/my-turns.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/notification-controls.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/notification-item.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/notification-toaster.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/notification-toasters.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/notifications.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/offline-challenge-toaster.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/panel.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/players-clubs.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/puzzle-battle-challenge-toaster.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/user-connection.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/watch-playing-now.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/watch-streamers.svelte.svelte.css":function(e,t,n){},"./core/navigation/components/watch-tv.svelte.svelte.css":function(e,t,n){},"./core/navigation/config/constants.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));var a=n("./core/navigation/config/translations.js"),s={FRIENDS_TAB:0,CLUBS_TAB:1,CHATS_TAB:2},r={AMPLITUDE_SOURCE_NAV:"menu",DRILLS_NAV_EVENT:"Drills - Home",LESSONS_NAV_EVENT:"Lessons - Home",SOCIAL_VIEW_EVENT:"Social - ViewEvent",TACTICS_NAV_EVENT:"Tactics - Home",VIDEOS_NAV_EVENT:"Videos - Home",VISION_NAV_EVENT:"Vision - Home"},l={0:a.a.connectionOffline,1:a.a.connectionPoor,2:a.a.connectionOk,3:a.a.connectionGood,4:a.a.connectionExcellent}},"./core/navigation/config/routes.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}));var a={GAME_ILLEGAL_MOVE:100,RATING_MAX:3500,RATING_MIN:0,ACTIVE_DAY_CUTOFF:365,TIME_WARNING_SECONDS:28800,MAX_DAY_PER_MOVE:14,TIME_MULTIPLIER:10,DEFAULT_NAME:"Let's Play!",WELCOME_NAME:"Welcome to Chess.com!",MIN_CHEAT_POLICY_RATING:2e3,MIN_SUSPICIOUS_PLAY_RATING:2e3,MIN_SUSPICIOUS_PLAY_TOGGLE_PERC:75,MIN_SUSPICIOUS_PLAY_PLY_COUNT:40,MIN_PLY_COUNT_RATED:6,SPAM_CHECK_GAMES_MIN_LIMIT:5,SPAM_CHECK_NEW_PLAYERS_GAMES_MIN_LIMIT:10,DEFAULT_FEN_SHORT:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq",DEFAULT_FEN:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",ACCESS_LEVEL_SUPER_ADMIN:"super_admin",ACCESS_LEVEL_ADMIN:"admin",ACCESS_LEVEL_MEMBER:"member",ACTIVITY_TYPE_NEWS:"news",ACTIVITY_TYPE_EVENT:"event",ACTIVITY_TYPE_FORUM:"forum",ACTIVITY_TYPE_NOTES:"notes",POINT_VALUE:1,LAST_ACTIVITY_DATE_EXPIRATION_IN_MINUTES:10,MAX_PROBLEMS_PER_DAY_DEFAULT:3,AVERAGE_TIME_PER_MOVE:30,MIN_ATTEMPT_COUNT:20,MIN_SCORE_TO_BE_QUEUED:5,BEST_SCORE:0,DEAD_SCORE:10,MIN_RATING:400,MAX_ATTEMPT_LOGGED_OUT:10,USER_FEED_MAX_PAGES:4,USER_FEED_ITEMS_FIRST_PAGE:5,USER_FEED_ITEMS_PER_PAGE:20,STD_PROP_LIST:1,ARRAY_AS_PROPS:2,DEFAULT_LOCALE:"en_US",DEFAULT_LANGUAGE_CODE:"en",DEFAULT_LANGUAGE_DIRECTION:"ltr",DEFAULT_MAX_YEAR_INCREASE:5,CONTENT_ITEMS_PER_PAGE:25,LEADERBOARD_ITEMS_PER_PAGE:50,I18N_DEFAULT_LOCALE:"en_US"},s=n("./utils/router.js"),r=function dailyPlay(e){return s.default.generate("web_game_daily",{id:e})},l=window.context&&window.context.locale?window.context.locale:a.I18N_DEFAULT_LOCALE,u={home:s.default.generate("web_user_home"),live:s.default.generate("web_live"),loginAndGoRoute:function loginAndGoRoute(e){return s.default.generate("web_security_login_and_go",{redirectUrl:e})},logout:s.default.generate("web_security_logout"),membership:s.default.generate("web_membership",{c:"navbarsvelte"}),messages:s.default.generate("web_message_index"),playUrl:function playUrl(e){return"chess.com".concat(s.default.generate("web_member_play",{username:e}))},stats:s.default.generate("web_stats"),themes:s.default.generate("web_user_settings_themes"),registerRoute:function registerRoute(e){return s.default.generate("web_security_register",{redirectUrl:e})},settings:s.default.generate("web_user_settings_edit"),support:"https://support.chess.com/",topPlayerObserve:function topPlayerObserve(e){return"".concat(s.default.generate("web_live"),"#follow=").concat(e)},tv:["en_US","en"].includes(l)?s.default.generate("web_tv"):s.default.generate("i18n_web_tv",{_locale:l.substr(0,2)})}},"./core/navigation/config/translations.js":function(e,t,n){"use strict";var a=n("./utils/translation/translation.helper.js");t.a={accept:Object(a.trans)("Accept"),achievements:Object(a.trans)("Achievements"),alerts:Object(a.trans)("Alerts"),analysis:Object(a.trans)("analysis",{},"mobile"),archive:Object(a.trans)("Archive"),articles:Object(a.trans)("articles",{},"mobile"),awards:Object(a.trans)("Awards"),blogs:Object(a.trans)("Blogs"),books:Object(a.trans)("Books"),cancel:Object(a.trans)("Cancel"),captchaPlaceholder:Object(a.trans)("Enter text to continue"),coaches:Object(a.trans)("Coaches"),challengeAnytime:function challengeAnytime(e){return Object(a.trans)("Friends can directly challenge you anytime at: %url%",{"%url%":e})},changeSettings:Object(a.trans)("Change settings"),chat:Object(a.trans)("Chat"),chessKid:Object(a.trans)("ChessKid"),chessTv:Object(a.trans)("ChessTV",{},"mobile"),chessToday:Object(a.trans)("Chess Today"),clearAll:Object(a.trans)("Clear Alerts"),clubs:Object(a.trans)("Clubs"),computer:Object(a.trans)("computer",{},"mobile"),computerChampionship:Object(a.trans)("Computer Championship"),connectionExcellent:Object(a.trans)("lag.connection_excellent",null,"live"),connectionGood:Object(a.trans)("lag.connection_good",null,"live"),connectionOffline:Object(a.trans)("lag.connection_offline",null,"live"),connectionOk:Object(a.trans)("lag.connection_ok",null,"live"),connectionPoor:Object(a.trans)("lag.connection_poor",null,"live"),copy:Object(a.trans)("Copy"),dailyChess:Object(a.trans)("daily_chess",{},"mobile"),dailyPuzzle:Object(a.trans)("Daily Puzzle"),decline:Object(a.trans)("Decline"),drills:Object(a.trans)("drills",{},"mobile"),events:Object(a.trans)("Events"),explorer:Object(a.trans)("Explorer"),forums:Object(a.trans)("forums",{},"mobile"),fourPlayerChess:Object(a.trans)("4 Player Chess"),freeTrial:Object(a.trans)("Free Trial"),friends:Object(a.trans)("friends",{},"mobile"),flair:Object(a.trans)("Want Your Own Flair?"),help:Object(a.trans)("Help"),home:Object(a.trans)("Home"),join:Object(a.trans)("Join"),leaderboard:Object(a.trans)("Leaderboard"),lessons:Object(a.trans)("lessons",{},"mobile"),linkExpires:Object(a.trans)("Link expires in"),live:Object(a.trans)("Live"),liveChess:Object(a.trans)("live_chess",{},"mobile"),liveRankings:Object(a.trans)("Chess Rankings"),loading:Object(a.trans)("Loading"),login:Object(a.trans)("Login"),loginOrJoin:Object(a.trans)("Login or join to play"),logOut:Object(a.trans)("Log Out"),masterGames:Object(a.trans)("Master Games"),members:Object(a.trans)("Members"),membership:Object(a.trans)("Membership"),merch:Object(a.trans)("Merch"),message:Object(a.trans)("Message"),messages:Object(a.trans)("messages",{},"mobile"),mobileApps:Object(a.trans)("Mobile Apps"),myTurn:Object(a.trans)("My Turn"),newGame:Object(a.trans)("New Game"),new:Object(a.trans)("New"),news:Object(a.trans)("news",{},"mobile"),noAlerts:Object(a.trans)("No Alerts"),onboardModalButtonText:Object(a.trans)("Start Free Trial"),onboardModalHideText:Object(a.trans)("Skip Trial"),onboardModalSubtitle:Object(a.trans)("Get the tools you need to master the game of chess."),onboardModalTitle:Object(a.trans)("Try Chess.com Premium for Free"),openings:Object(a.trans)("Openings"),or:Object(a.trans)("or"),otherGames:Object(a.trans)("Other Games"),playOnline:Object(a.trans)("Play"),playMeSocial:function playMeSocial(e){return Object(a.trans)('Play chess with me? I play on @chesscom as "%user%". Click the link to play me in a daily game!',{"%user%":e})},playMeEmail:function playMeEmail(e){return Object(a.trans)('Play chess with me? I play on chess.com as "%user%". Click the link to play me in a daily game!',{"%user%":e})},playingNow:Object(a.trans)("Playing Now"),pleaseEnter:Object(a.trans)("Please enter %number% or more characters",{"%number%":3}),proChessLeague:Object(a.trans)("PRO Chess League"),profile:Object(a.trans)("Profile"),puzzleBattle:Object(a.trans)("Puzzle Battle"),puzzleBattleChallengeMessage:function puzzleBattleChallengeMessage(e,t,n){return Object(a.trans)("<strong>%user%</strong> (%rating%) challenges you to a Puzzle Battle!",{"%user%":'<strong id="'.concat(n,'">').concat(e,"</strong>"),"%rating%":t})},puzzleRush:Object(a.trans)("Puzzle Rush"),puzzles:Object(a.trans)("Puzzles"),resources:Object(a.trans)("Resources"),restricted:function restricted(e,t){switch(e){case 1:return Object(a.trans)("You cannot send messages to Guest accounts.");case 2:return Object(a.trans)("%username% only accepts messages from friends.",{"%username%":"<strong>".concat(t,"</strong>")});case 3:return Object(a.trans)("You are blocked from sending %username% messages.",{"%username%":"<strong>".concat(t,"</strong>")});case 4:return Object(a.trans)("Your privacy settings only allow you to message friends.");case 5:return Object(a.trans)("You cannot send a message to yourself.");case 6:return Object(a.trans)("You are currently unable to message with this account.");case 7:return Object(a.trans)("Your message is too large to send.");default:return""}},rules:Object(a.trans)("Rules"),searchUsername:Object(a.trans)("Search username..."),send:Object(a.trans)("Send"),sendFriendRequest:Object(a.trans)("Send Friend Request"),settings:Object(a.trans)("settings",{},"mobile"),shareLink:Object(a.trans)("Share this link with anyone to play."),shop:Object(a.trans)("Shop"),signUp:Object(a.trans)("Sign Up"),soloChess:Object(a.trans)("Solo Chess"),speedChessChampionship:Object(a.trans)("Speed Chess Championship"),stats:Object(a.trans)("stats",{},"mobile"),streamers:Object(a.trans)("Streamers"),tactics:Object(a.trans)("tactics",{},"mobile"),terms:Object(a.trans)("Chess Terms"),theme:Object(a.trans)("Theme"),themes:Object(a.trans)("Themes"),topPlayers:Object(a.trans)("Top Players"),tournaments:Object(a.trans)("tournaments",{},"mobile"),typeClubName:Object(a.trans)("Type club name..."),typeFriendName:Object(a.trans)("Type friend name..."),variants:Object(a.trans)("Variants"),videos:Object(a.trans)("videos",{},"mobile"),vision:Object(a.trans)("vision",{},"mobile"),voteChess:Object(a.trans)("Vote Chess"),waitHere:Object(a.trans)("Wait here for your opponent.")}},"./core/navigation/index.js":function(e,t,n){"use strict";n.r(t);var a=n("./utils/http/index.js"),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(s),l="data-feature-events-redirect",u="data-is-live",f="data-feature-is-not-messageable-reason",_="data-feature-library",b="data-feature-navigation-user-connection",h="data-feature-redirect-to-web-page-play",v="data-badge-count",g="data-badge-text",O="data-badge",j="data-seek-is-seeker",y="data-seek-short-uuid",w="data-seek-share-link",k="puzzle-battle-challenge-toaster",E="puzzle-battle-challenge-user",T="home-sb-notifications",N="login-register-modal",C="offline-challenge-toaster",S="sb",A="notification-toasters",L="shareable-game-url-modal",P="shareable-game-short-uuid",M=".svelte-badge",I={},x=document.getElementById(S),D=function hasFeatureAccess(e,t){var n=t||x;return I[e]||(I[e]=Boolean(n&&n.getAttribute(e))),I[e]},R=n("./core/navigation/api/config.js"),U=n("./utils/router.js");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function getUserPopup(e){var t=U.default.generate("web_user_callback_popup",{username:e});return a.default.get(t)},F=function setPosition(e){var t=U.default.generate("web_user_callback_update_navigation_state",{state:e});return a.default.put(t)},$=function sendMessage(e){var t=e.username,n=e.message,s=e.code,r=U.default.generate("web_message_callback_create",{username:t});return a.default.post(r,{message:n,code:s,_token:window.context.csrf.token}).catch((function(e){return e.response}))},H=function sortClubs(e){return e.sort((function(e,t){return e.last_activity<t.last_activity?1:-1}))},G=function transformEvents(e){return e.slice(0,R.i).map((function(e){return D(l)&&(e.url=e.url.replace("/events/","/watch/")),e}))},q=function transformPlayers(e){return null==e?[]:e.map((function(e){return _objectSpread(_objectSpread({},e),{},{title:e.title?e.title.toUpperCase():void 0})})).sort((function(e,t){return e.rating<t.rating?1:-1})).slice(0,R.j)},B=function transformStreamers(e){return e.slice(0,R.k)},W={ADD_ACHIEVEMENT:"ADD_ACHIEVEMENT",DECREMENT_MESSAGE_COUNT:"DECREMENT_MESSAGE_COUNT",HIDE_USER_POPOVER:"HIDE_USER_POPOVER",LOAD_ACHIEVEMENTS_MODAL:"LOAD_ACHIEVEMENTS_MODAL",LOGIN_OR_REGISTER_MODAL:"LOGIN_OR_REGISTER_MODAL",NOTIFICATIONS_FETCHED:"NOTIFICATIONS_FETCHED",REMOVE_ACHIEVEMENTS_MODAL:"REMOVE_ACHIEVEMENTS_MODAL",REMOVE_CHECK_GAME_ALERT:"REMOVE_CHECK_GAME_ALERT",REMOVE_GAME_COMMENT_ALERT:"REMOVE_GAME_COMMENT_ALERT",REMOVE_READY_GAME_ALERT:"REMOVE_READY_GAME_ALERT",SHOW_MESSAGE_MODAL:"SHOW_MESSAGE_MODAL",SHOW_USER_POPOVER:"SHOW_USER_POPOVER",SOUND_ENABLED:"SOUND_ENABLED"},V=[];[function detectAchievements(e){if(e.headers["x-chesscom-achievement-award"]){var t=JSON.parse(e.headers["x-chesscom-achievement-award"]);t.forEach((function(e){V.includes(e.code)||(window.postMessage({key:W.ADD_ACHIEVEMENT,achievement:e},window.location.origin),V.push(e.code))})),t.length&&(!function deleteAchievements(){var e=U.default.generate("web_achievement_callback_delete_new_achievements");a.default.delete(e)}(),t.length=0)}return e}].forEach((function(e){return a.default.interceptors.response.use(e,(function(e){return Promise.reject(e)}))}));var K=n("./node_modules/@babel/runtime/regenerator/index.js"),Y=n.n(K),Z=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Q=n.n(Z),J=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),X=n.n(J),ee=n("./node_modules/@babel/runtime/helpers/createClass.js"),te=n.n(ee),ne=n("./node_modules/@babel/runtime/helpers/inherits.js"),ae=n.n(ne),se=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),re=n.n(se),oe=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),ce=n.n(oe),ie=n("./node_modules/svelte/store.js"),le=function nl2br(e){return e?e.toString().replace(/(?:\r\n|\r|\n)/g,"<br>"):""};function enableMessageField(){var e=document.querySelector("#message-modal .form-textarea");e&&(e.classList.remove("disabled"),e.removeAttribute("readonly"))}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,a=ce()(e);if(t){var s=ce()(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return re()(this,n)}}var ue={name:"message",state:{avatar_url:null,captcha:null,errorMessage:"",is_in_livechess:!1,is_online:!1,isFriendable:!1,isMessageable:!0,message:"",notMessageableReasonCode:"",sending:!1,show:!1,success:!1,username:null,userId:null},Store:function(e){ae()(MessageStore,e);var t,n=_createSuper(MessageStore);function MessageStore(){return X()(this,MessageStore),n.apply(this,arguments)}return te()(MessageStore,[{key:"hydrateUser",value:(t=Q()(Y.a.mark((function _callee(){var e,t,n,a;return Y.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return e=this.get(),t=e.username,s.next=3,z(t);case 3:n=s.sent,a=n.data,this.set({isFriendable:!a.isFriendRequestExists&&!a.isFriendRequestFromUserExists,isMessageable:a.isMessageable,notMessageableReasonCode:a.notMessageableReasonCode,userId:a.userId});case 6:case"end":return s.stop()}}),_callee,this)}))),function hydrateUser(){return t.apply(this,arguments)})},{key:"sendMessage",value:function sendMessage(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.get(),a=n.username,s=n.message;this.set({sending:!0}),$({username:a,message:le(s),code:t}).then((function(t){200===t.status?(e.set({captcha:null,sending:!1,success:!0,errorMessage:""}),setTimeout((function(){enableMessageField(),e.set({message:""}),e.hide()}),2e3)):(e.set({captcha:t.data.captcha,sending:!1,success:!1,errorMessage:t.data.message}),enableMessageField())})).catch((function(t){e.set({errorMessage:t.response.message,sending:!1})}))}},{key:"hide",value:function hide(){this.set({avatar_url:null,captcha:null,errorMessage:"",is_in_livechess:!1,is_online:!1,isFriendable:!1,isMessageable:!0,message:"",notMessageableReasonCode:"",sending:!1,show:!1,success:!1,username:null,userId:null})}},{key:"getCaptcha",value:function getCaptcha(){var e=this;(function getCaptcha(){var e=U.default.generate("web_message_callback_add_captcha");return a.default.get(e)})().then((function(t){e.set({captcha:t.data.captcha})}))}}]),MessageStore}(ie.a)},de=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),fe=n.n(de),_e="created",be="cancelled",he=function challengeAccept(e){return"".concat(U.default.generate("web_puzzles_mode",{mode:"battle"}),"#accept=").concat(e)},me=function challengeDecline(e){return U.default.generate("web_tactics_battle_callback_challenge_deny",{id:e})},pe=function challengeList(){return U.default.generate("web_tactics_battle_callback_challenge_list",{direction:"incoming"})},ve=function puzzleBattle(){return U.default.generate("web_puzzles_mode",{mode:"battle"})},ge="register_challenge_toaster_handler",Oe="unregister_challenge_toaster_handler",je=function fetchChallenges(){return a.default.get(pe())},ye=n("./core/pubsub/events/constants.ts"),we=function(){var e=Q()(Y.a.mark((function _callee(){return Y.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!window.PubSub||!window.PubSub.client){e.next=2;break}return e.abrupt("return",Promise.resolve(window.PubSub));case 2:return e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:return e.abrupt("return",we());case 5:case"end":return e.stop()}}),_callee)})));return function getPubSub(){return e.apply(this,arguments)}}(),ke=n("./web/core/api/user/helper.js"),Ee=function getUserChallengesChannel(){return"battle/challenges/".concat(function getUserUuid(){return Object(ke.b)("uuid")}())},Te=n("./utils/object.js");function store_createSuper(e){var t=function store_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,a=ce()(e);if(t){var s=ce()(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return re()(this,n)}}var Ne,Ce=null,Se={name:"puzzleBattle",state:{challenges:[]},Store:function(e){ae()(PuzzleBattleStore,e);var t,n,s=store_createSuper(PuzzleBattleStore);function PuzzleBattleStore(){return X()(this,PuzzleBattleStore),s.apply(this,arguments)}return te()(PuzzleBattleStore,[{key:"init",value:(n=Q()(Y.a.mark((function _callee(){return Y.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("message",this.onWindowMessage.bind(this)),this.fetchChallenges(),e.next=4,we();case 4:Ce=e.sent,this.initPubsub();case 6:case"end":return e.stop()}}),_callee,this)}))),function init(){return n.apply(this,arguments)})},{key:"initPubsub",value:function initPubsub(){Ce.isAttached()?this.subscribe():Ce.on(ye.a.CONNECT,this.subscribe),Ce.on("".concat(ye.a.MESSAGE,":").concat(Ee()),this.handleChallengeMessage.bind(this))}},{key:"subscribe",value:function subscribe(){Ce.subscribe(Ee())}},{key:"fetchChallenges",value:(t=Q()(Y.a.mark((function _callee2(){var e,t,n=this;return Y.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,je();case 2:e=a.sent,(t=e.data.challenges)&&this.set({challenges:t.filter((function(e){return e.id!==n.getExcludedChallengeId()}))});case 5:case"end":return a.stop()}}),_callee2,this)}))),function fetchChallenges(){return t.apply(this,arguments)})},{key:"acceptChallenge",value:function acceptChallenge(e){this.removeChallengeById(e.id),Ne&&Ne.accept?Ne.accept(e):window.location=he(e.id)}},{key:"declineChallenge",value:function declineChallenge(e){if(this.removeChallengeById(e.id),!Ne||!Ne.decline)return function declineChallenge(e){return a.default.post(me(e))}(e.id);Ne.decline(e)}},{key:"handleChallengeMessage",value:function handleChallengeMessage(e){var t=e.message,n=t.event,a=t.challenge;switch(n){case be:this.removeChallengeById(a.id);break;case _e:this.addChallenge(Object(Te.b)(a))}}},{key:"addChallenge",value:function addChallenge(e){if(!Ne||!Ne.filter||Ne.filter(e)){var t=this.get().challenges;this.set({challenges:[].concat(fe()(t),[e])})}}},{key:"removeChallengeById",value:function removeChallengeById(e){var t=this.get().challenges;this.set({challenges:fe()(t.filter((function(t){return t.id!==e})))})}},{key:"filterChallenges",value:function filterChallenges(){if(Ne&&Ne.filter){var e=this.get().challenges;this.set({challenges:e.filter((function(e){return Ne.filter(e)}))})}}},{key:"getExcludedChallengeId",value:function getExcludedChallengeId(){var e=function hashParamsToObject(e){return e&&"#"===e[0]?e.match(/[^#&=]+/g).reduce((function(e,t,n,a){return n%2?e[a[n-1]]=t:e[t]=null,e}),{}):{}}(window.location.hash);if(e.accept&&window.location.href.includes(ve()))return e.accept}},{key:"onWindowMessage",value:function onWindowMessage(e){var t=e.data;if(t&&t.event)switch(t.event){case ge:Ne=window.chesscom.puzzleBattleChallengeHandler,this.filterChallenges();break;case Oe:Ne=null}}}]),PuzzleBattleStore}(ie.a)},Ae=n("./node_modules/@babel/runtime/helpers/typeof.js"),Le=n.n(Ae),Pe=n("./core/navigation/api/helpers.js"),Me=n("./core/navigation/config/constants.js"),Ie=n("./utils/i18n.js"),xe=n("./utils/translator.js"),De={badRequest:xe.default.trans("Oops. Looks like there was an error. Sorry! Please refresh.")},Re=(xe.default.trans("Avatar uploaded"),xe.default.trans("Thank you for your comment."),xe.default.trans("Comment deleted."),xe.default.trans("You cannot send an empty comment"),xe.default.trans("Comment marked as spam."),xe.default.trans("Comment updated."),xe.default.trans("Comment link is copied to clipboard"),xe.default.trans("Copied to clipboard"),xe.default.trans("All forum topics have been marked as read"),xe.default.trans("Feature Set! It might take a minute or two to appear."),xe.default.trans("Please select the players for whom to send the invitation"),xe.default.trans("Your invitations were sent successfully"),xe.default.trans("PGN copied to buffer"),"error"),Ue="success",ze="create-header-alert",Fe=function getMessageFromErrorOrDefault(e){return function getMessageFromError(e){if(e.response&&401!==e.response.status)return(e.response.data&&e.response.data.message?e.response.data.message:De.badRequest)||e.response.statusText}(e)||xe.default.trans("An error occurred")},$e=3e4,He={achievement:"user_achievements",arenaTrophy:"user_arena_trophy",challenge:"game_seek",clubForum:"user_group_forum",clubForumUpdate:"user_group_forum_new",clubNews:"user_group_news",clubNewsUpdate:"user_group_news_new",clubNote:"user_group_note",comment:"new_comment",content:"has_new_content",friendRequest:"friend_request",game:"game",groupActivity:"user_group_activity",groupRequest:"user_group_request",note:"user_comment",offlineChallenge:"offline_challenges",teamLiveCompetition:"team_live_competition",teamMatch:"team_match_game",tournament:"tournament_game",trophy:"user_trophy",voteChessGame:"votechess_game"},Ge={achievements:function achievements(e){return U.default.generate("web_awards_achievements",{username:e})},activity:"".concat(U.default.generate("web_user_home",{alert:"content"}),"#new_content"),challenge:function challenge(e){return U.default.generate("web_daily_seek",{id:e})},challenges:U.default.generate("web_daily_index"),clubForum:function clubForum(e){return U.default.generate("web_club_forum",{url:e})},clubForumUpdate:function clubForumUpdate(e){return U.default.generate("web_forum_view",{url:e})},clubNews:function clubNews(e){return U.default.generate("web_club_news",{club:e})},clubNewsUpdate:function clubNewsUpdate(e){return U.default.generate("web_news_view",{url:e})},clubNote:function clubNote(e){return U.default.generate("web_club_profile",{url:e})},clubRequest:function clubRequest(e){return U.default.generate("web_club_pending_requests",{url:e})},clubs:U.default.generate("web_club"),comment:function comment(e){return e},comments:U.default.generate("web_user_home"),friendRequest:function friendRequest(e){return U.default.generate("web_member_view",{username:e})},friendRequests:U.default.generate("web_friends"),game:function game(e){return U.default.generate("web_game_daily",{id:e})},live:function live(e){return"".concat(U.default.generate("web_live"),"#accept-challenge=").concat(e)},liveEvent:function liveEvent(e,t){return"".concat(U.default.generate("web_live"),"#").concat(t,"=").concat(e)},liveEventType:{"Chess\\WebBundle\\Entity\\LiveTournament":"t","Chess\\WebBundle\\Entity\\LiveArena":"r","Chess\\WebBundle\\Entity\\TeamMatchLive":"tm"},liveSettings:U.default.generate("web_user_settings_livechess"),liveTeamMatch:function liveTeamMatch(e){return U.default.generate("web_team_match_live_view",{match:e})},note:function note(e){return"".concat(U.default.generate("web_member_view",{username:e,alert:"notes"}),"#new-notes")},settings:U.default.generate("web_user_settings_notifications"),teamMatch:function teamMatch(e){return U.default.generate("web_game_daily",{id:e})},teamMaches:U.default.generate("web_club_open_matches"),tournament:function tournament(e){return U.default.generate("web_game_daily",{id:e})},trophies:function trophies(e){return U.default.generate("web_awards_trophies",{username:e})},trophy:function trophy(e,t){return U.default.generate("web_awards_view_trophy",{username:e,type:"trophy",userTrophyId:t})},arenaTrophy:function arenaTrophy(e,t){return U.default.generate("web_awards_view_trophy",{username:e,type:"arena",userTrophyId:t})},voteChess:U.default.generate("web_votechess"),voteChessGame:function voteChessGame(e){return U.default.generate("web_votechess_game",{id:e})}},qe="bughouse",Be="chess",We="chess960",Ve="crazyhouse",Ke="kingofthehill",Ye="threecheck",Ze="analysis",Qe={RANDOM:0,WHITE:1,BLACK:2},Je=n("./utils/translation/translation.helper.js"),Xe=[{description:Object(Je.trans)("Normal rules of chess."),icon:"chess-board",isDaily:!0,isLive:!0,label:Object(Je.trans)("Standard"),value:Be},{description:Object(Je.trans)("Normal rules, but starting position is random."),icon:"chess960",isDaily:!0,isLive:!1,label:Object(Je.trans)("Chess960"),value:We},{description:Object(Je.trans)("Normal rules, but starting position is random."),icon:"live960",isDaily:!1,isLive:!0,label:Object(Je.trans)("Live960"),value:We},{description:Object(Je.trans)("First to check the other king 3 times wins."),icon:"threecheck",isDaily:!1,isLive:!0,label:Object(Je.trans)("3 Check"),value:Ye},{description:Object(Je.trans)("First to get king to middle 4 squares wins."),icon:"kingofthehill",isDaily:!1,isLive:!0,label:Object(Je.trans)("King of the Hill"),value:Ke},{description:Object(Je.trans)("When you capture a piece, you can drop it on your turn!"),icon:"crazyhouse",isDaily:!1,isLive:!0,label:Object(Je.trans)("Crazyhouse"),value:Ve},{description:Object(Je.trans)("Team up with another player and you can drop the pieces that they capture."),icon:"bughouse",isDaily:!1,isLive:!0,label:Object(Je.trans)("Bughouse"),value:qe},{description:Object(Je.trans)("An interactive & graphical tool for analysing chess positions and games in real time."),icon:"chess-board-search",isDaily:!1,isLive:!0,label:Object(Je.trans)("Live Analysis Board"),value:Ze}],et=(Object(Je.trans)("Random"),Object(Je.trans)("White"),Object(Je.trans)("Black"),Object(Je.trans)("Any"),Object(Je.trans)("12 hours"),Object(Je.trans)("6 hours"),Object(Je.trans)("3 hours"),n("./web/core/api/user/config.js")),tt={challengeShortUrl:function challengeShortUrl(e){return U.default.generate("web_game_seek_challenge",{shortUuid:e},!0)},cancelShareableChallengeUrl:function cancelShareableChallengeUrl(e){return U.default.generate("web_game_seek_callback_delete_live_challenge",{shortUuid:e})},createShareableChallengeUrl:U.default.generate("web_game_callback_shareable_chess_challenge"),dailyChallenge:function dailyChallenge(e){return U.default.generate("web_game_callback_daily_chess_challenge",{opponent:e})},dailySeek:function dailySeek(e){return U.default.generate("web_daily_seek",{id:e})},dynBoardImage:function dynBoardImage(e){return U.default.generate("web_dynboard",{board:"green",fen:e,piece:"neo",size:"3"})},getOpenChallenges:U.default.generate("web_game_seek_callback_open_seeks"),index:U.default.generate("web_index",{},!0),joinableTournaments:U.default.generate("web_tournaments_callback_joinable"),live:U.default.generate("web_live"),liveAnalysis:"".concat(U.default.generate("web_live"),"#examine"),liveArenaTournament:function liveArenaTournament(e){return"".concat(U.default.generate("web_live"),"#r=").concat(e)},liveTournament:function liveTournament(e){return"".concat(U.default.generate("web_live"),"#t=").concat(e)},playOnline:function playOnline(){return"".concat(U.default.generate("web_play"))},playOnlineNew:function playOnlineNew(){return"".concat(U.default.generate("web_play_new"))},playPage:function playPage(){return"".concat(U.default.generate("web_page_play"))},playUrl:function playUrl(e){return"chess.com".concat(U.default.generate("web_member_play",{username:e}))},playVsComputer:function playVsComputer(e){return U.default.generate("web_play_computer",{difficulty:e})},randomDailyChallenge:U.default.generate("web_game_callback_random_daily_chess_challenge"),recentOpponents:U.default.generate("web_user_callback_recent_opponents"),startingPositions:U.default.generate("web_eco_callback_search_by_starting_position"),tournament:function tournament(e){return U.default.generate("web_tournament_view",{url:e})},userRatings:U.default.generate("web_game_callback_ratings")},nt=(Object(Je.trans)("Allow Takebacks?"),Object(Je.trans)("Apply"),Object(Je.trans)("Avoid Time-Outs"),Object(Je.trans)("Challenge Friend"),Object(Je.trans)("Challenge Link"),Object(Je.trans)("Challenge via Email"),Object(Je.trans)("Chessboard Preview"),Object(Je.trans)("Change"),Object(Je.trans)("Choose..."),Object(Je.trans)("Choose Type"),Object(Je.trans)("Choose a Chess.com member."),Object(Je.trans)("Computer"),Object(Je.trans)("Create Challenge"),Object(Je.trans)("Create Challenge Link"),Object(Je.trans)("Custom Challenge"),Object(Je.trans)("Custom Time"),Object(Je.trans)("Daily"),Object(Je.trans)("Daily Challenges"),Object(Je.trans)("Email"),Object(Je.trans)("Friends"),Object(Je.trans)("inc"),Object(Je.trans)("I Play As"),Object(Je.trans)("Join a Tournament"),Object(Je.trans)("Live"),Object(Je.trans)("Live Challenges"),Object(Je.trans)("Max time per move"),Object(Je.trans)("min"),Object(Je.trans)("Minimum Games Played"),function minWithAmount(e){return Object(Je.trans)("%amount% min",{"%amount%":e})}),at=(Object(Je.trans)("More"),Object(Je.trans)("Move Speed"),Object(Je.trans)("New Game"),Object(Je.trans)("OK"),Object(Je.trans)("Online"),Object(Je.trans)("Open Challenges"),Object(Je.trans)("Opponent Rating"),Object(Je.trans)("Optional"),Object(Je.trans)("Options"),Object(Je.trans)("Play"),Object(Je.trans)("Players"),Object(Je.trans)("Premium Members Only"),Object(Je.trans)("Quick Play"),Object(Je.trans)("Rated"),Object(Je.trans)("Recent Opponents"),Object(Je.trans)("sec"),function secsWithAmount(e){return Object(Je.trans)("%amount% sec",{"%amount%":e})}),st=(Object(Je.trans)("Select Time"),Object(Je.trans)("Send a link for anyone to play."),Object(Je.trans)("Setup"),Object(Je.trans)("Sign Up"),Object(Je.trans)("Starts"),Object(Je.trans)("Time"),Object(Je.trans)("Title"),Object(Je.trans)("Total time per side"),Object(Je.trans)("Type"),Object(Je.trans)("Username"),Object(Je.trans)("Username or Email"),Object(Je.trans)("vs Random"),function getLiveTimeLabel(e){return function formatTimeLabel(e){var t=e.mins,n=e.secs,a=e.inc;return a?t>0?"".concat(t," | ").concat(a):"".concat(Number(n/100).toFixed(2)," | ").concat(a):t>0?nt(t):at(n)}(function getLiveTime(e){var t=e.baseTime,n=e.increment,a=Math.trunc(t/10),s=0;return a>=60&&(s=Math.trunc(a/60),a=0),{inc:n/10,mins:s,secs:a}}({baseTime:e.baseTime,increment:e.increment}))}),rt={achievements:xe.default.trans("Achievements"),activity:function activity(e){return xe.default.trans("New post from %user%",{"%user%":"<strong>".concat(e,"</strong>")})},activityTitle:xe.default.trans("Activity"),addNotificationPanelToHome:xe.default.trans("Add to sidebar"),arenaTrophy:function arenaTrophy(e){return xe.default.trans("You earned <strong>".concat(e,"</strong> trophy"))},challenge:function challenge(e){return xe.default.trans("%user% wants to play",{"%user%":"<strong>".concat(e,"</strong>")})},challenges:xe.default.trans("Challenges"),clubActivity:xe.default.trans("Club Activity"),clubForum:function clubForum(e){return xe.default.trans("%club% has a new topic",{"%club%":"<strong>".concat(e,"</strong>")})},clubForumUpdate:function clubForumUpdate(e,t){return"".concat(xe.default.trans("%club% has a new topic",{"%club%":"<strong>".concat(e,"</strong>")})," <strong>").concat(t,"</strong>")},clubNews:function clubNews(e){return xe.default.trans("%club% posted news",{"%club%":"<strong>".concat(e,"</strong>")})},clubNewsUpdate:function clubNewsUpdate(e,t){var n=xe.default.trans("%club% posted news",{"%club%":"<strong>".concat(e,"</strong>")});return"".concat(n," <strong>").concat(t,"</strong>")},clubNote:function clubNote(e){return xe.default.trans("%club% has a new note",{"%club%":"<strong>".concat(e,"</strong>")})},clubRequest:function clubRequest(e,t){var n=xe.default.trans("%user% wants to join",{"%user%":"<strong>".concat(t,"</strong>")});return"".concat(n," <strong>").concat(e,"</strong>")},clubRequests:xe.default.trans("Club Requests"),comment:function comment(e){return"<strong>".concat(e,"</strong>")},commentCount:function commentCount(e){var t=xe.default.transChoice("{0} 0 new |{1} 1 new |]1,Inf] %commentsCount% new",e,{"%commentsCount%":e});return"<span>(".concat(t,")</span>")},comments:xe.default.trans("Comments"),friendRequest:function friendRequest(e,t){var n="<strong>".concat(e,"</strong>");return t!==et.a.code&&(n+=' <span class="flair-component flair-inline flair-'.concat(t,'"></span>')),xe.default.trans("%user% wants to be friends",{"%user%":n})},friendRequests:xe.default.trans("Friend Requests"),game:function game(e){return xe.default.trans("Check your game vs %user%",{"%user%":"<strong>".concat(e,"</strong>")})},games:xe.default.trans("Games"),liveEvent:function liveEvent(e,t){return xe.default.trans("%event% starts in %time%",{"%event%":"<strong>".concat(e,"</strong>"),"%time%":"<strong>".concat(t,"</strong>")})},matchedGames:xe.default.trans("Matched Games"),note:function note(e){return xe.default.trans("%user% left you a note",{"%user%":"<strong>".concat(e,"</strong>")})},notes:xe.default.trans("Notes"),offlineChallenge:function offlineChallenge(e){var t=e.baseTime,n=e.flairCode,a=e.from,s=e.fromRating,r=e.gameType,l=e.increment,u=e.rated,f='<strong id="offline-challenge-toaster-'.concat(a,'">').concat(a,"</strong>");s&&(f+=' <span class="user-rating">('.concat(s,")</span>")),n!==et.a.code&&(f+=' <span class="flair-component flair-inline flair-'.concat(n,'"></span>'));var _=Xe.find((function(e){return e.value===r})),b="".concat(r," ");_&&(b="".concat(_.value===Be?"":"".concat(_.label," ")));var h="".concat(u?"":" ".concat(xe.default.trans("unrated"))),v="".concat(st({baseTime:t,increment:l})),g='<span class="live-time-label">('.concat(b).concat(v).concat(h,")</span>");return xe.default.trans("%user% wants to play %time%",{"%user%":f,"%time%":g})},removeNotificationPanelFromHome:xe.default.trans("Remove from sidebar"),teamMatch:function teamMatch(e){return xe.default.trans("Check your game vs %user%",{"%user%":"<strong>".concat(e,"</strong>")})},tournament:function tournament(e){return xe.default.trans("%user% wants to join",{"%user%":"<strong>".concat(e,"</strong>")})},trophy:function trophy(e,t){var n=xe.default.trans("%user% sent you a trophy",{"%user%":"<strong>".concat(t,"</strong>")});return"".concat(n," <strong>").concat(e,"</strong>")},trophies:xe.default.trans("Trophies"),voteChess:xe.default.trans("Vote Chess"),voteChessGame:function voteChessGame(e){return xe.default.trans("Update in %game%",{"%game%":"<strong>".concat(e,"</strong>")})}},ot=function pixelDensity(e,t){if(e){var n="@2x";return/\.svg$/.test(e)?e:([1.5,3,4].indexOf(t)>-1&&(n="@".concat(t,"x")),e.replace(/(\.\w+)$/,(function(e){return n+e})))}},ct=n("./utils/is-2fa.js"),it=(n("./node_modules/md5/md5.js"),window.context),lt=function handleError(e){var t=Fe(e);window.postMessage({key:ze,type:Re,message:t},window.location.origin)},ut=function isLoggedIn(){return Boolean(it&&it.user)&&!Object(ct.a)()},dt=function getNotificationPollingTime(){return $e};function navigation_store_createSuper(e){var t=function navigation_store_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,a=ce()(e);if(t){var s=ce()(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return re()(this,n)}}var ft=document.getElementById("sb"),_t=ft?fe()(ft.classList):[],bt=function(e){ae()(NavigationStore,e);var t=navigation_store_createSuper(NavigationStore);function NavigationStore(){return X()(this,NavigationStore),t.apply(this,arguments)}return te()(NavigationStore,[{key:"changeCurrentTab",value:function changeCurrentTab(e){this.set({currentTab:e})}},{key:"collapse",value:function collapse(){var e=this.get().authenticated;this.set({collapsed:!0}),e&&function collapse(){F("vertical-collapsed")}()}},{key:"expand",value:function expand(){var e=this.get(),t=e.authenticated;e.forceCollapse||(this.set({collapsed:!1}),t&&function expand(){F("vertical-expanded")}())}},{key:"getClubs",value:function getClubs(){var e=this;return function getClubs(){var e=window.context.user.username,t=U.default.generate("pubapi_player_clubs",{username:e});return a.default.get(t)}().then((function(t){var n=t.data;n.clubs&&n.clubs.length>0&&e.set({clubs:H(n.clubs)})}))}},{key:"getData",value:function getData(){var e=this;return function getData(e){var t=U.default.generate("web_user_callback_navigation_data");return a.default.get(t,{headers:{"if-none-match":e}})}(this.get().eTag).then((function(t){var n=t.data;e.set({eTag:t.headers.etag,navData:n})}))}},{key:"getWatchPanel",value:function getWatchPanel(){var e=this;return function getWatchPanel(){var e=U.default.generate("pubapi_navbar_panels_watch");return a.default.get(e)}().then((function(t){var n=t.data;e.set({watchPanels:{topPlayers:q(n.top_players||[]),streamers:B(n.streamers||[]),topEvents:G(n.top_events||[])}})}))}},{key:"getTvAnnouncement",value:function getTvAnnouncement(){var e=this;return function getTvAnnouncement(){var e=U.default.generate("web_tv_callback_get_announcement");return a.default.get(e)}().then((function(t){var n=t.data,a=Object(Pe.d)(n);"object"===Le()(a)&&e.set({tvAnnouncement:a})}))}},{key:"searchUsername",value:function searchUsername(){var e=this,t=this.get().friendSearch;return this.set({searchingFriends:!0}),function searchUsername(e){var t=U.default.generate("web_user_callback_username_search",{onlyFriendsOfMine:1,avatarSize:25,query:e});return a.default.get(t)}(t).then((function(t){var n=t.data.length?t.data:[];e.set({friendSearchResults:n}),e.set({searchingFriends:!1})}))}},{key:"switchChatTab",value:function switchChatTab(e){this.set({displayChatTab:e})}}]),NavigationStore}(ie.a),ht={state:{authenticated:ut(),clubs:[],clubSearch:"",collapsed:_t.includes("collapsed"),currentTab:Me.b.FRIENDS_TAB,displayChatTab:!1,eTag:"",forceCollapse:_t.includes("force-collapse"),friendSearch:"",friendSearchResults:[],navData:{friends:[]},searchingFriends:!1,searchingClubs:!1,tvAnnouncement:{hash:null,isHeadline:!1,title:null,language:"",defaultLanguage:""},watchPanels:{streamers:[],topEvents:[],topPlayers:[]}},name:"navigation",Store:bt},mt=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),pt=n.n(mt),vt="web_alert_callback_ignore_group_activity",gt="web_club_callback_manage_user_group_request",Ot=function fetch(){var e=U.default.generate("web_alert_callback_alerts");return a.default.get(e)},jt=function ignore(e){var t=U.default.generate("web_alert_callback_ignore",{id:e});return a.default.post(t)},yt=function ignoreComments(){var e=U.default.generate("web_alert_callback_ignore_new_comments");return a.default.post(e)},wt=function ignoreNotifications(){var e=U.default.generate("web_alert_callback_ignore_all");return a.default.post(e)},kt=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Et=n.n(kt),Tt=function transformNotification(e){return Object.assign(e,function generateMessage(e){var t=e.alertSubType,n=e.alertType,a=window.context.user.username;switch(n===He.groupActivity?t:n){case He.achievement:return{content:e.title,route:Ge.achievements(a)};case He.content:return{content:rt.activity(e.username),route:e.viewUrl||Ge.activity};case He.challenge:return{content:rt.challenge(e.username),route:Ge.challenge(e.contentId)};case He.clubForum:return{content:rt.clubForum(e.groupName),route:Ge.clubForum(e.groupUrl)};case He.clubForumUpdate:return{content:rt.clubForumUpdate(e.groupName,e.title),route:Ge.clubForumUpdate(e.viewUrl)};case He.clubNews:return{content:rt.clubNews(e.groupName),route:Ge.clubNews(e.groupUrl)};case He.clubNewsUpdate:return{content:rt.clubNewsUpdate(e.groupName,e.title),route:e.viewUrl?Ge.clubNewsUpdate(e.viewUrl):Ge.clubNews(e.groupUrl)};case He.clubNote:return{content:rt.clubNote(e.groupName),route:Ge.clubNote(e.groupUrl)};case He.groupRequest:return{content:rt.clubRequest(e.groupName,e.username),route:Ge.clubRequest(e.groupUrl)};case He.comment:return{content:"".concat(rt.comment(e.title)," ").concat(rt.commentCount(e.newCommentCount)),route:Ge.comment(e.viewUrl)};case He.friendRequest:return{content:rt.friendRequest(e.username,e.flairCode),route:Ge.friendRequest(e.username)};case He.game:return{content:rt.game(e.username),route:Ge.game(e.contentId)};case He.note:return{content:rt.note(e.username),route:Ge.note(a)};case He.offlineChallenge:return{content:rt.offlineChallenge(e),from:e.from,route:Ge.live(e.id)};case He.teamMatch:return{content:rt.teamMatch(e.username),route:Ge.teamMatch(e.contentId)};case He.tournament:return{content:rt.tournament(e.username),route:Ge.tournament(e.contentId)};case He.trophy:return{content:rt.trophy(e.trophyName,e.username),route:Ge.trophy(a,e.userTrophyId)};case He.arenaTrophy:return{content:rt.arenaTrophy(e.trophyName),route:Ge.arenaTrophy(a,e.userTrophyId)};case He.voteChessGame:return{content:rt.voteChessGame(e.gameName),route:Ge.voteChessGame(e.contentId)};case He.teamLiveCompetition:var s=Ie.a.relative(1e3*e.startAt,!1,!1,!0);return{content:rt.liveEvent(e.title,s),route:Ge.liveEvent(e.contentId,Ge.liveEventType[e.competitionType])}}}(e),function generateSrcSet(e){return e.image?{srcset:ot(e.image)}:{}}(e))},Nt=function transformNotifications(e){return e.map(Tt)},Ct=function transformNotificationGroups(e){return Object.keys(e).reduce((function(t,n){var a=function transformNotificationGroup(e,t){e.data;var n=Et()(e,["data"]);return{type:Object.assign(n,{id:t}),notifications:Nt(e.data)}}(e[n],n);return n===He.offlineChallenge?t.unshift(a):t.push(a),t}),[])};function store_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function store_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?store_ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):store_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function notifications_store_createSuper(e){var t=function notifications_store_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,a=ce()(e);if(t){var s=ce()(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return re()(this,n)}}var St=function(e){ae()(NotificationStore,e);var t,n,s,l=notifications_store_createSuper(NotificationStore);function NotificationStore(){var e;X()(this,NotificationStore);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=l.call.apply(l,[this].concat(n)),ut()&&window.addEventListener("message",e.respondToMessageEvents.bind(pt()(e))),e}return te()(NotificationStore,[{key:"acceptFriendRequest",value:function acceptFriendRequest(e){return function acceptFriendRequest(e){var t=U.default.generate("web_friend_accept_request_callback",{user:e});return a.default.put(t)}(e.userId)}},{key:"acceptGroupRequest",value:function acceptGroupRequest(e){return function acceptGroupRequest(e,t){var n=U.default.generate(gt,{id:e,username:t,action:"approve"});return a.default.post(n)}(e.contentId,e.username)}},{key:"acceptRequest",value:(s=Q()(Y.a.mark((function _callee(e){var t,n,a=this;return Y.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(t={},r()(t,He.friendRequest,(function(){return a.acceptFriendRequest(e)})),r()(t,He.groupRequest,(function(){return a.acceptGroupRequest(e)})),!(n=t)[e.alertType]){s.next=10;break}return s.prev=2,s.next=5,n[e.alertType]();case 5:s.next=10;break;case 7:return s.prev=7,s.t0=s.catch(2),s.abrupt("return",lt(s.t0));case 10:this.remove(e);case 11:case"end":return s.stop()}}),_callee,this,[[2,7]])}))),function acceptRequest(e){return s.apply(this,arguments)})},{key:"declineFriendRequest",value:function declineFriendRequest(e){return function declineFriendRequest(e){var t=U.default.generate("web_friend_decline_request_callback",{user:e});return a.default.delete(t)}(e.userId)}},{key:"declineGroupRequest",value:function declineGroupRequest(e){return function declineGroupRequest(e,t){var n=U.default.generate(gt,{id:e,username:t,action:"deny"});return a.default.post(n)}(e.contentId,e.username)}},{key:"declineOfflineChallenge",value:function declineOfflineChallenge(e){return function declineOfflineChallenge(e){var t=U.default.generate("web_alert_callback_ignore_offline_challenge",{id:e});return a.default.post(t,{_token:window.context.csrf.token})}(e.id)}},{key:"declineRequest",value:(n=Q()(Y.a.mark((function _callee2(e){var t,n,a=this;return Y.a.wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:if(t={},r()(t,He.friendRequest,(function(){return a.declineFriendRequest(e)})),r()(t,He.groupRequest,(function(){return a.declineGroupRequest(e)})),r()(t,He.offlineChallenge,(function(){return a.declineOfflineChallenge(e)})),!(n=t)[e.alertType]){s.next=10;break}return s.prev=2,s.next=5,n[e.alertType]();case 5:s.next=10;break;case 7:return s.prev=7,s.t0=s.catch(2),s.abrupt("return",lt(s.t0));case 10:this.remove(e);case 11:case"end":return s.stop()}}),_callee2,this,[[2,7]])}))),function declineRequest(e){return n.apply(this,arguments)})},{key:"decrementAlertNotificationCount",value:function decrementAlertNotificationCount(){this.decrementNotificationCount("alerts")}},{key:"decrementGamesNotificationCount",value:function decrementGamesNotificationCount(){this.decrementNotificationCount("games")}},{key:"decrementMessagesNotificationCount",value:function decrementMessagesNotificationCount(){this.decrementNotificationCount("messages")}},{key:"decrementNotificationCount",value:function decrementNotificationCount(e){var t=this.get().badges;this.set({badges:Object.assign(t,r()({},e,Math.max(t[e]-1,0)))})}},{key:"getNotificationCounts",value:function getNotificationCounts(e){var t=this;return function getNotificationCounts(e){var t=U.default.generate("pubapi_player_notices",{username:e.toLowerCase()});return a.default.get(t)}(window.context.user.username).then((function(n){var a=n.data,s=t.get().badges,r=a.challenge_waiting,l=t.get().fetched,u=!1;s.alerts===a.notifications&&s.games===a.games_to_move&&s.challenges===a.challenge_waiting||(l=!1),s.challenges!==a.challenge_waiting&&(u=!0),s.games===a.games_to_move&&s.challenges===a.challenge_waiting||window.postMessage({games:a.games_to_move,key:"game-notifications-change"},window.location.origin),t.set({badges:{alerts:a.notifications+r,challenges:r,chatMessages:s.chatMessages,games:a.games_to_move,lessonQuotaRefilled:a.lesson_quota_refilled,messages:a.new_messages},fetched:l}),u&&t.fetch(),e&&setTimeout((function(){return t.getNotificationCounts(!0)}),dt())}))}},{key:"fetch",value:function fetch(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.forceReload,a=void 0!==n&&n,s=this.get(),r=s.fetched,l=s.isFetching;return r&&!a||l?Promise.resolve():(this.set({isFetching:!0}),Ot().then((function(e){return e.data||{}})).catch((function(){return e.set({isFetching:!1}),{}})).then((function(t){var n=t.alerts,a=void 0===n?{}:n,s=t.readyGames,r=void 0===s?[]:s;return e.getNotificationCounts(),e.set({games:r}),a})).then(Ct).then((function(t){e.set({notifications:t}),window.postMessage(W.NOTIFICATIONS_FETCHED,window.location.origin),e.set({fetched:!0,isFetching:!1})})))}},{key:"ignore",value:(t=Q()(Y.a.mark((function _callee3(e){var t,n,a=this;return Y.a.wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:if(t={},r()(t,He.comment,(function(){return a.ignoreComment(e)})),r()(t,He.groupActivity,(function(){return jt(e.alertId)})),r()(t,He.content,(function(){return a.ignoreContent()})),r()(t,He.achievement,(function(){return a.ignoreAchievement(e)})),n=t,s.prev=1,!n[e.alertType]){s.next=7;break}return s.next=5,n[e.alertType]();case 5:s.next=9;break;case 7:return s.next=9,jt(e.alertId);case 9:s.next=14;break;case 11:return s.prev=11,s.t0=s.catch(1),s.abrupt("return",lt(s.t0));case 14:this.remove(e);case 15:case"end":return s.stop()}}),_callee3,this,[[1,11]])}))),function ignore(e){return t.apply(this,arguments)})},{key:"ignoreAchievement",value:function ignoreAchievement(e){return function ignoreAchievement(e){var t=U.default.generate("web_alert_callback_ignore_achievement",{code:e});return a.default.post(t)}(e.code)}},{key:"ignoreAll",value:function ignoreAll(){var e=this.get().badges,t=this.get().notifications,n=(t=t.filter((function(e){return e.type.id===He.friendRequest}))).reduce((function(e,t){return e+t.notifications.length}),0);return this.set({badges:store_objectSpread(store_objectSpread({},e),{},{alerts:n}),notifications:t}),Promise.all([yt(),wt()])}},{key:"ignoreByTypesAndContentId",value:function ignoreByTypesAndContentId(e){var t=this,n=e.contentId,a=e.notificationTypes;this.get().notifications.filter((function(e){return a.indexOf(e.type.id)>=0})).forEach((function(e){var a=e.notifications.find((function(e){return parseInt(e.contentId,10)===n}));a&&t.ignore(a)}))}},{key:"ignoreComment",value:function ignoreComment(e){return function ignoreComment(e,t){var n=U.default.generate("web_alert_callback_ignore_comment",{contentId:e,contentType:t});return a.default.post(n)}(e.contentId,e.contentType)}},{key:"ignoreContent",value:function ignoreContent(){return function ignoreContent(){var e=U.default.generate("web_alert_callback_ignore_new_content");return a.default.post(e)}()}},{key:"ignoreGroupActivity",value:function ignoreGroupActivity(e){return function ignoreGroupActivity(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={id:e,alertType:t};null!==n&&(s.clubContentId=n);var r=U.default.generate(vt,s);return a.default.post(r)}(e.contentId,e.alertSubType,e.clubContentId)}},{key:"remove",value:function remove(e){var t=e.alertType,n=e.notificationId;if("string"==typeof t&&"string"==typeof n){var a=this.get().notifications,s=a.findIndex((function(e){return e.type.id===t}));if(-1!==s){var r=a[s].notifications.findIndex((function(e){return e.notificationId===n}));-1!==r&&(a[s].notifications.splice(r,1),a[s].notifications.length||a.splice(s,1),this.decrementAlertNotificationCount(),this.set({notifications:a}))}}}},{key:"removeGame",value:function removeGame(e){var t=this.get().games,n=t.findIndex((function(t){return t.id===e}));n>=0&&(t.splice(n,1),this.set({games:t}),this.decrementGamesNotificationCount())}},{key:"removeGameAlert",value:function removeGameAlert(e,t){e===W.REMOVE_CHECK_GAME_ALERT?this.ignoreByTypesAndContentId({notificationTypes:[He.game,He.teamMatch],contentId:t}):e===W.REMOVE_GAME_COMMENT_ALERT&&this.ignoreByTypesAndContentId({notificationTypes:[He.comment],contentId:t})}},{key:"respondToMessageEvents",value:function respondToMessageEvents(e){var t=this,n=e.data,a=this.get().fetched;n&&[W.REMOVE_CHECK_GAME_ALERT,W.REMOVE_GAME_COMMENT_ALERT].includes(n.key)?a?this.removeGameAlert(n.key,n.gameId):this.fetch().then((function(){return t.removeGameAlert(n.key,n.gameId)})):n&&n.key===W.REMOVE_READY_GAME_ALERT?a?this.removeGame(n.gameId):this.fetch().then((function(){return t.removeGame(n.gameId)})):n===W.FETCH_NOTIFICATION_COUNT?this.getNotificationCounts():n===W.DECREMENT_MESSAGE_COUNT&&this.decrementMessagesNotificationCount()}},{key:"setBadgeCount",value:function setBadgeCount(e){var t=e.type,n=e.count,a=this.get().badges;this.set({badges:store_objectSpread(store_objectSpread({},a),{},r()({},t,n))})}},{key:"toggleShowNotificationsOnHome",value:function toggleShowNotificationsOnHome(){var e=this.get().showNotificationsOnHome;ut()&&function setShowNotificationsOnHome(e){var t=U.default.generate("web_user_callback_set_show_alerts_on_home");a.default.post(t,{showAlertsOnHome:e})}(!e),this.set({showNotificationsOnHome:!e})}}]),NotificationStore}(ie.a),At={state:{badges:{alerts:0,challenges:0,chatMessages:0,games:0,lessonQuotaRefilled:0,messages:0},fetched:!1,isFetching:!1,games:[],notifications:[],showNotificationsOnHome:function getShowNotificationsOnHome(){return ut()&&it.user.showAlertsOnHome}()},name:"notifications",Store:St},Lt=n("./core/store/store.js");Lt.default.register(ht),Lt.default.register(At),Lt.default.register(ue),Lt.default.register(Se),ut()&&(Lt.default.stores.navigation.getData(),Lt.default.stores.navigation.getWatchPanel(),Lt.default.stores.navigation.getTvAnnouncement(),Lt.default.stores.navigation.getClubs(),D(u)?window.addEventListener("message",(function(e){"navAlertsUpdateCount"===e.data&&Lt.default.stores.notifications.getNotificationCounts(!1)})):setTimeout((function(){return Lt.default.stores.notifications.getNotificationCounts(!0)}),dt()),Lt.default.stores.puzzleBattle.init());var Pt=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Mt=n.n(Pt),It=function updateAchievementDesc(e){if(!e.match(/(.*?)\[(.*?)\]\((.*?)\)/))return e;var t=e.split(/[\[\]\(\)]/).filter((function(e){return e})),n=Mt()(t,4),a=n[0],s=n[1],r=n[2],l=n[3];return"".concat(a,' <a target="_blank" href="').concat(r,'">').concat(s,"</a>").concat(l)};window.addEventListener("message",(function(e){var t=e.data;ut()&&function handle_achievements_respondToMessageEvents(e){var t=e.data;if(t&&t.key===W.ADD_ACHIEVEMENT){var n=t.achievement;window.toaster.add({achievementUrl:n.image_url,clicked:function clicked(){var e=window.context.user.username,t=n.code.startsWith("book_")?"web_awards_books":"web_awards_achievements";window.location="".concat(U.default.generate(t,{username:e}),"#achievement_").concat(n.code)},content:"<strong>".concat(n.name,"</strong><br/>").concat(It(n.description)),duration:n.duration||5e3,id:n.code,settings:function settings(e){e.stopPropagation(),window.location=U.default.generate("web_user_settings_notifications")}})}}({data:t})}));var xt=n("./utils/amplitude/logger.js"),Dt=n("./utils/dom/index.js");window.onbeforeunload=function(){var e=document.getElementById("sb");e&&e.classList&&e.classList.add("hide-panels")},function logSignUpToAmplitude(){Object(Dt.a)(R.n.SIGN_UP).forEach((function(e){e.addEventListener("click",(function(){var t=JSON.parse(e.getAttribute(R.b.amplitudeProps));xt.a.logEvent(R.a.ONBOARD,t)}))}))}();var Rt=n("./utils/window/post-message.ts"),Ut=n("./core/navigation/config/translations.js");if(!Object(ke.a)("isPremium")){var zt=document.querySelectorAll(".user-flair.flair-link");fe()(zt).forEach((function(e){return e.addEventListener("click",(function(e){e.preventDefault(),Object(Rt.a)({key:R.g.SHOW_UPGRADE_MODAL,payload:{referral:"flair",startingSlide:"flair",title:Ut.a.flair}})}))}))}var Ft=document.querySelectorAll(R.n.LOGOUT_TRIGGER);fe()(Ft).forEach((function(e){e.addEventListener("click",(function(e){var t=document.querySelector(R.n.LOGOUT_FORM);e.preventDefault(),t.submit()}))}));var $t=n("./node_modules/svelte/shared.js"),Ht=function clickOutside(e){return new Promise((function(t){var n=function documentListener(n){(void 0===n.target.contains||n.target!==e&&!e.contains(n.target))&&(t(),document.removeEventListener("click",documentListener))};setTimeout((function(){document.addEventListener("click",n)}))}))},Gt=(new function Configuration(){X()(this,Configuration);var e=Object.assign({},window.Config);e.MainDomain||(e.MainDomain=e["domain.main"]),e.StaticDomain||(e.StaticDomain=e["domain.static"]),e.FilesDomain||(e.FilesDomain=e["domain.files"]),e.LiveDomain||(e.LiveDomain=e["domain.live"]),e.LiveWebSocketDomain||(e.LiveWebSocketDomain=e["domain.livews"]),e.LiveSecureWebSocketDomain||(e.LiveSecureWebSocketDomain=e["domain.livewss"]),e.VoiceDomain||(e.VoiceDomain=e["domain.voice"]),e.CssJsDomain||(e.CssJsDomain=e["domain.cssjs"]),e.ImagesDomain||(e.ImagesDomain=e["domain.images"]),e.AvatarsDomain||(e.AvatarsDomain=e["domain.avatars"]),e.ChessBoardAssetsDomain||(e.ChessBoardAssetsDomain="//images.chesscomfiles.com/chess-themes"),e.ChessBoardLocalAssetsDomain||(e.ChessBoardLocalAssetsDomain="bundles/web/images/chess-themes/pieces"),e.AppVersion||(e.AppVersion=e["application.version"]),e.AppVersion||(e.AppVersion=Math.floor(1e4*Math.random())+1e4),e.DocumentRoot||(e.DocumentRoot=""),void 0===e.oldThemes&&(e.oldThemes=!0),e.GfxUrl||(e.GfxUrl=e.ChessBoardAssetsDomain),e.GfxLocalUrl||(e.GfxLocalUrl=e.ChessBoardLocalAssetsDomain),e.ChessBoardPiecesPath||(e.ChessBoardPiecesPath="/pieces"),e.ChessBoardBackgroundsPath||(e.ChessBoardBackgroundsPath="/boards"),e.ChessBoardArrowsPath||(e.ChessBoardArrowsPath="/arrows"),e.AudioSet||(e.AudioSet="default"),e.AudioUrl||(e.AudioUrl="".concat(e.ChessBoardAssetsDomain,"/sounds/")),e.DiagramGetPostUrl||(e.DiagramGetPostUrl="/api/get_diagram"),e.DailyPuzzleGetUrl||(e.DailyPuzzleGetUrl="/api/get_puzzle"),this.config=e}).config,qt=n("./utils/browser.js"),Bt={ie:2592e5,default:6048e5},Wt="mountSvelteMessageModal",Vt={oldBrowserHeading:Object(Je.trans)("Chess.com is Best with Updated, Modern Browsers"),oldBrowserText:Object(Je.trans)("Please check to make sure you are using the latest versions of one of these browsers. Please note that Internet Explorer and Edge prior to %version% is no longer supported.",{"%version%":79})},Kt=n("./utils/cache/service.js");n("./core/modals/components/old-browser-modal.svelte.svelte.css");var Yt={show:function show(){this.set({display:!0})},hide:function hide(){this.set({display:!1})},checkStorage:function checkStorage(){var e=this.get(),t=e.localStorageName,n=e.todaysDate,a=Kt.a.get(t);return Date.parse(a)<n||!a},setStorage:function setStorage(){var e=this.get(),t=e.localStorageName,n=e.timeFromNow,a=e.todaysDate,s=new Date;s.setTime(a.getTime()+n),Kt.a.set(t,s)}};function oncreate(){var e=Object(qt.b)(),t=Object(qt.c)();this.set({showEdge:e.name===qt.a.edge||t>=8,showSafari:e.name===qt.a.safari,timeFromNow:e.name===qt.a.ie?Bt.ie:Bt.default}),this.checkStorage()&&(this.setStorage(),this.show(),Ht(this.refs.modal).then(this.hide.bind(this)))}function create_if_block_1(e,t){var n,a,s,r,l;return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("img"),r=Object($t.k)("\n\n            "),(l=Object($t.i)("label")).textContent="Safari",a.width="65",a.height="65",a.alt="Safari",a.src=s=t.images.safari,l.className="svelte-1o0fp2f",n.target="_blank",n.rel="noopener",n.className="browser svelte-1o0fp2f",n.href="https://support.apple.com/HT204416"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,r),Object($t.d)(n,l)},p:function p(e,t){e.images&&s!==(s=t.images.safari)&&(a.src=s)},d:function d(e){e&&Object($t.q)(n)}}}function create_if_block(e,t){var n,a,s,r,l;return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("img"),r=Object($t.k)("\n\n            "),(l=Object($t.i)("label")).textContent="Edge",a.width="65",a.height="65",a.alt="Edge",a.src=s=t.images.edge,l.className="svelte-1o0fp2f",n.target="_blank",n.rel="noopener",n.className="browser svelte-1o0fp2f",n.href="https://www.microsoft.com/en-us/windows/microsoft-edge"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,r),Object($t.d)(n,l)},p:function p(e,t){e.images&&s!==(s=t.images.edge)&&(a.src=s)},d:function d(e){e&&Object($t.q)(n)}}}function Old_browser_modal_svelte(e){var t=this;Object($t.v)(this,e),this.refs={},this._state=Object($t.e)(function old_browser_modal_svelte_data(){return{translations:Vt,display:!1,images:{chrome:"".concat(Gt.CssJsDomain,"/bundles/web/images/icons/chrome.png"),edge:"".concat(Gt.CssJsDomain,"/bundles/web/images/icons/edge.png"),firefox:"".concat(Gt.CssJsDomain,"/bundles/web/images/icons/firefox.png"),ie:"".concat(Gt.CssJsDomain,"/bundles/web/images/icons/ie.png"),safari:"".concat(Gt.CssJsDomain,"/bundles/web/images/icons/safari.png")},timeFromNow:0,todaysDate:new Date,localStorageName:"nobrowserupgrade",showEdge:!1,showSafari:!1}}(),e.data),this._recompute({display:1},this._state),this._intro=!0,this._fragment=function create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M,I,x=t.translations.oldBrowserHeading,D=t.translations.oldBrowserText;function click_handler(t){e.hide()}var R=t.showSafari&&create_if_block_1(0,t),U=t.showEdge&&create_if_block(0,t);function click_handler_1(t){e.hide()}return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.k)("\n\n  "),r=Object($t.i)("div"),l=Object($t.i)("div"),u=Object($t.i)("h2"),f=Object($t.k)(x),_=Object($t.k)("\n      "),b=Object($t.i)("p"),h=Object($t.k)(D),v=Object($t.k)("\n\n      "),g=Object($t.i)("div"),O=Object($t.i)("a"),j=Object($t.i)("img"),w=Object($t.k)("\n\n          "),(k=Object($t.i)("label")).textContent="Chrome",E=Object($t.k)("\n\n        "),T=Object($t.i)("a"),N=Object($t.i)("img"),S=Object($t.k)("\n\n          "),(A=Object($t.i)("label")).textContent="Firefox",L=Object($t.k)("\n\n        "),R&&R.c(),P=Object($t.k)("\n\n        "),U&&U.c(),M=Object($t.k)("\n\n    "),(I=Object($t.i)("div")).innerHTML='<span class="icon-font-chess x"></span>',Object($t.c)(a,"click",click_handler),a.className="core-modal-background",b.className="ie-word-wrap svelte-1o0fp2f",j.width="65",j.height="65",j.alt="Chrome",j.src=y=t.images.chrome,k.className="svelte-1o0fp2f",O.target="_blank",O.rel="noopener",O.className="browser svelte-1o0fp2f",O.href="https://www.google.com/intl/en/chrome/browser/",N.width="65",N.height="65",N.alt="Firefox",N.src=C=t.images.firefox,A.className="svelte-1o0fp2f",T.target="_blank",T.rel="noopener",T.className="browser svelte-1o0fp2f",T.href="http://www.mozilla.org/en-US/firefox/new/",g.className="browsers svelte-1o0fp2f",l.className="component svelte-1o0fp2f",Object($t.c)(I,"click",click_handler_1),I.className="icon-font close",r.className="old-browser-modal-container svelte-1o0fp2f",n.className=t.modalClasses+" svelte-1o0fp2f"},m:function m(t,y){Object($t.w)(t,n,y),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(r,l),Object($t.d)(l,u),Object($t.d)(u,f),Object($t.d)(l,_),Object($t.d)(l,b),Object($t.d)(b,h),Object($t.d)(l,v),Object($t.d)(l,g),Object($t.d)(g,O),Object($t.d)(O,j),Object($t.d)(O,w),Object($t.d)(O,k),Object($t.d)(g,E),Object($t.d)(g,T),Object($t.d)(T,N),Object($t.d)(T,S),Object($t.d)(T,A),Object($t.d)(g,L),R&&R.m(g,null),Object($t.d)(g,P),U&&U.m(g,null),e.refs.modal=l,Object($t.d)(r,M),Object($t.d)(r,I)},p:function p(e,t){e.translations&&x!==(x=t.translations.oldBrowserHeading)&&Object($t.F)(f,x),e.translations&&D!==(D=t.translations.oldBrowserText)&&Object($t.F)(h,D),e.images&&y!==(y=t.images.chrome)&&(j.src=y),e.images&&C!==(C=t.images.firefox)&&(N.src=C),t.showSafari?R?R.p(e,t):((R=create_if_block_1(0,t)).c(),R.m(g,P)):R&&(R.d(1),R=null),t.showEdge?U?U.p(e,t):((U=create_if_block(0,t)).c(),U.m(g,null)):U&&(U.d(1),U=null),e.modalClasses&&(n.className=t.modalClasses+" svelte-1o0fp2f")},d:function d(t){t&&Object($t.q)(n),Object($t.D)(a,"click",click_handler),R&&R.d(),U&&U.d(),e.refs.modal===l&&(e.refs.modal=null),Object($t.D)(I,"click",click_handler_1)}}}(this,this._state),this.root._oncreate.push((function(){oncreate.call(t),t.fire("update",{changed:Object($t.f)({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Old_browser_modal_svelte.prototype,$t.z),Object($t.e)(Old_browser_modal_svelte.prototype,Yt),Old_browser_modal_svelte.prototype._recompute=function _recompute(e,t){e.display&&this._differs(t.modalClasses,t.modalClasses=function modalClasses(e){var t=["core-modal-container"];return e.display&&t.push("is-active"),t.join(" ")}(t))&&(e.modalClasses=!0)};var Zt,Qt=Old_browser_modal_svelte,Jt=document.getElementById("old-browser-modal");Object(qt.d)()&&new Qt({target:Jt});var Xt="show-guest-modal",en=(Object(Je.trans)("Sign up to analyze your games!"),Object(Je.trans)("Sign up to play Automate!"),Object(Je.trans)("Sign up to unlock Lessons!"),Object(Je.trans)("Sign up to use this feature."),Object(Je.trans)("Sign up to keep solving puzzles!"),Object(Je.trans)("Sign up to track your progress!"),Object(Je.trans)("Already have an account? Log in"),{GUEST_MODAL_SLIDES:{analysis:"analysis",automate:"automate",lessons:"lessons",pawn:"pawn",puzzles:"puzzles-learning",stats:"stats"}}),tn=(Object(Je.trans)("150k+ Puzzles"),Object(Je.trans)("Play every day to improve"),Object(Je.trans)("1500+ Lessons"),Object(Je.trans)("Learn from chess masters!"),Object(Je.trans)("Full Game Analysis"),Object(Je.trans)("Learn from every game!"),Object(Je.trans)("Get a Rating"),Object(Je.trans)("Save your games!"),Object(Je.trans)("Play, Learn and Connect"),Object(Je.trans)("Join millions of chess players."),Object(Je.trans)("Explore Full Openings"),Object(Je.trans)("See moves played by masters!"),"dismissedOnboardModalId"),nn=[{title:Object(Je.trans)("Full Analysis"),subtitle:Object(Je.trans)("Full Report, Accuracy, Key Moments"),icon:"analysis",id:1,generic:!0},{title:Object(Je.trans)("Unlimited Puzzles"),subtitle:Object(Je.trans)("Solve 8+ Puzzles/day to improve fast"),icon:"puzzles-learning",id:2,generic:!0},{title:Object(Je.trans)("Unlimited Lessons"),subtitle:Object(Je.trans)("Your step-by-step path to mastery"),icon:"lessons",id:3,generic:!0},{title:Object(Je.trans)("Remove Ads"),subtitle:Object(Je.trans)("Get the best Chess.com experience"),icon:"no-ads",id:4,generic:!0},{title:Object(Je.trans)("Unlimited Puzzle Rush"),subtitle:Object(Je.trans)("3 strikes and you're out!"),icon:"puzzles-rush",id:5},{title:Object(Je.trans)("Unlimited Puzzle Battles"),subtitle:Object(Je.trans)("Rush another player to win!"),icon:"puzzles-battle",id:6},{title:Object(Je.trans)("Get Your Own Flair"),subtitle:Object(Je.trans)("Share your unique personality"),icon:"flair",id:7},{title:Object(Je.trans)("Explore Full Openings"),subtitle:Object(Je.trans)("See moves played by masters!"),icon:"explorer",id:8},{title:Object(Je.trans)("Master Every Position"),subtitle:Object(Je.trans)("Practice means everything!"),icon:"workout",id:9},{title:Object(Je.trans)("Unlock All Bots"),subtitle:Object(Je.trans)("Play vs various skills and styles."),icon:"computer",id:10}],an=function getUpgradeSlides(e){var t=nn.find((function(t){return t.icon===e}))||nn[0],n=nn.filter((function(e){return e.generic&&e!==t}));return n.unshift(t),n},sn={EXPLORER:"explorer",OPENINGS:"openings",SOLO_CHESS:"solo",VISION:"vision",LESSONS:"lessons"},rn=(Zt={},r()(Zt,sn.EXPLORER,{bullets:[{icon:"magnifying-glass",text:Object(Je.trans)("Search millions of master games")},{icon:"user",text:Object(Je.trans)("Choose specific players to explore")},{icon:"chess-move-alt",text:Object(Je.trans)("Find winning moves from your games")}],icon:"explorer",storageKey:"explorer_intro_modal_dismissed",subtitleBottom:Object(Je.trans)("See moves chess masters have made and the outcome of the game from any position."),title:Object(Je.trans)("Chess Explorer")}),r()(Zt,sn.OPENINGS,{bullets:[{icon:"magnifying-glass",text:Object(Je.trans)("Search more than 3,000 opening lines")},{icon:"book-open",text:Object(Je.trans)("Find the perfect chess opening for you")},{icon:"circle-compass",text:Object(Je.trans)("Explore variations and master chess games")}],icon:"openings",storageKey:"openings_intro_modal_dismissed",subtitleBottom:Object(Je.trans)("Learn and explore chess openings to try in your chess games."),title:Object(Je.trans)("Chess Openings")}),r()(Zt,sn.SOLO_CHESS,{bullets:[{icon:"incorrect",text:Object(Je.trans)("Capture a piece with every move until just one remains")},{icon:"circle-stop",text:Object(Je.trans)("No piece may capture more than 2 times per puzzle")},{icon:"king-black",text:Object(Je.trans)("If there is a King on the board, it must be the final piece")},{icon:"circle-checkmark",text:Object(Je.trans)("Try for a perfect run in Challenge Mode!")}],buttonText:Object(Je.trans)("Start"),icon:"solo",modalWidth:"lg",storageKey:"solo_intro_modal_dismissed",subtitleTop:Object(Je.trans)("How to Play"),title:Object(Je.trans)("Solo Chess")}),r()(Zt,sn.VISION,{bullets:[{icon:"chess-board-vision",text:Object(Je.trans)("Improve vision with coordinate training")},{icon:"chess-board-arrow-down",text:Object(Je.trans)("Identify squares or make moves")},{icon:"live",text:Object(Je.trans)("Answer as many as you can in 30 seconds")}],icon:"vision",showConfirmButton:!1,storageKey:"vision_intro_modal_dismissed",subtitleBottom:Object(Je.trans)("Learn to quickly follow and record chess coordinates and annotation."),title:Object(Je.trans)("Vision Trainer")}),r()(Zt,sn.LESSONS,{bullets:[{icon:"play",text:Object(Je.trans)("Watch videos to learn concepts")},{icon:"circle-checkmark",text:Object(Je.trans)("Test knowledge with Challenges")},{icon:"king-black",text:Object(Je.trans)("Level up to achieve Mastery")}],icon:"lessons",storageKey:"lessons_intro_modal_dismissed",subtitleBottom:Object(Je.trans)("Learn from interactive lessons created by chess masters."),title:Object(Je.trans)("Chess Lessons")}),r()(Zt,sn.CLUBS,{bullets:[{icon:"teammatch",text:Object(Je.trans)("Represent your club in matches")},{icon:"chat",text:Object(Je.trans)("Chat in private forums")},{icon:"square-four",text:Object(Je.trans)("Organize your team")}],icon:"clubs",storageKey:"clubs_intro_modal_dismissed",subtitleBottom:Object(Je.trans)("Join an Online Chess Club and connect and compete with your friends in matches."),title:Object(Je.trans)("Chess Clubs")}),"#sb"),cn="collapsed",ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=function emit(n,a){t.filter((function(e){return e.type===n})).forEach((function(t){return t.handler(e,a)}))},a=function on(e,n){return t.push({type:e,handler:n}),t},s=function off(e){return-1!==t.findIndex((function(t){return t.type===e.type&&t.handler===e.handler}))&&t.splice(t,1),t};return{emit:n,off:s,on:a,state:e,subscriptions:t}}({expanded:null===document.querySelector("".concat(rn,".").concat(cn)),forcedOpen:!1,isLive:"/live"===window.location.pathname.substr(0,5),isLiveElement:document.querySelector("#live-app"),isVisible:!0,isWide:"en-US"!==document.documentElement.getAttribute("lang"),position:"horizontal",showingSecondary:null});(function shouldUserSeeOnboardModal(){var e=Kt.a.get(tn)===Object(ke.b)("getUserId");return function shouldShowOnboardModal(e,t,n,a){var s=Math.round((new Date).getTime()/1e3);return!(!t||n||a||e<=s-3600)}(Object(ke.b)("registerDate"),Object(ke.b)("eligibleFirstTrial"),Object(ke.a)("isGuest"),e)})()&&(Object(Rt.a)({key:R.g.SHOW_UPGRADE_MODAL,payload:{buttonText:Ut.a.onboardModalButtonText,cssClass:"onboard",hideText:Ut.a.onboardModalHideText,referral:"onboarding-modal",startingSlide:"lessons",subtitle:Ut.a.onboardModalSubtitle,title:Ut.a.onboardModalTitle}}),ln.on(R.g.MODAL_DID_HIDE,(function(){Kt.a.set(tn,Object(ke.b)("getUserId"))})));var un=200,dn={false:un,true:1500};window.chesscom=Object.assign(window.chesscom||{},{isLongDelay:!1});var fn,_n=function getNavDropdownDelay(){return dn[window.chesscom.isLongDelay]},bn=function showGuestModal(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.slide,n=e.title;Object(Rt.a)({key:Xt,slide:t,title:n})},hn=n("./web/core/api/position/is-rtl.js"),mn="top",pn="right",vn="bottom",gn="left",On=function getPosition(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!e||!t)return null;var s=e.getBoundingClientRect(),r={},l=window.innerWidth-s.x,u=function canFitTop(){return s.top-(t.clientHeight+a)>0},f=function canFitBottom(){return s.bottom+t.clientHeight+a<window.innerHeight},_=function canFitLeft(){return s.left-(t.clientWidth+a)>0},b=function canFitRight(){return s.right+t.clientWidth+a<window.innerWidth};return n===mn&&u()||n===vn&&!f()?(r.left=s.left-(t.clientWidth-s.width)/2,r.rtlLeft=l-t.clientWidth/2-s.width/2,r.top=s.top-t.clientHeight-a,r.placement=mn):n===vn||n===mn&&!u()?(r.left=s.left-(t.clientWidth-s.width)/2,r.rtlLeft=l-t.clientWidth/2-s.width/2,r.top=s.bottom+a,r.placement=vn):n===gn&&_()||n===pn&&!b()?(r.left=s.left-t.clientWidth-a,r.rtlLeft=s.rtlLeft-t.clientWidth-a,r.top=s.top-(t.clientHeight-s.height)/2,r.placement=gn):(n===pn||n===gn&&!_())&&(r.left=s.right+a,r.rtlLeft=s.rtlLeft+a,r.top=s.top-(t.clientHeight-s.height)/2,r.placement=pn),{left:Math.round(r.left),placement:r.placement,rtlLeft:Math.round(r.rtlLeft),top:Math.round(r.top)}},jn=r()({},R.q.COLLAPSED_NAV,(function(){var e,t;return null!==(e=null===(t=document.querySelector(R.n.MAIN_NAV))||void 0===t?void 0:t.classList.contains(R.f.COLLAPSED))&&void 0!==e&&e})),yn=function getTooltip(){return fn||(fn=document.querySelector(R.n.TOOLTIP)),fn},wn=function showTooltip(e){var t=e.target.getAttribute("data-tooltip-content"),n=e.target.getAttribute("data-tooltip-position")||"right",a=yn();a.classList.add("show"),a.innerHTML=t,function positionTooltip(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!e||!t)return null;var s=On(e,t,n,a);Object(hn.a)()?t.style.transform="translate(-".concat(s.rtlLeft,"px, ").concat(s.top,"px)"):t.style.transform="translate(".concat(s.left,"px, ").concat(s.top,"px)"),t.classList.add(s.placement)}(e.target,a,n,R.l.TOOLTIP_OFFSET)},kn=function hideTooltip(){var e=yn();e.classList.remove("show"),function removePositionStyle(e){e&&(e.style.transform="translate(-100%, -100%)",e.classList.remove(gn,pn,vn,mn))}(e)},En=function mouseEnterEvent(e){var t=e.target;t.setAttribute("mousing-over",!0),setTimeout((function(){t.getAttribute("mousing-over")&&function shouldShow(e){var t=e.getAttribute("data-tooltip-show");return!t||!jn[t]||jn[t]()}(t)&&wn(e)}),R.p.TOOLTIP_SHOW_DELAY)},Tn=function mouseLeaveEvent(e){e.target.removeAttribute("mousing-over"),kn()},Nn=(n("./core/navigation/components/user-connection.svelte.svelte.css"),null);we().then((function(e){return Nn=e}));var Cn={mouseEnterEvent:En,mouseLeaveEvent:Tn};function user_connection_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h;function mouseenter_handler(t){e.mouseEnterEvent(t)}function mouseleave_handler(t){e.mouseLeaveEvent(t)}return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("span"),s=Object($t.k)("\n    "),r=Object($t.i)("span"),l=Object($t.k)("\n    "),u=Object($t.i)("span"),f=Object($t.k)("\n    "),_=Object($t.i)("span"),a.className="icon-font-chess signal svelte-nsk01h",r.className="icon-font-chess signal svelte-nsk01h",u.className="icon-font-chess signal svelte-nsk01h",_.className="icon-font-chess signal svelte-nsk01h",Object($t.c)(n,"mouseenter",mouseenter_handler),Object($t.c)(n,"mouseleave",mouseleave_handler),n.className=b="user-connection-tooltip-listener component signal-".concat(t.connectionQuality)+" svelte-nsk01h",n.dataset.tooltipContent=h=t.connectionLevelTranslations[t.connectionQuality]},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(n,l),Object($t.d)(n,u),Object($t.d)(n,f),Object($t.d)(n,_)},p:function p(e,t){e.connectionQuality&&b!==(b="user-connection-tooltip-listener component signal-".concat(t.connectionQuality)+" svelte-nsk01h")&&(n.className=b),(e.connectionLevelTranslations||e.connectionQuality)&&h!==(h=t.connectionLevelTranslations[t.connectionQuality])&&(n.dataset.tooltipContent=h)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"mouseenter",mouseenter_handler),Object($t.D)(n,"mouseleave",mouseleave_handler)}}}function User_connection_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(function user_connection_svelte_data(){return{connectionQuality:Nn&&Nn.client.getQuality(),connectionLevelTranslations:Me.c}}(),e.data),this._intro=!0,this._fragment=function user_connection_svelte_create_main_fragment(e,t){var n,a=null!==t.connectionQuality&&user_connection_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){null!==s.connectionQuality?a?a.p(t,s):((a=user_connection_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(User_connection_svelte.prototype,$t.z),Object($t.e)(User_connection_svelte.prototype,Cn);var Sn=User_connection_svelte;n("./core/navigation/components/panel.svelte.svelte.css");function panel_svelte_create_if_block(e,t){var n,a=new Sn({root:e.root,store:e.store});return{c:function c(){n=Object($t.i)("div"),a._fragment.c(),n.className="panel-footer svelte-199tut6"},m:function m(e,t){Object($t.w)(e,n,t),a._mount(n,null)},d:function d(e){e&&Object($t.q)(n),a.destroy()}}}function Panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(function panel_svelte_data(){return{user:window.context.user,userConnectionAccess:D(b)}}(),e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function panel_svelte_create_main_fragment(e,t){var n,a,s,r,l,u=e._slotted.default,f=t.userConnectionAccess&&panel_svelte_create_if_block(e);return{c:function c(){n=Object($t.i)("div"),a=Object($t.k)("\n"),s=Object($t.i)("div"),l=Object($t.k)("\n  \n  "),f&&f.c(),n.className="theme-bg svelte-199tut6",s.className="shade svelte-199tut6"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.w)(e,a,t),Object($t.w)(e,s,t),u&&(Object($t.d)(s,u),Object($t.d)(s,r||(r=Object($t.h)()))),Object($t.d)(s,l),f&&f.m(s,null)},p:function p(t,n){n.userConnectionAccess?f||((f=panel_svelte_create_if_block(e)).c(),f.m(s,null)):f&&(f.d(1),f=null)},d:function d(e){e&&(Object($t.q)(n),Object($t.q)(a),Object($t.q)(s)),u&&Object($t.B)(r,u),f&&f.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Panel_svelte.prototype,$t.z);var An=Panel_svelte,Ln=n("./core/utils/dom/has-touch.js"),Pn=function handleMobileHover(e){var t=e.targets,n=e.hideOnClickOutside;Ln.a&&t.filter((function(e){return Boolean(e.attributes.href)})).forEach((function(e){return e.addEventListener("click",(function(t){e.classList.contains(R.f.HOVER)||(e.classList.add(R.f.HOVER),n&&Ht(e).then((function(){e.classList.remove(R.f.HOVER)})),t.preventDefault())}))}))},Mn=n("./core/chat/config/index.ts"),In=n("./core/chat/components/chat-avatar.svelte.html");n("./core/navigation/components/connect-search.svelte.svelte.css");function Connect_search_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)({},e.data),this._intro=!0,this._fragment=function connect_search_svelte_create_main_fragment(e,t){var n,a,s,r,l=!1;function input_input_handler(){l=!0,e.set({value:a.value}),l=!1}function input_handler(t){e.fire("input",t)}return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("input"),s=Object($t.k)("\n\n  "),r=Object($t.i)("span"),Object($t.c)(a,"input",input_input_handler),Object($t.c)(a,"input",input_handler),a.className="field svelte-raack4",a.placeholder=t.placeholder,Object($t.E)(a,"type","text"),r.className="icon-font-chess magnifying-glass svelte-raack4",n.className="search svelte-raack4"},m:function m(e,l){Object($t.w)(e,n,l),Object($t.d)(n,a),a.value=t.value,Object($t.d)(n,s),Object($t.d)(n,r)},p:function p(e,t){!l&&e.value&&(a.value=t.value),e.placeholder&&(a.placeholder=t.placeholder)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(a,"input",input_input_handler),Object($t.D)(a,"input",input_handler)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(Connect_search_svelte.prototype,$t.z);var xn=Connect_search_svelte,Dn=n("./core/store/index.js");n("./core/chat/components/panel-chats-list.svelte.svelte.css");var Rn={openChat:function openChat(e,t){e.preventDefault(),es(document.querySelector(R.n.MAIN_NAV_CONNECT_LINK)),kn(),this.store.openChat(t)}};function panel_chats_list_svelte_oncreate(){this.store.loadOnlineStatus(!0)}function panel_chats_list_svelte_click_handler_1(e){var t=this._svelte,n=t.component,a=t.ctx;n.openChat(e,a.chat.id)}function panel_chats_list_svelte_click_handler(e){e.stopPropagation();var t=this._svelte,n=t.component,a=t.ctx;n.store.deactivateChat(a.chat.id)}function get_each_context(e,t,n){var a=Object.create(e);return a.chat=t[n],a}function panel_chats_list_svelte_create_if_block_1(e,t){var n,a,s,r,l,u,f=t.chat.name,_={chat:t.chat,size:"25"},b=new In.a({root:e.root,store:e.store,data:_}),h=t.chat.isActive&&create_if_block_3(e,t),v=t.chat.newMessages&&create_if_block_2(e,t);return{c:function c(){n=Object($t.i)("div"),b._fragment.c(),a=Object($t.k)("\n\n      "),s=Object($t.i)("span"),r=Object($t.k)(f),l=Object($t.k)("\n\n      "),h&&h.c(),u=Object($t.k)("\n\n      "),v&&v.c(),s.className="chat-list-name svelte-1cn5nw1",n._svelte={component:e,ctx:t},Object($t.c)(n,"click",panel_chats_list_svelte_click_handler_1),n.className="chat-list-item svelte-1cn5nw1"},m:function m(e,t){Object($t.w)(e,n,t),b._mount(n,null),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(s,r),Object($t.d)(n,l),h&&h.m(n,null),Object($t.d)(n,u),v&&v.m(n,null)},p:function p(a,s){t=s;var l={};a.$filteredList&&(l.chat=t.chat),b._set(l),a.$filteredList&&f!==(f=t.chat.name)&&Object($t.F)(r,f),t.chat.isActive?h?h.p(a,t):((h=create_if_block_3(e,t)).c(),h.m(n,u)):h&&(h.d(1),h=null),t.chat.newMessages?v?v.p(a,t):((v=create_if_block_2(e,t)).c(),v.m(n,null)):v&&(v.d(1),v=null),n._svelte.ctx=t},d:function d(e){e&&Object($t.q)(n),b.destroy(),h&&h.d(),v&&v.d(),Object($t.D)(n,"click",panel_chats_list_svelte_click_handler_1)}}}function create_if_block_3(e,t){var n,a,s;return{c:function c(){n=Object($t.i)("button"),(a=Object($t.i)("span")).className="icon-font-chess x",n._svelte={component:e,ctx:t},Object($t.c)(n,"click",panel_chats_list_svelte_click_handler),n.type="button",n.className="chat-list-deactivate svelte-1cn5nw1",n.title=s=t.chatTranslations.deactivateChat},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,a){t=a,n._svelte.ctx=t,e.chatTranslations&&s!==(s=t.chatTranslations.deactivateChat)&&(n.title=s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",panel_chats_list_svelte_click_handler)}}}function create_if_block_2(e,t){var n,a,s=t.chat.newMessages;return{c:function c(){n=Object($t.i)("span"),a=Object($t.k)(s),n.className="chat-list-counter svelte-1cn5nw1"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.$filteredList&&s!==(s=t.chat.newMessages)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n)}}}function create_each_block(e,t){var n,a=(t.chat.isActive||t.$showInactiveChats)&&panel_chats_list_svelte_create_if_block_1(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.chat.isActive||s.$showInactiveChats?a?a.p(t,s):((a=panel_chats_list_svelte_create_if_block_1(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}function panel_chats_list_svelte_create_if_block(e,t){var n,a;function click_handler_2(t){e.store.toggleInactiveChats()}return{c:function c(){n=Object($t.i)("button"),a=Object($t.k)(t.togglerText),Object($t.c)(n,"click",click_handler_2),n.className="chat-list-inactive-toggler svelte-1cn5nw1",n.type="button"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.togglerText&&Object($t.F)(a,t.togglerText)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler_2)}}}function Panel_chats_list_svelte(e){var t=this;Object($t.v)(this,e),this.store=function store_1(){return Dn.default.stores.chat}(),this._state=Object($t.e)(Object($t.e)(this.store._init(["showInactiveChats","searchQuery","filteredList","inactiveChatsCounter"]),function panel_chats_list_svelte_data(){return{chatTranslations:Mn.k,translations:Ut.a}}()),e.data),this.store._add(this,["showInactiveChats","searchQuery","filteredList","inactiveChatsCounter"]),this._recompute({$showInactiveChats:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function panel_chats_list_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f={},_={placeholder:t.translations.searchUsername};void 0!==t.$searchQuery&&(_.value=t.$searchQuery,f.value=!0);var b=new xn({root:e.root,store:e.store,data:_,_bind:function _bind(t,n){var a={};!f.value&&t.value&&(a.searchQuery=n.value),e.store.set(a),f={}}});function click_handler(t){e.store.startGroupChat()}e.root._beforecreate.push((function(){b._bind({value:1},b.get())})),b.on("input",(function(t){e.store.filterList()}));for(var h=t.$filteredList,v=[],g=0;g<h.length;g+=1)v[g]=create_each_block(e,get_each_context(t,h,g));var O=t.$inactiveChatsCounter&&panel_chats_list_svelte_create_if_block(e,t);return{c:function c(){n=Object($t.i)("div"),b._fragment.c(),a=Object($t.k)("\n\n  "),(s=Object($t.i)("button")).innerHTML='<span class="icon-font-chess plus"></span>',r=Object($t.k)("\n\n");for(var e=0;e<v.length;e+=1)v[e].c();l=Object($t.k)("\n\n"),O&&O.c(),u=Object($t.h)(),Object($t.c)(s,"click",click_handler),s.className="chat-list-start-group-chat svelte-1cn5nw1",s.type="button",n.className="chat-list-search-container svelte-1cn5nw1"},m:function m(e,t){Object($t.w)(e,n,t),b._mount(n,null),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.w)(e,r,t);for(var f=0;f<v.length;f+=1)v[f].m(e,t);Object($t.w)(e,l,t),O&&O.m(e,t),Object($t.w)(e,u,t)},p:function p(n,a){t=a;var s={};if(n.translations&&(s.placeholder=t.translations.searchUsername),!f.value&&n.$searchQuery&&(s.value=t.$searchQuery,f.value=void 0!==t.$searchQuery),b._set(s),f={},n.$filteredList||n.$showInactiveChats||n.chatTranslations){h=t.$filteredList;for(var r=0;r<h.length;r+=1){var _=get_each_context(t,h,r);v[r]?v[r].p(n,_):(v[r]=create_each_block(e,_),v[r].c(),v[r].m(l.parentNode,l))}for(;r<v.length;r+=1)v[r].d(1);v.length=h.length}t.$inactiveChatsCounter?O?O.p(n,t):((O=panel_chats_list_svelte_create_if_block(e,t)).c(),O.m(u.parentNode,u)):O&&(O.d(1),O=null)},d:function d(e){e&&Object($t.q)(n),b.destroy(),Object($t.D)(s,"click",click_handler),e&&Object($t.q)(r),Object($t.m)(v,e),e&&Object($t.q)(l),O&&O.d(e),e&&Object($t.q)(u)}}}(this,this._state),this.root._oncreate.push((function(){panel_chats_list_svelte_oncreate.call(t),t.fire("update",{changed:Object($t.f)({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Panel_chats_list_svelte.prototype,$t.z),Object($t.e)(Panel_chats_list_svelte.prototype,Rn),Panel_chats_list_svelte.prototype._recompute=function _recompute(e,t){e.$showInactiveChats&&this._differs(t.togglerText,t.togglerText=function togglerText(e){return e.$showInactiveChats?Mn.k.hideInactiveChats:Mn.k.showInactiveChats}(t))&&(e.togglerText=!0)};var Un=Panel_chats_list_svelte,zn=n("./utils/common/debounce.js");n("./core/modals/components/three-loader-bounce.svelte.svelte.css");function Three_loader_bounce_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)({},e.data),this._intro=!0,this._fragment=function three_loader_bounce_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f;return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.k)("\n  "),r=Object($t.i)("div"),l=Object($t.k)("\n  "),u=Object($t.i)("div"),a.className="dot bounce1 svelte-1oyt1y8",r.className="dot bounce2 svelte-1oyt1y8",u.className="dot svelte-1oyt1y8",n.className=f="component "+t.style+" svelte-1oyt1y8"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(n,l),Object($t.d)(n,u)},p:function p(e,t){e.style&&f!==(f="component "+t.style+" svelte-1oyt1y8")&&(n.className=f)},d:function d(e){e&&Object($t.q)(n)}}}(0,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(Three_loader_bounce_svelte.prototype,$t.z);var Fn=Three_loader_bounce_svelte,$n=n("./core/navigation/components/avatar.svelte.html");n("./core/navigation/components/players-clubs.svelte.svelte.css");function profileUrl(e){return U.default.generate("web_member_view",{username:e})}var Hn={clubSearch:Object(zn.a)((function clubSearch(){this.store.searchClub()}),250),friendSearch:Object(zn.a)((function friendSearch(){this.store.searchUsername().then((function(){Pn({targets:Object(Dt.a)(R.n.FRIEND_RESULTS),hideOnClickOutside:!0})}))}),250),friendChange:function friendChange(e){e.target.value.length&&(this.store.set({searchingFriends:!0}),this.store.set({friendSearchResults:[]}),this.friendSearch())},mouseEnterEvent:En,mouseLeaveEvent:Tn,sendChallenge:function sendChallenge(e,t){var n=t.username;e.preventDefault(),window.location=U.default.generate("web_play_new",{opponent:n})},startDirectChat:function startDirectChat(e,t){e.preventDefault(),es(document.querySelector(R.n.MAIN_NAV_CONNECT_LINK)),kn(),Dn.default.stores.chat.startDirectChat({avatarUrl:t.avatar_url,id:String(t.uuid),username:t.username})}};function players_clubs_svelte_oncreate(){Pn({targets:Object(Dt.a)(R.n.FRIEND_RESULTS),hideOnClickOutside:!0})}function get_each_context_1(e,t,n){var a=Object.create(e);return a.club=t[n],a}function mouseleave_handler_1(e){this._svelte.component.mouseLeaveEvent(e)}function mouseenter_handler_1(e){this._svelte.component.mouseEnterEvent(e)}function players_clubs_svelte_click_handler_1(e){var t=this._svelte,n=t.component,a=t.ctx;n.startDirectChat(e,a.friend)}function players_clubs_svelte_mouseleave_handler(e){this._svelte.component.mouseLeaveEvent(e)}function players_clubs_svelte_mouseenter_handler(e){this._svelte.component.mouseEnterEvent(e)}function players_clubs_svelte_click_handler(e){var t=this._svelte,n=t.component,a=t.ctx;n.sendChallenge(e,a.friend)}function players_clubs_svelte_get_each_context(e,t,n){var a=Object.create(e);return a.friend=t[n],a}function players_clubs_svelte_create_if_block(e,t){var n,a,s,r=t.showTabs&&create_if_block_10(e,t);function select_block_type(e){return e.showContentFriends?players_clubs_svelte_create_if_block_1:e.showContentClubs?create_if_block_6:e.showContentChat?create_if_block_8:void 0}var l=select_block_type(t),u=l&&l(e,t);return{c:function c(){n=Object($t.i)("div"),r&&r.c(),a=Object($t.k)("\n    "),s=Object($t.i)("div"),u&&u.c(),s.className="tab-content svelte-1rbtdnt",n.className="component svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),r&&r.m(n,null),Object($t.d)(n,a),Object($t.d)(n,s),u&&u.m(s,null)},p:function p(t,f){f.showTabs?r?r.p(t,f):((r=create_if_block_10(e,f)).c(),r.m(n,a)):r&&(r.d(1),r=null),l===(l=select_block_type(f))&&u?u.p(t,f):(u&&u.d(1),(u=l&&l(e,f))&&u.c(),u&&u.m(s,null))},d:function d(e){e&&Object($t.q)(n),r&&r.d(),u&&u.d()}}}function create_if_block_10(e,t){var n,a,s,r=t.$navData.friends.length&&create_if_block_13(e,t),l=t.$clubs.length&&create_if_block_12(e,t),u=t.$displayChatTab&&create_if_block_11(e,t);return{c:function c(){n=Object($t.i)("div"),r&&r.c(),a=Object($t.k)("\n\n      "),l&&l.c(),s=Object($t.k)("\n\n      "),u&&u.c(),n.className="tabs svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),r&&r.m(n,null),Object($t.d)(n,a),l&&l.m(n,null),Object($t.d)(n,s),u&&u.m(n,null)},p:function p(t,f){f.$navData.friends.length?r?r.p(t,f):((r=create_if_block_13(e,f)).c(),r.m(n,a)):r&&(r.d(1),r=null),f.$clubs.length?l?l.p(t,f):((l=create_if_block_12(e,f)).c(),l.m(n,s)):l&&(l.d(1),l=null),f.$displayChatTab?u?u.p(t,f):((u=create_if_block_11(e,f)).c(),u.m(n,null)):u&&(u.d(1),u=null)},d:function d(e){e&&Object($t.q)(n),r&&r.d(),l&&l.d(),u&&u.d()}}}function create_if_block_13(e,t){var n,a,s,r=t.translations.friends;function click_handler(n){e.store.set({currentTab:t.tabs.FRIENDS_TAB})}return{c:function c(){n=Object($t.i)("div"),a=Object($t.k)(r),Object($t.c)(n,"click",click_handler),n.className=s="tab "+(t.currentTab===t.tabs.FRIENDS_TAB?"active":"")+" svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,l){t=l,e.translations&&r!==(r=t.translations.friends)&&Object($t.F)(a,r),(e.currentTab||e.tabs)&&s!==(s="tab "+(t.currentTab===t.tabs.FRIENDS_TAB?"active":"")+" svelte-1rbtdnt")&&(n.className=s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function create_if_block_12(e,t){var n,a,s,r=t.translations.clubs;function click_handler(n){e.store.set({currentTab:t.tabs.CLUBS_TAB})}return{c:function c(){n=Object($t.i)("div"),a=Object($t.k)(r),Object($t.c)(n,"click",click_handler),n.className=s="tab "+(t.currentTab===t.tabs.CLUBS_TAB?"active":"")+" svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,l){t=l,e.translations&&r!==(r=t.translations.clubs)&&Object($t.F)(a,r),(e.currentTab||e.tabs)&&s!==(s="tab "+(t.currentTab===t.tabs.CLUBS_TAB?"active":"")+" svelte-1rbtdnt")&&(n.className=s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function create_if_block_11(e,t){var n,a,s,r=t.translations.chat;function click_handler(n){e.store.set({currentTab:t.tabs.CHATS_TAB})}return{c:function c(){n=Object($t.i)("div"),a=Object($t.k)(r),Object($t.c)(n,"click",click_handler),n.className=s="tab "+(t.currentTab===t.tabs.CHATS_TAB?"active":"")+" svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,l){t=l,e.translations&&r!==(r=t.translations.chat)&&Object($t.F)(a,r),(e.currentTab||e.tabs)&&s!==(s="tab "+(t.currentTab===t.tabs.CHATS_TAB?"active":"")+" svelte-1rbtdnt")&&(n.className=s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function create_if_block_8(e,t){var n,a=!t.showTabs&&create_if_block_9(e,t),s=new Un({root:e.root,store:e.store});return{c:function c(){a&&a.c(),n=Object($t.k)("\n\n        "),s._fragment.c()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t),s._mount(e,t)},p:function p(t,s){s.showTabs?a&&(a.d(1),a=null):a?a.p(t,s):((a=create_if_block_9(e,s)).c(),a.m(n.parentNode,n))},d:function d(e){a&&a.d(e),e&&Object($t.q)(n),s.destroy(e)}}}function create_if_block_6(e,t){var n,a,s,r={},l=!t.showTabs&&create_if_block_7(e,t),u={placeholder:t.translations.typeClubName};void 0!==t.$clubSearch&&(u.value=t.$clubSearch,r.value=!0);var f=new xn({root:e.root,store:e.store,data:u,_bind:function _bind(t,n){var a={};!r.value&&t.value&&(a.clubSearch=n.value),e.store.set(a),r={}}});e.root._beforecreate.push((function(){f._bind({value:1},f.get())}));for(var _=t.clubs,b=[],h=0;h<_.length;h+=1)b[h]=create_each_block_1(e,get_each_context_1(t,_,h));return{c:function c(){l&&l.c(),n=Object($t.k)("\n        "),f._fragment.c(),a=Object($t.k)("\n\n        ");for(var e=0;e<b.length;e+=1)b[e].c();s=Object($t.h)()},m:function m(e,t){l&&l.m(e,t),Object($t.w)(e,n,t),f._mount(e,t),Object($t.w)(e,a,t);for(var r=0;r<b.length;r+=1)b[r].m(e,t);Object($t.w)(e,s,t)},p:function p(a,u){(t=u).showTabs?l&&(l.d(1),l=null):l?l.p(a,t):((l=create_if_block_7(e,t)).c(),l.m(n.parentNode,n));var h={};if(a.translations&&(h.placeholder=t.translations.typeClubName),!r.value&&a.$clubSearch&&(h.value=t.$clubSearch,r.value=void 0!==t.$clubSearch),f._set(h),r={},a.clubs){_=t.clubs;for(var v=0;v<_.length;v+=1){var g=get_each_context_1(t,_,v);b[v]?b[v].p(a,g):(b[v]=create_each_block_1(e,g),b[v].c(),b[v].m(s.parentNode,s))}for(;v<b.length;v+=1)b[v].d(1);b.length=_.length}},d:function d(e){l&&l.d(e),e&&Object($t.q)(n),f.destroy(e),e&&Object($t.q)(a),Object($t.m)(b,e),e&&Object($t.q)(s)}}}function players_clubs_svelte_create_if_block_1(e,t){var n,a,s,r,l={},u=!t.showTabs&&create_if_block_5(e,t),f={placeholder:t.translations.typeFriendName};void 0!==t.$friendSearch&&(f.value=t.$friendSearch,l.value=!0);var _=new xn({root:e.root,store:e.store,data:f,_bind:function _bind(t,n){var a={};!l.value&&t.value&&(a.friendSearch=n.value),e.store.set(a),l={}}});e.root._beforecreate.push((function(){_._bind({value:1},_.get())})),_.on("input",(function(t){e.friendChange(t)}));for(var b=t.$friendSearch.length>0&&players_clubs_svelte_create_if_block_2(e,t),h=t.friends,v=[],g=0;g<h.length;g+=1)v[g]=players_clubs_svelte_create_each_block(e,players_clubs_svelte_get_each_context(t,h,g));return{c:function c(){u&&u.c(),n=Object($t.k)("\n        "),_._fragment.c(),a=Object($t.k)("\n\n        "),b&&b.c(),s=Object($t.k)("\n        ");for(var e=0;e<v.length;e+=1)v[e].c();r=Object($t.h)()},m:function m(e,t){u&&u.m(e,t),Object($t.w)(e,n,t),_._mount(e,t),Object($t.w)(e,a,t),b&&b.m(e,t),Object($t.w)(e,s,t);for(var l=0;l<v.length;l+=1)v[l].m(e,t);Object($t.w)(e,r,t)},p:function p(a,f){(t=f).showTabs?u&&(u.d(1),u=null):u?u.p(a,t):((u=create_if_block_5(e,t)).c(),u.m(n.parentNode,n));var g={};if(a.translations&&(g.placeholder=t.translations.typeFriendName),!l.value&&a.$friendSearch&&(g.value=t.$friendSearch,l.value=void 0!==t.$friendSearch),_._set(g),l={},t.$friendSearch.length>0?b?b.p(a,t):((b=players_clubs_svelte_create_if_block_2(e,t)).c(),b.m(s.parentNode,s)):b&&(b.d(1),b=null),a.friends||a.translations){h=t.friends;for(var O=0;O<h.length;O+=1){var j=players_clubs_svelte_get_each_context(t,h,O);v[O]?v[O].p(a,j):(v[O]=players_clubs_svelte_create_each_block(e,j),v[O].c(),v[O].m(r.parentNode,r))}for(;O<v.length;O+=1)v[O].d(1);v.length=h.length}},d:function d(e){u&&u.d(e),e&&Object($t.q)(n),_.destroy(e),e&&Object($t.q)(a),b&&b.d(e),e&&Object($t.q)(s),Object($t.m)(v,e),e&&Object($t.q)(r)}}}function create_if_block_9(e,t){var n,a,s=t.translations.chat;return{c:function c(){n=Object($t.i)("div"),a=Object($t.k)(s),n.className="tabless-label svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.chat)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n)}}}function create_if_block_7(e,t){var n,a,s=t.translations.clubs;return{c:function c(){n=Object($t.i)("div"),a=Object($t.k)(s),n.className="tabless-label svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.clubs)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n)}}}function create_each_block_1(e,t){var n,a,s,r,l,u,f,_,b,h=t.club.name;return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("img"),l=Object($t.k)("\n            "),u=Object($t.i)("div"),f=Object($t.k)(h),_=Object($t.k)("\n          "),a.alt=s=t.club.name,a.src=r=t.club.icon,a.className="avatar svelte-1rbtdnt",a.width="25",a.height="25",u.className="name svelte-1rbtdnt",n.className="svelte-result sub-link svelte-1rbtdnt",n.href=b=t.club.url,n.target="_self"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,l),Object($t.d)(n,u),Object($t.d)(u,f),Object($t.d)(n,_)},p:function p(e,t){e.clubs&&s!==(s=t.club.name)&&(a.alt=s),e.clubs&&r!==(r=t.club.icon)&&(a.src=r),e.clubs&&h!==(h=t.club.name)&&Object($t.F)(f,h),e.clubs&&b!==(b=t.club.url)&&(n.href=b)},d:function d(e){e&&Object($t.q)(n)}}}function create_if_block_5(e,t){var n,a,s=t.translations.friends;return{c:function c(){n=Object($t.i)("div"),a=Object($t.k)(s),n.className="tabless-label svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.friends)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n)}}}function players_clubs_svelte_create_if_block_2(e,t){var n;function select_block_type_1(e){return e.$friendSearch.length<3?players_clubs_svelte_create_if_block_3:e.$searchingFriends?create_if_block_4:void 0}var a=select_block_type_1(t),s=a&&a(e,t);return{c:function c(){s&&s.c(),n=Object($t.h)()},m:function m(e,t){s&&s.m(e,t),Object($t.w)(e,n,t)},p:function p(t,r){a===(a=select_block_type_1(r))&&s?s.p(t,r):(s&&s.d(1),(s=a&&a(e,r))&&s.c(),s&&s.m(n.parentNode,n))},d:function d(e){s&&s.d(e),e&&Object($t.q)(n)}}}function create_if_block_4(e,t){var n,a=new Fn({root:e.root,store:e.store,data:{style:"light"}});return{c:function c(){n=Object($t.i)("span"),a._fragment.c(),n.className="svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),a._mount(n,null)},p:$t.x,d:function d(e){e&&Object($t.q)(n),a.destroy()}}}function players_clubs_svelte_create_if_block_3(e,t){var n,a,s=t.translations.pleaseEnter;return{c:function c(){n=Object($t.i)("span"),a=Object($t.k)(s),n.className="svelte-1rbtdnt"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.pleaseEnter)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n)}}}function players_clubs_svelte_create_each_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j=t.friend.username,y={size:"25",src:t.friend.avatar_url,live:t.friend.is_in_livechess,online:t.friend.is_online,username:t.friend.username},w=new $n.a({root:e.root,store:e.store,data:y});return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("span"),w._fragment.c(),s=Object($t.k)("\n\n            "),r=Object($t.i)("div"),l=Object($t.k)(j),u=Object($t.k)("\n\n            "),f=Object($t.i)("div"),b=Object($t.k)("\n\n            "),h=Object($t.i)("div"),g=Object($t.k)("\n          "),a.className="avatar svelte-1rbtdnt",r.className="name svelte-1rbtdnt",f._svelte={component:e,ctx:t},Object($t.c)(f,"click",players_clubs_svelte_click_handler),Object($t.c)(f,"mouseenter",players_clubs_svelte_mouseenter_handler),Object($t.c)(f,"mouseleave",players_clubs_svelte_mouseleave_handler),f.className="connect-tooltip-listener friend-action icon-font icon-font-chess sub-link chess-board-plus svelte-1rbtdnt",f.dataset.tooltipContent=_=t.translations.newGame,h._svelte={component:e,ctx:t},Object($t.c)(h,"click",players_clubs_svelte_click_handler_1),Object($t.c)(h,"mouseenter",mouseenter_handler_1),Object($t.c)(h,"mouseleave",mouseleave_handler_1),h.className="connect-tooltip-listener friend-action icon-font icon-font-chess sub-link chat svelte-1rbtdnt",h.dataset.tooltipContent=v=t.translations.chat,n.className="svelte-result svelte-friend-result sub-link svelte-1rbtdnt",n.href=O=profileUrl(t.friend.username),n.target="_self"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),w._mount(a,null),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(r,l),Object($t.d)(n,u),Object($t.d)(n,f),Object($t.d)(n,b),Object($t.d)(n,h),Object($t.d)(n,g)},p:function p(e,a){t=a;var s={};e.friends&&(s.src=t.friend.avatar_url),e.friends&&(s.live=t.friend.is_in_livechess),e.friends&&(s.online=t.friend.is_online),e.friends&&(s.username=t.friend.username),w._set(s),e.friends&&j!==(j=t.friend.username)&&Object($t.F)(l,j),f._svelte.ctx=t,e.translations&&_!==(_=t.translations.newGame)&&(f.dataset.tooltipContent=_),h._svelte.ctx=t,e.translations&&v!==(v=t.translations.chat)&&(h.dataset.tooltipContent=v),e.friends&&O!==(O=profileUrl(t.friend.username))&&(n.href=O)},d:function d(e){e&&Object($t.q)(n),w.destroy(),Object($t.D)(f,"click",players_clubs_svelte_click_handler),Object($t.D)(f,"mouseenter",players_clubs_svelte_mouseenter_handler),Object($t.D)(f,"mouseleave",players_clubs_svelte_mouseleave_handler),Object($t.D)(h,"click",players_clubs_svelte_click_handler_1),Object($t.D)(h,"mouseenter",mouseenter_handler_1),Object($t.D)(h,"mouseleave",mouseleave_handler_1)}}}function Players_clubs_svelte(e){var t=this;Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["friendSearch","friendSearchResults","navData","clubs","clubSearch","currentTab","displayChatTab","searchingFriends"]),function players_clubs_svelte_data(){return{selectors:R.n,tabs:Me.b,translations:Ut.a}}()),e.data),this.store._add(this,["friendSearch","friendSearchResults","navData","clubs","clubSearch","currentTab","displayChatTab","searchingFriends"]),this._recompute({$friendSearch:1,$friendSearchResults:1,$navData:1,$clubs:1,$clubSearch:1,$currentTab:1,tabs:1,$displayChatTab:1,currentTab:1,showTabs:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function players_clubs_svelte_create_main_fragment(e,t){var n,a=t.showComponent&&players_clubs_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.showComponent?a?a.p(t,s):((a=players_clubs_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),this.root._oncreate.push((function(){players_clubs_svelte_oncreate.call(t),t.fire("update",{changed:Object($t.f)({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Players_clubs_svelte.prototype,$t.z),Object($t.e)(Players_clubs_svelte.prototype,Hn),Players_clubs_svelte.prototype._recompute=function _recompute(e,t){(e.$friendSearch||e.$friendSearchResults||e.$navData)&&this._differs(t.friends,t.friends=function friends(e){var t=e.$friendSearch,n=e.$friendSearchResults,a=e.$navData;return t.length?n:a.friends}(t))&&(e.friends=!0),(e.$clubs||e.$clubSearch)&&this._differs(t.clubs,t.clubs=function clubs(e){var t=e.$clubs,n=e.$clubSearch;return n.length?t.filter((function(e){return e.name.toLowerCase().indexOf(n.toLowerCase())>=0})):t}(t))&&(e.clubs=!0),(e.$clubs||e.$currentTab||e.$navData||e.tabs)&&this._differs(t.currentTab,t.currentTab=function currentTab(e){var t=e.$clubs,n=e.$currentTab,a=e.$navData,s=e.tabs,r=n;return n!==s.FRIENDS_TAB||a.friends.length||(r=s.CLUBS_TAB),n!==s.CLUBS_TAB||t.length||(r=s.FRIENDS_TAB),r}(t))&&(e.currentTab=!0),(e.$clubs||e.$navData||e.$displayChatTab)&&this._differs(t.showComponent,t.showComponent=function showComponent(e){var t=e.$clubs,n=e.$navData,a=e.$displayChatTab;return ut()&&(n.friends&&n.friends.length||t.length||a)}(t))&&(e.showComponent=!0),(e.$navData||e.$clubs||e.$displayChatTab)&&this._differs(t.showTabs,t.showTabs=function showTabs(e){var t=e.$navData,n=e.$clubs,a=e.$displayChatTab;return[t.friends.length,n.length,a].filter((function(e){return e})).length>1}(t))&&(e.showTabs=!0),(e.$navData||e.currentTab||e.showTabs||e.tabs)&&this._differs(t.showContentFriends,t.showContentFriends=function showContentFriends(e){var t=e.$navData,n=e.currentTab,a=e.showTabs,s=e.tabs;return a&&n===s.FRIENDS_TAB||!a&&t.friends.length}(t))&&(e.showContentFriends=!0),(e.$clubs||e.currentTab||e.showTabs||e.tabs)&&this._differs(t.showContentClubs,t.showContentClubs=function showContentClubs(e){var t=e.$clubs,n=e.currentTab,a=e.showTabs,s=e.tabs;return a&&n===s.CLUBS_TAB||!a&&t.length}(t))&&(e.showContentClubs=!0),(e.$displayChatTab||e.currentTab||e.showTabs||e.tabs)&&this._differs(t.showContentChat,t.showContentChat=function showContentChat(e){var t=e.$displayChatTab,n=e.currentTab,a=e.showTabs,s=e.tabs;return a&&n===s.CHATS_TAB||!a&&t}(t))&&(e.showContentChat=!0)};var Gn=Players_clubs_svelte;var qn={handleClick:function handleClick(e){Object(ke.d)()&&(e.preventDefault(),bn())}};function connect_panel_svelte_create_if_block(e,t){var n,a,s,r=t.translations.friends;function click_handler(t){e.handleClick(t)}return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(r),Object($t.c)(n,"click",click_handler),n.href=s=t.routes.friends,n.className="link main-link sprite friends"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&r!==(r=t.translations.friends)&&Object($t.F)(a,r),e.routes&&s!==(s=t.routes.friends)&&(n.href=s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function Connect_panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(function connect_panel_svelte_data(){return{isLoggedIn:ut(),translations:Ut.a}}(),e.data),this._intro=!0,this._fragment=function connect_panel_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S=t.translations.forums,A=t.translations.clubs,L=t.translations.blogs,P=t.translations.members,M=t.translations.coaches,I=t.isLoggedIn&&connect_panel_svelte_create_if_block(e,t),x=new Gn({root:e.root,store:e.store}),D=new An({root:e.root,store:e.store,slots:{default:Object($t.j)()}});return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(S),r=Object($t.k)("\n\n  "),l=Object($t.i)("a"),u=Object($t.k)(A),_=Object($t.k)("\n\n  "),I&&I.c(),b=Object($t.k)("\n\n  "),h=Object($t.i)("a"),v=Object($t.k)(L),O=Object($t.k)("\n\n  "),j=Object($t.i)("a"),y=Object($t.k)(P),k=Object($t.k)("\n\n  "),E=Object($t.i)("a"),T=Object($t.k)(M),C=Object($t.k)("\n\n  "),x._fragment.c(),D._fragment.c(),n.href=s=t.routes.forums,n.className="link main-link sprite connect",l.href=f=t.routes.clubs,l.className="link main-link sprite clubs",h.href=g=t.routes.blogs,h.className="link main-link sprite blogs",j.href=w=t.routes.members,j.className="link main-link sprite members",E.href=N=t.routes.coaches,E.className="link main-link sprite coaches"},m:function m(e,t){Object($t.d)(D._slotted.default,n),Object($t.d)(n,a),Object($t.d)(D._slotted.default,r),Object($t.d)(D._slotted.default,l),Object($t.d)(l,u),Object($t.d)(D._slotted.default,_),I&&I.m(D._slotted.default,null),Object($t.d)(D._slotted.default,b),Object($t.d)(D._slotted.default,h),Object($t.d)(h,v),Object($t.d)(D._slotted.default,O),Object($t.d)(D._slotted.default,j),Object($t.d)(j,y),Object($t.d)(D._slotted.default,k),Object($t.d)(D._slotted.default,E),Object($t.d)(E,T),Object($t.d)(D._slotted.default,C),x._mount(D._slotted.default,null),D._mount(e,t)},p:function p(t,r){t.translations&&S!==(S=r.translations.forums)&&Object($t.F)(a,S),t.routes&&s!==(s=r.routes.forums)&&(n.href=s),t.translations&&A!==(A=r.translations.clubs)&&Object($t.F)(u,A),t.routes&&f!==(f=r.routes.clubs)&&(l.href=f),r.isLoggedIn?I?I.p(t,r):((I=connect_panel_svelte_create_if_block(e,r)).c(),I.m(b.parentNode,b)):I&&(I.d(1),I=null),t.translations&&L!==(L=r.translations.blogs)&&Object($t.F)(v,L),t.routes&&g!==(g=r.routes.blogs)&&(h.href=g),t.translations&&P!==(P=r.translations.members)&&Object($t.F)(y,P),t.routes&&w!==(w=r.routes.members)&&(j.href=w),t.translations&&M!==(M=r.translations.coaches)&&Object($t.F)(T,M),t.routes&&N!==(N=r.routes.coaches)&&(E.href=N)},d:function d(e){I&&I.d(),x.destroy(),D.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Connect_panel_svelte.prototype,$t.z),Object($t.e)(Connect_panel_svelte.prototype,qn);var Bn=Connect_panel_svelte,Wn=document.querySelector(".connect.nav-panel"),Vn=null,Kn="data-constant-message-unread-count-max",Yn="data-notifications-limit",Zn={},Qn=document.getElementById(S),Jn=function getConstant(e,t){return Zn[e]||(Qn&&Qn.getAttribute(e)?Zn[e]=Number(Qn.getAttribute(e)):Zn[e]=t),Zn[e]},Xn=n("./core/navigation/config/routes.js"),ea={facebook:U.default.generate("web_security_login_facebook"),forgotPassword:U.default.generate("web_security_forgot"),formParams:function formParams(e){return U.default.generate("web_security_register_form",e)},google:U.default.generate("web_security_login_google"),guestLogin:U.default.generate("web_guest_login",{returnUrl:window.location.href}),policiesPrivacy:U.default.generate("web_policies_privacy"),termsOfService:U.default.generate("web_policies_agreement"),register:U.default.generate("web_security_register"),registerProcess:function registerProcess(e){return U.default.generate("web_security_process",e)},login:U.default.generate("web_security_login_check")},ta=(xe.default.trans("Facebook"),xe.default.trans("Forgot Password?"),xe.default.trans("Google"),xe.default.trans("or"),xe.default.trans("or log In"),xe.default.trans("Log In"),xe.default.trans("Password"),xe.default.trans("Remember"),xe.default.trans("Sign Up"),xe.default.trans("Username/Email"),xe.default.trans("New Members Today"),xe.default.trans("Privacy Guaranteed"),xe.default.trans("Your email address & personal info are safe and will NEVER be shared with anyone!"),xe.default.trans('See our complete Privacy Policy <a target="_blank" href=%policiesPrivacy%>here</a>',{"%policiesPrivacy%":ea.policiesPrivacy}),'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 41.6"><path class="cls-1" d="M15.2.4H14c-2 .1-3.6 1.5-4 3.4l-.4 1.6c-.3.4-.7.7-1.1 1-1 .8-1.7 1.8-2.1 3l-.1.1V9.8l-.6 1.8v.1c-.2.9-.6 1.7-1.2 2.5l-3 4.2c-1.7 2.2-1.4 5.2.6 7.1h.1c1.8 1.3 3.9 2 6.1 2.2.4 0 .8-.1 1.1-.2-.6.9-1 1.8-1.3 2.8-1.4.6-2.5 1.7-3.1 3.1-.6 1.5-.9 3.2-.7 4.9 0 .2 0 .4.1.5v1.6c0 .7.6 1.3 1.3 1.3h28.6c.7 0 1.3-.6 1.3-1.3v-2.1c.1-1.7-.1-3.4-.8-4.9-.5-1.1-1.2-1.9-2.2-2.6.8-2.6 1.3-5.2 1.5-7.9 0-11.7-7.6-17.8-15.4-18.9l-2.9-3-.6-.6z" fill="#8a8886"/><path d="M33.5 38.2v1.4H6.3v-1c0-.1-.1-.2-.1-.4-.1-1.4.1-2.7.6-4 .6-1.2 1.7-2.1 3-2.5.7-3.7 3.8-6.3 5.8-7.8v-.1c.8-.5 1.4-1.2 2-1.9.2-.3.4-.7.6-1.1.1-.5 0-1.1-.2-1.5v.2c-1 1.1-3 3.2-5.5 3.2-1.2 0-1.6.4-2.1 1.4-.3.5-.7.9-1.1 1.3-.3.3-.6.4-1 .4-1.8-.2-3.5-.8-5-1.8-1.2-1.2-1.4-3.1-.3-4.4l3-4.2c.7-1 1.2-2 1.5-3.1.1-.5.3-1.1.6-1.6l.1-.1c.3-1.2.8-2 1.6-2.7.7-.5 1.3-1.1 1.7-1.9l.4-1.7c.2-1 1.1-1.8 2.1-1.8h.4l3.3 3.3c7.2.7 14.4 6.1 14.4 17-.2 2.7-.8 5.4-1.6 7.9-.1.4-.2.8-.3 1.1 1.2.3 2.3 1.2 2.8 2.4s.6 2.6.5 4zM13.6 10.6c-1.4.6-1.7 2.9-1.7 2.9 1.3-1.1 2 .2 3.3-.8 1-1-.3-2.7-1.6-2.1z" fill="#fff"/></svg>'),na='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 42 41.4" xml:space="preserve"><path class="cls-1" d="M26.3.4c-2.1 0-4.1 1.1-5.3 2.9-1.9-2.9-5.8-3.8-8.7-1.9-1.8 1.2-2.9 3.1-2.9 5.3 0 .7.1 1.3.3 1.9-2.9-1.6-6.5-.7-8.2 2.2-.5.9-.8 2-.8 3.1.1 2.4 1.5 4.5 3.6 5.5l4.5 10.8c-1.1.5-1.9 1.4-2.5 2.4-.7 1.6-1 3.3-.9 5v2.5c0 .7.6 1.3 1.3 1.3h28.6c.7 0 1.3-.6 1.3-1.3V38c.2-1.8-.2-3.7-.9-5.4-.6-1-1.4-1.9-2.5-2.4l4.5-10.7c2.2-1 3.6-3.2 3.7-5.6 0-3.4-2.8-6.1-6.1-6.1-1 0-2 .3-2.9.8.2-.6.3-1.3.3-1.9 0-3.4-2.7-6.2-6.2-6.2-.1-.1-.2-.1-.2-.1z"/><path d="M39.3 13.9c0 1.9-1.3 3.5-3.2 4l-5.6 13.4h.1v.1c1.3.3 2.5 1.1 3.2 2.2.6 1.4.8 2.9.7 4.4v1.4H7.4V38c0-1.7-.1-3.2.6-4.4.8-1.2 2-2 3.4-2.3L5.8 17.9c-1.8-.5-3.1-2.1-3.1-4 0-2.2 1.8-4.1 4-4.1 1 0 2 .4 2.8 1.2.8.8 1.3 1.8 1.3 2.9 0 .6-.2 1.2-.5 1.7l3 3.2.3-8.4c-1.4-.7-2.4-2.1-2.3-3.7.1-2.4 2.1-4.2 4.5-4.1 2.2.1 4 1.9 4.1 4.1 0 1.1-.5 2.2-1.3 3l2.3 6.6 2.4-6.7c-.8-.8-1.3-1.9-1.3-3 .1-2.4 2.1-4.2 4.5-4.1 2.2.1 4 1.9 4.1 4.1 0 1.6-.9 3.1-2.4 3.8l.4 8.4 3-3.2c-.3-.5-.4-1.1-.4-1.7 0-2.2 1.8-4 4-4.1 2.2 0 4.1 1.9 4.1 4.1z" fill="#fff"/><path class="st0" d="M20.9 10.1l.1-.1.1.1-.1.1-.1-.1z"/></svg>',aa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.6 39"><path class="cls-1" d="M16.3.6c-.9 0-1.8.1-2.7.2h-.2l-.8.1-1.6.2v.2H9.4c-1.7 0-3.5.4-5 1.3l-.6.4-.2.1c-.6.3-1 1-.9 1.7V5l.1.7.4 5.2v.1c.1 2 1.2 3.8 2.9 4.9-.4 3.1-1 8.7-1.4 11.7-1.4.6-2.6 1.7-3.2 3.1-.6 1.6-.9 3.3-.7 5v2.1c-.1.6.4 1.2 1.2 1.2h28.7c.7 0 1.3-.6 1.3-1.3v-2.1c.1-1.7-.1-3.4-.8-5-.6-1.4-1.8-2.5-3.2-3.1-.4-3-1-8.6-1.4-11.7 1.7-1.1 2.7-2.9 2.9-4.9v-.1l.4-5.2v-.8c.1-.7-.3-1.4-.9-1.7l-.1-.1-.5-.3c-1.5-.8-3.3-1.3-5-1.3h-1.8v-.2L20 1l-.8-.1H19c-.9-.2-1.8-.3-2.7-.3z" fill="#8a8886"/><path d="M29.9 35.6V37H2.7v-1.4c-.1-1.4.1-2.8.6-4.1.7-1.3 1.8-2.1 3.2-2.4.4-2.8 1.4-11.6 1.7-14.3-1.7-.6-2.9-2.2-3-4l-.4-5.3-.1-.7.6-.3c1.2-.7 2.7-1.1 4.1-1h.8l.2.8.7 3.3h1.4l.4-3.8.1-.9.8-.1c.8-.1 1.7-.2 2.5-.2.9 0 1.7.1 2.5.2l.8.1.1.8.4 3.8h1.4l.7-3.3.2-.8h.8c1.4 0 2.8.4 4.1 1l.6.3-.1.7-.4 5.2c-.1 1.8-1.3 3.4-3 4 .3 2.7 1.4 11.5 1.7 14.3 1.4.3 2.6 1.2 3.2 2.5.6 1.4.8 2.8.6 4.2z" fill="#fff"/></svg>',sa="signup",ra=(xe.default.trans("New to Chess"),xe.default.trans("Beginner"),xe.default.trans("Intermediate"),xe.default.trans("Advanced"),"show-authentication-modal");n("./core/navigation/components/notification-controls.svelte.svelte.css");function notification_controls_svelte_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function notification_controls_svelte_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?notification_controls_svelte_ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):notification_controls_svelte_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oa={clearAll:function clearAll(e){e.stopPropagation(),this.store.ignoreAll()},mouseEnterEvent:En,mouseLeaveEvent:Tn,toggleShowNotificationsOnHome:function toggleShowNotificationsOnHome(e){e.preventDefault(),kn(),this.store.toggleShowNotificationsOnHome()}};function notification_controls_svelte_create_if_block_3(e,t){var n,a,s=t.translations.clearAll;function click_handler(t){e.clearAll(t)}return{c:function c(){n=Object($t.i)("span"),a=Object($t.k)(s),Object($t.c)(n,"click",click_handler),n.className="clear-all"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.clearAll)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function notification_controls_svelte_create_if_block_2(e,t){var n,a=new Fn({root:e.root,store:e.store,data:{style:"light"}});return{c:function c(){n=Object($t.i)("div"),a._fragment.c(),n.className="loading-container svelte-1u1h7mz"},m:function m(e,t){Object($t.w)(e,n,t),a._mount(n,null)},d:function d(e){e&&Object($t.q)(n),a.destroy()}}}function notification_controls_svelte_create_if_block_1(e,t){var n,a,s;function click_handler(t){e.toggleShowNotificationsOnHome(t)}function mouseenter_handler(t){e.mouseEnterEvent(t)}function mouseleave_handler(t){e.mouseLeaveEvent(t)}return{c:function c(){n=Object($t.i)("a"),(a=Object($t.i)("span")).innerHTML='<span class="icon-font-chess square-out"></span>',a.className="icon-font",Object($t.c)(n,"click",click_handler),Object($t.c)(n,"mouseenter",mouseenter_handler),Object($t.c)(n,"mouseleave",mouseleave_handler),n.className="notifications-tooltip-listener",n.dataset.tooltipContent=s=t.translations.addNotificationPanelToHome,n.href=!0},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.addNotificationPanelToHome)&&(n.dataset.tooltipContent=s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler),Object($t.D)(n,"mouseenter",mouseenter_handler),Object($t.D)(n,"mouseleave",mouseleave_handler)}}}function notification_controls_svelte_create_if_block(e,t){var n,a,s;function click_handler(t){e.toggleShowNotificationsOnHome(t)}function mouseenter_handler(t){e.mouseEnterEvent(t)}function mouseleave_handler(t){e.mouseLeaveEvent(t)}return{c:function c(){n=Object($t.i)("a"),(a=Object($t.i)("span")).innerHTML='<span class="icon-font-chess square-in"></span>',a.className="icon-font",Object($t.c)(n,"click",click_handler),Object($t.c)(n,"mouseenter",mouseenter_handler),Object($t.c)(n,"mouseleave",mouseleave_handler),n.className="notifications-tooltip-listener",n.dataset.tooltipContent=s=t.translations.removeNotificationPanelFromHome,n.href=!0},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.removeNotificationPanelFromHome)&&(n.dataset.tooltipContent=s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler),Object($t.D)(n,"mouseenter",mouseenter_handler),Object($t.D)(n,"mouseleave",mouseleave_handler)}}}function Notification_controls_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["showNotificationsOnHome","notifications","isFetching"]),function notification_controls_svelte_data(){return{routes:Ge,translations:notification_controls_svelte_objectSpread(notification_controls_svelte_objectSpread({},Ut.a),rt)}}()),e.data),this.store._add(this,["showNotificationsOnHome","notifications","isFetching"]),this._recompute({$showNotificationsOnHome:1,homeWidget:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function notification_controls_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h=t.$notifications.length>0&&notification_controls_svelte_create_if_block_3(e,t),v=t.$isFetching&&notification_controls_svelte_create_if_block_2(e),g=t.showToggleInNavWidget&&notification_controls_svelte_create_if_block_1(e,t),O=t.showToggleInHomeWidget&&notification_controls_svelte_create_if_block(e,t);return{c:function c(){n=Object($t.i)("div"),h&&h.c(),a=Object($t.k)("\n\n  "),v&&v.c(),s=Object($t.k)("\n\n  "),r=Object($t.i)("span"),g&&g.c(),l=Object($t.k)("\n\n    "),O&&O.c(),u=Object($t.k)("\n\n    "),f=Object($t.i)("a"),(_=Object($t.i)("span")).innerHTML='<span class="icon-font-chess circle-gearwheel"></span>',_.className="icon-font",f.href=b=t.routes.settings,f.target="_self",f.className="settings",r.className="settings-container svelte-1u1h7mz",n.className="controls"},m:function m(e,t){Object($t.w)(e,n,t),h&&h.m(n,null),Object($t.d)(n,a),v&&v.m(n,null),Object($t.d)(n,s),Object($t.d)(n,r),g&&g.m(r,null),Object($t.d)(r,l),O&&O.m(r,null),Object($t.d)(r,u),Object($t.d)(r,f),Object($t.d)(f,_)},p:function p(t,_){_.$notifications.length>0?h?h.p(t,_):((h=notification_controls_svelte_create_if_block_3(e,_)).c(),h.m(n,a)):h&&(h.d(1),h=null),_.$isFetching?v||((v=notification_controls_svelte_create_if_block_2(e)).c(),v.m(n,s)):v&&(v.d(1),v=null),_.showToggleInNavWidget?g?g.p(t,_):((g=notification_controls_svelte_create_if_block_1(e,_)).c(),g.m(r,l)):g&&(g.d(1),g=null),_.showToggleInHomeWidget?O?O.p(t,_):((O=notification_controls_svelte_create_if_block(e,_)).c(),O.m(r,u)):O&&(O.d(1),O=null),t.routes&&b!==(b=_.routes.settings)&&(f.href=b)},d:function d(e){e&&Object($t.q)(n),h&&h.d(),v&&v.d(),g&&g.d(),O&&O.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Notification_controls_svelte.prototype,$t.z),Object($t.e)(Notification_controls_svelte.prototype,oa),Notification_controls_svelte.prototype._recompute=function _recompute(e,t){(e.$showNotificationsOnHome||e.homeWidget)&&(this._differs(t.showToggleInHomeWidget,t.showToggleInHomeWidget=function showToggleInHomeWidget(e){var t=e.$showNotificationsOnHome,n=e.homeWidget;return t&&n}(t))&&(e.showToggleInHomeWidget=!0),this._differs(t.showToggleInNavWidget,t.showToggleInNavWidget=function showToggleInNavWidget(e){var t=e.$showNotificationsOnHome,n=e.homeWidget;return!t&&!n}(t))&&(e.showToggleInNavWidget=!0))};var ca=Notification_controls_svelte;n("./core/navigation/components/notification-item.svelte.svelte.css");var ia={accept:function accept(e,t){var n=this;return Q()(Y.a.mark((function _callee(){return Y.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(e.stopPropagation(),e.preventDefault(),n.set({disappearing:!0}),t.alertType!==He.offlineChallenge){a.next=6;break}return window.location=Ge.live(t.id),a.abrupt("return");case 6:return a.next=8,n.store.acceptRequest(t);case 8:n.set({disappearing:!1});case 9:case"end":return a.stop()}}),_callee)})))()},decline:function decline(e,t){var n=this;return Q()(Y.a.mark((function _callee2(){return Y.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return e.stopPropagation(),e.preventDefault(),n.set({disappearing:!0}),a.next=5,n.store.declineRequest(t);case 5:n.set({disappearing:!1});case 6:case"end":return a.stop()}}),_callee2)})))()},ignore:function ignore(e,t){var n=this;return Q()(Y.a.mark((function _callee3(){return Y.a.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return e.stopPropagation(),e.preventDefault(),n.set({disappearing:!0}),a.next=5,n.store.ignore(t);case 5:n.set({disappearing:!1});case 6:case"end":return a.stop()}}),_callee3)})))()}};function create_else_block_1(e,t){var n,a,s,r;return{c:function c(){(n=Object($t.i)("img")).alt=a=t.notification.alertType,n.className="notification-image svelte-1g1yal5",n.src=s=t.notification.image,n.srcset=r=t.notification.srcset,n.height="32",n.width="32"},m:function m(e,t){Object($t.w)(e,n,t)},p:function p(e,t){e.notification&&a!==(a=t.notification.alertType)&&(n.alt=a),e.notification&&s!==(s=t.notification.image)&&(n.src=s),e.notification&&r!==(r=t.notification.srcset)&&(n.srcset=r)},d:function d(e){e&&Object($t.q)(n)}}}function notification_item_svelte_create_if_block_1(e,t){var n,a,s;return{c:function c(){n=Object($t.i)("div"),(a=Object($t.i)("span")).className=s="icon-font-chess "+Object(Pe.a)(t.notification.contentType)+" svelte-1g1yal5",n.className="icon-font notification-icon svelte-1g1yal5"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.notification&&s!==(s="icon-font-chess "+Object(Pe.a)(t.notification.contentType)+" svelte-1g1yal5")&&(a.className=s)},d:function d(e){e&&Object($t.q)(n)}}}function create_else_block(e,t){var n;function click_handler(n){e.ignore(n,t.notification)}return{c:function c(){(n=Object($t.i)("div")).innerHTML='<span class="icon-font-chess x"></span>',Object($t.c)(n,"click",click_handler),n.className="icon-font close"},m:function m(e,t){Object($t.w)(e,n,t)},p:function p(e,n){t=n},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function notification_item_svelte_create_if_block(e,t){var n,a,s;function click_handler(n){e.accept(n,t.notification)}function click_handler_1(n){e.decline(n,t.notification)}return{c:function c(){(n=Object($t.i)("div")).innerHTML='<span class="icon-font-chess checkmark"></span>',a=Object($t.k)("\n\n    "),(s=Object($t.i)("div")).innerHTML='<span class="icon-font-chess x"></span>',Object($t.c)(n,"click",click_handler),n.className="icon-font request accept",Object($t.c)(s,"click",click_handler_1),s.className="icon-font request decline"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.w)(e,a,t),Object($t.w)(e,s,t)},p:function p(e,n){t=n},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler),e&&(Object($t.q)(a),Object($t.q)(s)),Object($t.D)(s,"click",click_handler_1)}}}function Notification_item_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(function notification_item_svelte_data(){return{disappearing:!1,noAvatar:window.Config?window.Config.noAvatar:"",types:He}}(),e.data),this._intro=!0,this._fragment=function notification_item_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f=t.notification.content;function select_block_type(e){return e.notification.alertType===e.types.comment?notification_item_svelte_create_if_block_1:create_else_block_1}var _=select_block_type(t),b=_(e,t);function select_block_type_1(e){return["friend_request","offline_challenges","user_group_request"].includes(e.notification.alertType)?notification_item_svelte_create_if_block:create_else_block}var h=select_block_type_1(t),v=h(e,t);return{c:function c(){n=Object($t.i)("a"),b.c(),a=Object($t.k)("\n\n  "),s=Object($t.i)("div"),r=Object($t.k)("\n\n  "),v.c(),s.className="notification-content",n.className=l="sb-notification "+(t.disappearing?"disappearing":"")+" svelte-1g1yal5",n.href=u=t.notification.route,n.target="_self"},m:function m(e,t){Object($t.w)(e,n,t),b.m(n,null),Object($t.d)(n,a),Object($t.d)(n,s),s.innerHTML=f,Object($t.d)(n,r),v.m(n,null)},p:function p(t,r){_===(_=select_block_type(r))&&b?b.p(t,r):(b.d(1),(b=_(e,r)).c(),b.m(n,a)),t.notification&&f!==(f=r.notification.content)&&(s.innerHTML=f),h===(h=select_block_type_1(r))&&v?v.p(t,r):(v.d(1),(v=h(e,r)).c(),v.m(n,null)),t.disappearing&&l!==(l="sb-notification "+(r.disappearing?"disappearing":"")+" svelte-1g1yal5")&&(n.className=l),t.notification&&u!==(u=r.notification.route)&&(n.href=u)},d:function d(e){e&&Object($t.q)(n),b.d(),v.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(Notification_item_svelte.prototype,$t.z),Object($t.e)(Notification_item_svelte.prototype,ia);var la=Notification_item_svelte;n("./core/navigation/components/notifications.svelte.svelte.css");function notifications_svelte_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function notifications_svelte_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?notifications_svelte_ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):notifications_svelte_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function notifications_svelte_get_each_context_1(e,t,n){var a=Object.create(e);return a.notification=t[n],a.each_value_1=t,a.notification_index=n,a}function notifications_svelte_get_each_context(e,t,n){var a=Object.create(e);return a.group=t[n],a.each_value=t,a.group_index=n,a}function notifications_svelte_create_if_block_3(e,t){var n={homeWidget:t.homeWidget},a=new ca({root:e.root,store:e.store,data:n});return{c:function c(){a._fragment.c()},m:function m(e,t){a._mount(e,t)},p:function p(e,t){var n={};e.homeWidget&&(n.homeWidget=t.homeWidget),a._set(n)},d:function d(e){a.destroy(e)}}}function notifications_svelte_create_else_block(e,t){for(var n,a=t.$notifications,s=[],r=0;r<a.length;r+=1)s[r]=notifications_svelte_create_each_block(e,notifications_svelte_get_each_context(t,a,r));return{c:function c(){for(var e=0;e<s.length;e+=1)s[e].c();n=Object($t.h)()},m:function m(e,t){for(var a=0;a<s.length;a+=1)s[a].m(e,t);Object($t.w)(e,n,t)},p:function p(t,r){if(t.$notifications){a=r.$notifications;for(var l=0;l<a.length;l+=1){var u=notifications_svelte_get_each_context(r,a,l);s[l]?s[l].p(t,u):(s[l]=notifications_svelte_create_each_block(e,u),s[l].c(),s[l].m(n.parentNode,n))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d:function d(e){Object($t.m)(s,e),e&&Object($t.q)(n)}}}function notifications_svelte_create_if_block_1(e,t){var n,a=t.translations.noAlerts;return{c:function c(){n=Object($t.k)(a)},m:function m(e,t){Object($t.w)(e,n,t)},p:function p(e,t){e.translations&&a!==(a=t.translations.noAlerts)&&Object($t.F)(n,a)},d:function d(e){e&&Object($t.q)(n)}}}function notifications_svelte_create_else_block_1(e,t){var n,a,s,r=t.group.type.title;return{c:function c(){n=Object($t.i)("header"),a=Object($t.i)("span"),s=Object($t.k)(r),n.className="notification-group-heading"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(a,s)},p:function p(e,t){e.$notifications&&r!==(r=t.group.type.title)&&Object($t.F)(s,r)},d:function d(e){e&&Object($t.q)(n)}}}function notifications_svelte_create_if_block_2(e,t){var n,a,s,r,l,u,f,_=t.group.type.title;return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("header"),s=Object($t.i)("span"),r=Object($t.k)(_),l=Object($t.k)("\n                "),(u=Object($t.i)("span")).className="icon-font icon-font-chess chevron-right svelte-e93gn0",a.className="notification-group-heading",n.href=f=t.group.type.url,n.target="_self"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(a,s),Object($t.d)(s,r),Object($t.d)(a,l),Object($t.d)(a,u)},p:function p(e,t){e.$notifications&&_!==(_=t.group.type.title)&&Object($t.F)(r,_),e.$notifications&&f!==(f=t.group.type.url)&&(n.href=f)},d:function d(e){e&&Object($t.q)(n)}}}function notifications_svelte_create_each_block_1(e,t){var n={},a={};void 0!==t.group&&(a.group=t.group,n.group=!0),void 0!==t.notification&&(a.notification=t.notification,n.notification=!0);var s=new la({root:e.root,store:e.store,data:a,_bind:function _bind(a,s){var r={};!n.group&&a.group&&(t.each_value[t.group_index]=s.group=s.group,r.notifications=t.$notifications),!n.notification&&a.notification&&(t.each_value_1[t.notification_index]=s.notification=s.notification,r.notifications=t.$notifications),e.store.set(r),n={}}});return e.root._beforecreate.push((function(){s._bind({group:1,notification:1},s.get())})),{c:function c(){s._fragment.c()},m:function m(e,t){s._mount(e,t)},p:function p(e,a){t=a;var r={};!n.group&&e.$notifications&&(r.group=t.group,n.group=void 0!==t.group),!n.notification&&e.$notifications&&(r.notification=t.notification,n.notification=void 0!==t.notification),s._set(r),n={}},d:function d(e){s.destroy(e)}}}function notifications_svelte_create_each_block(e,t){var n,a,s;function select_block_type_1(e){return e.group.type.url?notifications_svelte_create_if_block_2:notifications_svelte_create_else_block_1}for(var r=select_block_type_1(t),l=r(e,t),u=t.group.notifications,f=[],_=0;_<u.length;_+=1)f[_]=notifications_svelte_create_each_block_1(e,notifications_svelte_get_each_context_1(t,u,_));return{c:function c(){n=Object($t.i)("div"),l.c(),a=Object($t.k)("\n\n          ");for(var e=0;e<f.length;e+=1)f[e].c();n.className=s="notification-group "+t.group.type.id+" svelte-e93gn0"},m:function m(e,t){Object($t.w)(e,n,t),l.m(n,null),Object($t.d)(n,a);for(var s=0;s<f.length;s+=1)f[s].m(n,null)},p:function p(t,_){if(r===(r=select_block_type_1(_))&&l?l.p(t,_):(l.d(1),(l=r(e,_)).c(),l.m(n,a)),t.$notifications){u=_.group.notifications;for(var b=0;b<u.length;b+=1){var h=notifications_svelte_get_each_context_1(_,u,b);f[b]?f[b].p(t,h):(f[b]=notifications_svelte_create_each_block_1(e,h),f[b].c(),f[b].m(n,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=u.length}t.$notifications&&s!==(s="notification-group "+_.group.type.id+" svelte-e93gn0")&&(n.className=s)},d:function d(e){e&&Object($t.q)(n),l.d(),Object($t.m)(f,e)}}}function notifications_svelte_create_if_block(e,t){var n={homeWidget:t.homeWidget},a=new ca({root:e.root,store:e.store,data:n});return{c:function c(){a._fragment.c()},m:function m(e,t){a._mount(e,t)},p:function p(e,t){var n={};e.homeWidget&&(n.homeWidget=t.homeWidget),a._set(n)},d:function d(e){a.destroy(e)}}}function Notifications_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["isFetching","notifications","showNotificationsOnHome"]),function notifications_svelte_data(){return{routes:Ge,translations:notifications_svelte_objectSpread(notifications_svelte_objectSpread({},Ut.a),rt)}}()),e.data),this.store._add(this,["isFetching","notifications","showNotificationsOnHome"]),this._recompute({$isFetching:1,$notifications:1,$showNotificationsOnHome:1,homeWidget:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function notifications_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f=!t.homeWidget&&notifications_svelte_create_if_block_3(e,t);function select_block_type(e){return e.showNoAlerts?notifications_svelte_create_if_block_1:notifications_svelte_create_else_block}var _=select_block_type(t),b=_(e,t),h=t.homeWidget&&!t.isNewHome&&notifications_svelte_create_if_block(e,t);return{c:function c(){n=Object($t.i)("div"),f&&f.c(),a=Object($t.k)("\n\n  "),s=Object($t.i)("div"),b.c(),l=Object($t.k)("\n\n"),h&&h.c(),u=Object($t.h)(),s.className=r=(t.$notifications.length?"":"no-notifications")+" svelte-e93gn0",n.className="notification-groups"},m:function m(e,t){Object($t.w)(e,n,t),f&&f.m(n,null),Object($t.d)(n,a),Object($t.d)(n,s),b.m(s,null),Object($t.w)(e,l,t),h&&h.m(e,t),Object($t.w)(e,u,t)},p:function p(t,l){l.homeWidget?f&&(f.d(1),f=null):f?f.p(t,l):((f=notifications_svelte_create_if_block_3(e,l)).c(),f.m(n,a)),_===(_=select_block_type(l))&&b?b.p(t,l):(b.d(1),(b=_(e,l)).c(),b.m(s,null)),t.$notifications&&r!==(r=(l.$notifications.length?"":"no-notifications")+" svelte-e93gn0")&&(s.className=r),l.homeWidget&&!l.isNewHome?h?h.p(t,l):((h=notifications_svelte_create_if_block(e,l)).c(),h.m(u.parentNode,u)):h&&(h.d(1),h=null)},d:function d(e){e&&Object($t.q)(n),f&&f.d(),b.d(),e&&Object($t.q)(l),h&&h.d(e),e&&Object($t.q)(u)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Notifications_svelte.prototype,$t.z),Notifications_svelte.prototype._recompute=function _recompute(e,t){(e.$isFetching||e.$notifications)&&this._differs(t.showNoAlerts,t.showNoAlerts=function showNoAlerts(e){var t=e.$isFetching,n=e.$notifications;return!t&&0===n.length}(t))&&(e.showNoAlerts=!0),(e.$showNotificationsOnHome||e.homeWidget)&&(this._differs(t.showToggleInHomeWidget,t.showToggleInHomeWidget=function notifications_svelte_showToggleInHomeWidget(e){var t=e.$showNotificationsOnHome,n=e.homeWidget;return t&&n}(t))&&(e.showToggleInHomeWidget=!0),this._differs(t.showToggleInNavWidget,t.showToggleInNavWidget=function notifications_svelte_showToggleInNavWidget(e){var t=e.$showNotificationsOnHome,n=e.homeWidget;return!t&&!n}(t))&&(e.showToggleInNavWidget=!0))};var ua=Notifications_svelte;function memberRoute(e){return U.default.generate("web_member_view",{username:e})}function trophiesRoute(e){return U.default.generate("web_awards_member",{username:e})}var da={logout:function logout(e){var t=document.querySelector(".form.logout");e.preventDefault(),t.submit()},handleClick:function handleClick(e,t){Object(ke.d)()&&(e.preventDefault(),bn({slide:t}))},openAuthenticationModal:function openAuthenticationModal(){!function showSignUpModal(){Object(Rt.a)({key:ra,show:sa,updateForm:!0})}()}};function home_panel_svelte_create_if_block_4(e,t){var n,a,s,r=t.translations.membership;return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(r),n.href=s=t.routes.membership,n.target="_self",n.className="link main-link sprite diamond"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&r!==(r=t.translations.membership)&&Object($t.F)(a,r),e.routes&&s!==(s=t.routes.membership)&&(n.href=s)},d:function d(e){e&&Object($t.q)(n)}}}function home_panel_svelte_create_if_block_3(e,t){var n,a,s=t.translations.freeTrial;return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(s),n.href=function membershipRouteWithCode(e){return U.default.generate("web_membership",{c:e})}("navHome"),n.target="_self",n.className="link main-link trial sprite diamond"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.freeTrial)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n)}}}function home_panel_svelte_create_if_block_2(e,t){var n,a,s=t.translations.signUp;function click_handler(t){t.preventDefault(),e.openAuthenticationModal()}return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(s),Object($t.c)(n,"click",click_handler),n.href=t.joinUrl,n.target="_self",n.className="link main-link trial sprite profile"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.signUp)&&Object($t.F)(a,s),e.joinUrl&&(n.href=t.joinUrl)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function home_panel_svelte_create_else_block(e,t){var n;return{c:function c(){(n=Object($t.i)("span")).className="svelte-badge",n.dataset.badge="messages"},m:function m(e,t){Object($t.w)(e,n,t)},p:$t.x,d:function d(e){e&&Object($t.q)(n)}}}function home_panel_svelte_create_if_block_1(e,t){var n,a;return{c:function c(){n=Object($t.i)("span"),a=Object($t.k)(t.messages),n.className="svelte-badge badge",n.dataset.badge="messages"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.messages&&Object($t.F)(a,t.messages)},d:function d(e){e&&Object($t.q)(n)}}}function home_panel_svelte_create_if_block(e,t){var n,a,s,r=t.translations.membership;return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(r),n.href=s=t.routes.membership,n.target="_self",n.className="link main-link sprite diamond"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&r!==(r=t.translations.membership)&&Object($t.F)(a,r),e.routes&&s!==(s=t.routes.membership)&&(n.href=s)},d:function d(e){e&&Object($t.q)(n)}}}function Home_panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["badges"]),function home_panel_svelte_data(){return{joinUrl:Object(Pe.g)(),modalConstants:en,routes:Xn.b,translations:Ut.a,user:window.context.user}}()),e.data),this.store._add(this,["badges"]),this._recompute({$badges:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function home_panel_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M,I,x,D,R,U,z,F,$,H,G,q,B,W=t.translations.home,V=t.translations.messages,K=t.translations.stats,Y=t.translations.awards,Z=t.translations.profile,Q=t.translations.theme,J=t.translations.settings,X=t.translations.logOut;function click_handler(t){e.handleClick(t)}function select_block_type(e){return e.user.isGuest?home_panel_svelte_create_if_block_2:e.user.eligibleFirstTrial?home_panel_svelte_create_if_block_3:e.user.isPremium?void 0:home_panel_svelte_create_if_block_4}var ee=select_block_type(t),te=ee&&ee(e,t);function select_block_type_1(e){return e.$badges.messages>0?home_panel_svelte_create_if_block_1:home_panel_svelte_create_else_block}var ne=select_block_type_1(t),ae=ne(e,t);function click_handler_1(t){e.handleClick(t)}function click_handler_2(n){e.handleClick(n,t.modalConstants.GUEST_MODAL_SLIDES.stats)}function click_handler_3(t){e.handleClick(t)}function click_handler_4(t){e.handleClick(t)}var se=t.user.isPremium&&home_panel_svelte_create_if_block(0,t);function click_handler_5(t){e.logout(t)}var re=new An({root:e.root,store:e.store,slots:{default:Object($t.j)()}});return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("img"),l=Object($t.k)("\n    "),u=Object($t.i)("span"),f=Object($t.k)(W),b=Object($t.k)("\n\n  "),te&&te.c(),h=Object($t.k)("\n\n  "),v=Object($t.i)("a"),g=Object($t.k)(V),O=Object($t.k)("\n    "),ae.c(),y=Object($t.k)("\n\n  "),w=Object($t.i)("a"),k=Object($t.k)(K),T=Object($t.k)("\n\n  "),N=Object($t.i)("a"),C=Object($t.k)(Y),A=Object($t.k)("\n\n  "),L=Object($t.i)("a"),P=Object($t.k)(Z),I=Object($t.k)("\n\n  "),se&&se.c(),x=Object($t.k)("\n\n  "),D=Object($t.i)("a"),R=Object($t.k)(Q),z=Object($t.k)("\n\n  "),F=Object($t.i)("a"),$=Object($t.k)(J),G=Object($t.k)("\n\n  "),q=Object($t.i)("a"),B=Object($t.k)(X),re._fragment.c(),a.className="image subnav user-nav-avatar",a.height="25",a.width="25",a.src=s=t.user.avatarUrl,a.alt=r=t.translations.home,u.className="text",Object($t.c)(n,"click",click_handler),n.href=_=t.routes.home,n.target="_self",n.className="link main-link home",Object($t.c)(v,"click",click_handler_1),v.href=j=t.routes.messages,v.target="_self",v.className="link main-link sprite messages",Object($t.c)(w,"click",click_handler_2),w.href=E=t.routes.stats,w.target="_self",w.className="link main-link sprite stats",Object($t.c)(N,"click",click_handler_3),N.href=S=trophiesRoute(t.user.username),N.target="_self",N.className="link main-link sprite awards",Object($t.c)(L,"click",click_handler_4),L.href=M=memberRoute(t.user.username),L.target="_self",L.className="link main-link sprite profile",D.href=U=t.routes.themes,D.target="_self",D.className="link main-link sprite theme",F.href=H=t.routes.settings,F.target="_self",F.className="link main-link sprite settings",Object($t.c)(q,"click",click_handler_5),q.href="#",q.className="link main-link logout sprite logout"},m:function m(e,t){Object($t.d)(re._slotted.default,n),Object($t.d)(n,a),Object($t.d)(n,l),Object($t.d)(n,u),Object($t.d)(u,f),Object($t.d)(re._slotted.default,b),te&&te.m(re._slotted.default,null),Object($t.d)(re._slotted.default,h),Object($t.d)(re._slotted.default,v),Object($t.d)(v,g),Object($t.d)(v,O),ae.m(v,null),Object($t.d)(re._slotted.default,y),Object($t.d)(re._slotted.default,w),Object($t.d)(w,k),Object($t.d)(re._slotted.default,T),Object($t.d)(re._slotted.default,N),Object($t.d)(N,C),Object($t.d)(re._slotted.default,A),Object($t.d)(re._slotted.default,L),Object($t.d)(L,P),Object($t.d)(re._slotted.default,I),se&&se.m(re._slotted.default,null),Object($t.d)(re._slotted.default,x),Object($t.d)(re._slotted.default,D),Object($t.d)(D,R),Object($t.d)(re._slotted.default,z),Object($t.d)(re._slotted.default,F),Object($t.d)(F,$),Object($t.d)(re._slotted.default,G),Object($t.d)(re._slotted.default,q),Object($t.d)(q,B),re._mount(e,t)},p:function p(l,u){t=u,l.user&&s!==(s=t.user.avatarUrl)&&(a.src=s),l.translations&&r!==(r=t.translations.home)&&(a.alt=r),l.translations&&W!==(W=t.translations.home)&&Object($t.F)(f,W),l.routes&&_!==(_=t.routes.home)&&(n.href=_),ee===(ee=select_block_type(t))&&te?te.p(l,t):(te&&te.d(1),(te=ee&&ee(e,t))&&te.c(),te&&te.m(h.parentNode,h)),l.translations&&V!==(V=t.translations.messages)&&Object($t.F)(g,V),ne===(ne=select_block_type_1(t))&&ae?ae.p(l,t):(ae.d(1),(ae=ne(e,t)).c(),ae.m(v,null)),l.routes&&j!==(j=t.routes.messages)&&(v.href=j),l.translations&&K!==(K=t.translations.stats)&&Object($t.F)(k,K),l.routes&&E!==(E=t.routes.stats)&&(w.href=E),l.translations&&Y!==(Y=t.translations.awards)&&Object($t.F)(C,Y),l.user&&S!==(S=trophiesRoute(t.user.username))&&(N.href=S),l.translations&&Z!==(Z=t.translations.profile)&&Object($t.F)(P,Z),l.user&&M!==(M=memberRoute(t.user.username))&&(L.href=M),t.user.isPremium?se?se.p(l,t):((se=home_panel_svelte_create_if_block(0,t)).c(),se.m(x.parentNode,x)):se&&(se.d(1),se=null),l.translations&&Q!==(Q=t.translations.theme)&&Object($t.F)(R,Q),l.routes&&U!==(U=t.routes.themes)&&(D.href=U),l.translations&&J!==(J=t.translations.settings)&&Object($t.F)($,J),l.routes&&H!==(H=t.routes.settings)&&(F.href=H),l.translations&&X!==(X=t.translations.logOut)&&Object($t.F)(B,X)},d:function d(e){Object($t.D)(n,"click",click_handler),te&&te.d(),ae.d(),Object($t.D)(v,"click",click_handler_1),Object($t.D)(w,"click",click_handler_2),Object($t.D)(N,"click",click_handler_3),Object($t.D)(L,"click",click_handler_4),se&&se.d(),Object($t.D)(q,"click",click_handler_5),re.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Home_panel_svelte.prototype,$t.z),Object($t.e)(Home_panel_svelte.prototype,da),Home_panel_svelte.prototype._recompute=function _recompute(e,t){e.$badges&&this._differs(t.messages,t.messages=function home_panel_svelte_messages(e){var t=e.$badges;return t.messages>Jn(Kn,R.c)?"".concat(Jn(Kn,R.c),"+"):t.messages}(t))&&(e.messages=!0)};var fa=Home_panel_svelte,_a=document.querySelector(".home.nav-panel"),ba=null;var ha={logAmplitudeEvent:xt.a.logEvent};function learn_panel_svelte_create_else_block(e,t){var n;return{c:function c(){(n=Object($t.i)("span")).className="svelte-badge",n.dataset.badge="lesson_quota_refilled"},m:function m(e,t){Object($t.w)(e,n,t)},d:function d(e){e&&Object($t.q)(n)}}}function learn_panel_svelte_create_if_block(e,t){var n;return{c:function c(){(n=Object($t.i)("span")).textContent="★",n.className="svelte-badge badge",n.dataset.badge="lesson_quota_refilled"},m:function m(e,t){Object($t.w)(e,n,t)},d:function d(e){e&&Object($t.q)(n)}}}function Learn_panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["badges"]),function learn_panel_svelte_data(){return{amplitudeEvents:Me.a,translations:Ut.a}}()),e.data),this.store._add(this,["badges"]),this._recompute({$badges:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function learn_panel_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M,I,x,D=t.translations.lessons,R=t.translations.analysis,U=t.translations.articles,z=t.translations.videos,F=t.translations.vision,$=t.translations.openings,H=t.translations.explorer;function select_block_type(e){return e.lessonQuotaRefilled?learn_panel_svelte_create_if_block:learn_panel_svelte_create_else_block}var G=select_block_type(t),q=G(e,t);function click_handler(n){e.logAmplitudeEvent(t.amplitudeEvents.LESSONS_NAV_EVENT,{source:t.amplitudeEvents.AMPLITUDE_SOURCE_NAV})}function click_handler_1(n){e.logAmplitudeEvent(t.amplitudeEvents.VIDEOS_NAV_EVENT,{source:t.amplitudeEvents.AMPLITUDE_SOURCE_NAV})}function click_handler_2(n){e.logAmplitudeEvent(t.amplitudeEvents.VISION_NAV_EVENT)}var B=new An({root:e.root,store:e.store,slots:{default:Object($t.j)()}});return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(D),s=Object($t.k)("\n    "),q.c(),l=Object($t.k)("\n\n  "),u=Object($t.i)("a"),f=Object($t.k)(R),b=Object($t.k)("\n\n  "),h=Object($t.i)("a"),v=Object($t.k)(U),O=Object($t.k)("\n\n  "),j=Object($t.i)("a"),y=Object($t.k)(z),k=Object($t.k)("\n\n  "),E=Object($t.i)("a"),T=Object($t.k)(F),C=Object($t.k)("\n\n  "),S=Object($t.i)("a"),A=Object($t.k)($),P=Object($t.k)("\n\n  "),M=Object($t.i)("a"),I=Object($t.k)(H),B._fragment.c(),Object($t.c)(n,"click",click_handler),n.href=r=t.routes.lessons,n.target="_self",n.className="link main-link sprite learn",u.href=_=t.routes.analysis,u.target="_self",u.className="link main-link sprite analysis",h.href=g=t.routes.articles,h.className="link main-link sprite articles",Object($t.c)(j,"click",click_handler_1),j.href=w=t.routes.videos,j.target="_self",j.className="link main-link sprite videos",Object($t.c)(E,"click",click_handler_2),E.href=N=t.routes.vision,E.target="_self",E.className="link main-link sprite vision",S.href=L=t.routes.openings,S.target="_self",S.className="link main-link sprite openings",M.href=x=t.routes.explorer,M.target="_self",M.className="link main-link sprite explorer"},m:function m(e,t){Object($t.d)(B._slotted.default,n),Object($t.d)(n,a),Object($t.d)(n,s),q.m(n,null),Object($t.d)(B._slotted.default,l),Object($t.d)(B._slotted.default,u),Object($t.d)(u,f),Object($t.d)(B._slotted.default,b),Object($t.d)(B._slotted.default,h),Object($t.d)(h,v),Object($t.d)(B._slotted.default,O),Object($t.d)(B._slotted.default,j),Object($t.d)(j,y),Object($t.d)(B._slotted.default,k),Object($t.d)(B._slotted.default,E),Object($t.d)(E,T),Object($t.d)(B._slotted.default,C),Object($t.d)(B._slotted.default,S),Object($t.d)(S,A),Object($t.d)(B._slotted.default,P),Object($t.d)(B._slotted.default,M),Object($t.d)(M,I),B._mount(e,t)},p:function p(s,l){t=l,s.translations&&D!==(D=t.translations.lessons)&&Object($t.F)(a,D),G!==(G=select_block_type(t))&&(q.d(1),(q=G(e,t)).c(),q.m(n,null)),s.routes&&r!==(r=t.routes.lessons)&&(n.href=r),s.translations&&R!==(R=t.translations.analysis)&&Object($t.F)(f,R),s.routes&&_!==(_=t.routes.analysis)&&(u.href=_),s.translations&&U!==(U=t.translations.articles)&&Object($t.F)(v,U),s.routes&&g!==(g=t.routes.articles)&&(h.href=g),s.translations&&z!==(z=t.translations.videos)&&Object($t.F)(y,z),s.routes&&w!==(w=t.routes.videos)&&(j.href=w),s.translations&&F!==(F=t.translations.vision)&&Object($t.F)(T,F),s.routes&&N!==(N=t.routes.vision)&&(E.href=N),s.translations&&$!==($=t.translations.openings)&&Object($t.F)(A,$),s.routes&&L!==(L=t.routes.openings)&&(S.href=L),s.translations&&H!==(H=t.translations.explorer)&&Object($t.F)(I,H),s.routes&&x!==(x=t.routes.explorer)&&(M.href=x)},d:function d(e){q.d(),Object($t.D)(n,"click",click_handler),Object($t.D)(j,"click",click_handler_1),Object($t.D)(E,"click",click_handler_2),B.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Learn_panel_svelte.prototype,$t.z),Object($t.e)(Learn_panel_svelte.prototype,ha),Learn_panel_svelte.prototype._recompute=function _recompute(e,t){e.$badges&&this._differs(t.lessonQuotaRefilled,t.lessonQuotaRefilled=function lessonQuotaRefilled(e){return e.$badges.lessonQuotaRefilled}(t))&&(e.lessonQuotaRefilled=!0)};var ma=Learn_panel_svelte,pa=document.querySelector(".learn.nav-panel"),va=null;var ga={handleClick:function handleClick(e){Object(ke.d)()&&(e.preventDefault(),bn())},logAmplitudeEvent:xt.a.logEvent};function More_panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(function more_panel_svelte_data(){return{translations:Ut.a}}(),e.data),this._intro=!0,this._fragment=function more_panel_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M,I,x,D,R,U,z,F,$,H,G,q,B,W,V,K,Y,Z,Q,J=t.translations.masterGames,X=t.translations.mobileApps,ee=t.translations.shop,te=t.translations.merch,ne=t.translations.resources,ae=t.translations.voteChess,se=t.translations.topPlayers,re=t.translations.liveRankings,oe=t.translations.terms,ce=t.translations.rules,ie=t.translations.chessKid,le=t.translations.computerChampionship;function click_handler(t){e.handleClick(t)}function click_handler_1(t){e.logAmplitudeEvent("CCCC")}var ue=new An({root:e.root,store:e.store,slots:{default:Object($t.j)()}});return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(J),r=Object($t.k)("\n\n  "),l=Object($t.i)("a"),u=Object($t.k)(X),_=Object($t.k)("\n\n  "),b=Object($t.i)("a"),h=Object($t.k)(ee),v=Object($t.k)("\n\n  "),g=Object($t.i)("a"),O=Object($t.k)(te),j=Object($t.k)("\n\n  "),y=Object($t.i)("a"),w=Object($t.k)(ne),E=Object($t.k)("\n\n  "),T=Object($t.i)("a"),N=Object($t.k)(ae),S=Object($t.k)("\n\n  "),A=Object($t.i)("a"),L=Object($t.k)(se),M=Object($t.k)("\n\n  "),I=Object($t.i)("a"),x=Object($t.k)(re),R=Object($t.k)("\n\n  "),U=Object($t.i)("a"),z=Object($t.k)(oe),$=Object($t.k)("\n\n  "),H=Object($t.i)("a"),G=Object($t.k)(ce),B=Object($t.k)("\n\n  "),W=Object($t.i)("a"),V=Object($t.k)(ie),K=Object($t.k)("\n\n  "),Y=Object($t.i)("a"),Z=Object($t.k)(le),ue._fragment.c(),n.href=s=t.routes.masterGames,n.target="_self",n.className="link main-link sprite more",l.href=f=t.routes.mobileApps,l.target="_self",l.className="link main-link sprite mobile-apps",b.href="https://shop.chess.com",b.target="_blank",b.rel="nofollow noreferrer noopener",b.className="link main-link sprite shop",g.href="https://merch.chess.com",g.target="_blank",g.rel="nofollow noreferrer noopener",g.className="link main-link sprite merch",y.href=k=t.routes.resourcesPage,y.target="_self",y.className="link main-link sprite resources",Object($t.c)(T,"click",click_handler),T.href=C=t.routes.voteChess,T.target="_self",T.className="link main-link sprite vote-chess",A.href=P=t.routes.topPlayers,A.target="_self",A.className="link main-link sprite top-players",I.href=D=t.routes.liveRankings,I.target="_self",I.className="link main-link sprite live-rankings",U.href=F=t.routes.terms,U.target="_self",U.className="link main-link sprite terms",H.href=q=t.routes.rules,H.target="_self",H.className="link main-link sprite play",W.href="https://www.chesskid.com",W.target="_blank",W.className="link main-link sprite chess-kid",Object($t.c)(Y,"click",click_handler_1),Y.href=Q=t.routes.computerChampionship,Y.target="_self",Y.className="link main-link event sprite cpu-champs"},m:function m(e,t){Object($t.d)(ue._slotted.default,n),Object($t.d)(n,a),Object($t.d)(ue._slotted.default,r),Object($t.d)(ue._slotted.default,l),Object($t.d)(l,u),Object($t.d)(ue._slotted.default,_),Object($t.d)(ue._slotted.default,b),Object($t.d)(b,h),Object($t.d)(ue._slotted.default,v),Object($t.d)(ue._slotted.default,g),Object($t.d)(g,O),Object($t.d)(ue._slotted.default,j),Object($t.d)(ue._slotted.default,y),Object($t.d)(y,w),Object($t.d)(ue._slotted.default,E),Object($t.d)(ue._slotted.default,T),Object($t.d)(T,N),Object($t.d)(ue._slotted.default,S),Object($t.d)(ue._slotted.default,A),Object($t.d)(A,L),Object($t.d)(ue._slotted.default,M),Object($t.d)(ue._slotted.default,I),Object($t.d)(I,x),Object($t.d)(ue._slotted.default,R),Object($t.d)(ue._slotted.default,U),Object($t.d)(U,z),Object($t.d)(ue._slotted.default,$),Object($t.d)(ue._slotted.default,H),Object($t.d)(H,G),Object($t.d)(ue._slotted.default,B),Object($t.d)(ue._slotted.default,W),Object($t.d)(W,V),Object($t.d)(ue._slotted.default,K),Object($t.d)(ue._slotted.default,Y),Object($t.d)(Y,Z),ue._mount(e,t)},p:function p(e,t){e.translations&&J!==(J=t.translations.masterGames)&&Object($t.F)(a,J),e.routes&&s!==(s=t.routes.masterGames)&&(n.href=s),e.translations&&X!==(X=t.translations.mobileApps)&&Object($t.F)(u,X),e.routes&&f!==(f=t.routes.mobileApps)&&(l.href=f),e.translations&&ee!==(ee=t.translations.shop)&&Object($t.F)(h,ee),e.translations&&te!==(te=t.translations.merch)&&Object($t.F)(O,te),e.translations&&ne!==(ne=t.translations.resources)&&Object($t.F)(w,ne),e.routes&&k!==(k=t.routes.resourcesPage)&&(y.href=k),e.translations&&ae!==(ae=t.translations.voteChess)&&Object($t.F)(N,ae),e.routes&&C!==(C=t.routes.voteChess)&&(T.href=C),e.translations&&se!==(se=t.translations.topPlayers)&&Object($t.F)(L,se),e.routes&&P!==(P=t.routes.topPlayers)&&(A.href=P),e.translations&&re!==(re=t.translations.liveRankings)&&Object($t.F)(x,re),e.routes&&D!==(D=t.routes.liveRankings)&&(I.href=D),e.translations&&oe!==(oe=t.translations.terms)&&Object($t.F)(z,oe),e.routes&&F!==(F=t.routes.terms)&&(U.href=F),e.translations&&ce!==(ce=t.translations.rules)&&Object($t.F)(G,ce),e.routes&&q!==(q=t.routes.rules)&&(H.href=q),e.translations&&ie!==(ie=t.translations.chessKid)&&Object($t.F)(V,ie),e.translations&&le!==(le=t.translations.computerChampionship)&&Object($t.F)(Z,le),e.routes&&Q!==(Q=t.routes.computerChampionship)&&(Y.href=Q)},d:function d(e){Object($t.D)(T,"click",click_handler),Object($t.D)(Y,"click",click_handler_1),ue.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(More_panel_svelte.prototype,$t.z),Object($t.e)(More_panel_svelte.prototype,ga);var Oa=More_panel_svelte,ja=document.querySelector(".more.nav-panel"),ya=null;function Notification_panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)({},e.data),this._intro=!0,this._fragment=function notification_panel_svelte_create_main_fragment(e,t){var n=new ua({root:e.root,store:e.store,data:{homeWidget:!1}}),a=new An({root:e.root,store:e.store,slots:{default:Object($t.j)()}});return{c:function c(){n._fragment.c(),a._fragment.c()},m:function m(e,t){n._mount(a._slotted.default,null),a._mount(e,t)},p:$t.x,d:function d(e){n.destroy(),a.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Notification_panel_svelte.prototype,$t.z);var wa=Notification_panel_svelte,ka=document.querySelector(".notifications.nav-panel"),Ea=null;n("./core/navigation/components/my-turns.svelte.svelte.css");function my_turns_svelte_get_each_context(e,t,n){var a=Object.create(e);return a.game=t[n],a}function my_turns_svelte_create_if_block(e,t){for(var n,a,s,r,l,u,f,_=t.translations.myTurn,b=t.$games,h=[],v=0;v<b.length;v+=1)h[v]=my_turns_svelte_create_each_block(e,my_turns_svelte_get_each_context(t,b,v));return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(_),s=Object($t.k)("\n    "),(r=Object($t.i)("div")).innerHTML='<span class="icon-font-chess chevron-right svelte-6zuozh"></span>',u=Object($t.k)("\n\n  ");for(var e=0;e<h.length;e+=1)h[e].c();f=Object($t.h)(),r.className="icon-font arrow",n.className="link heading my-turn",n.href=l=t.routes.daily,n.target="_self"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.w)(e,u,t);for(var l=0;l<h.length;l+=1)h[l].m(e,t);Object($t.w)(e,f,t)},p:function p(t,s){if(t.translations&&_!==(_=s.translations.myTurn)&&Object($t.F)(a,_),t.routes&&l!==(l=s.routes.daily)&&(n.href=l),t.$games){b=s.$games;for(var r=0;r<b.length;r+=1){var u=my_turns_svelte_get_each_context(s,b,r);h[r]?h[r].p(t,u):(h[r]=my_turns_svelte_create_each_block(e,u),h[r].c(),h[r].m(f.parentNode,f))}for(;r<h.length;r+=1)h[r].d(1);h.length=b.length}},d:function d(e){e&&(Object($t.q)(n),Object($t.q)(u)),Object($t.m)(h,e),e&&Object($t.q)(f)}}}function my_turns_svelte_create_each_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O=t.game.opponent.username,j=t.game.timeLeftDisplay;return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("img"),l=Object($t.k)("\n\n      "),u=Object($t.i)("span"),f=Object($t.k)(O),_=Object($t.k)("\n      "),b=Object($t.i)("span"),h=Object($t.k)(j),v=Object($t.k)("\n    "),a.alt=s=t.game.opponent.username,a.src=r=t.game.opponent.image,u.className="svelte-username svelte-6zuozh",b.className="time-left svelte-6zuozh",n.className="my-turn sub-link",n.href=g=Object(Pe.c)(t.game.id),n.target="_self"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,l),Object($t.d)(n,u),Object($t.d)(u,f),Object($t.d)(n,_),Object($t.d)(n,b),Object($t.d)(b,h),Object($t.d)(n,v)},p:function p(e,t){e.$games&&s!==(s=t.game.opponent.username)&&(a.alt=s),e.$games&&r!==(r=t.game.opponent.image)&&(a.src=r),e.$games&&O!==(O=t.game.opponent.username)&&Object($t.F)(f,O),e.$games&&j!==(j=t.game.timeLeftDisplay)&&Object($t.F)(h,j),e.$games&&g!==(g=Object(Pe.c)(t.game.id))&&(n.href=g)},d:function d(e){e&&Object($t.q)(n)}}}function My_turns_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["games"]),function my_turns_svelte_data(){return{translations:Ut.a}}()),e.data),this.store._add(this,["games"]),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function my_turns_svelte_create_main_fragment(e,t){var n,a=t.$games&&t.$games.length>0&&my_turns_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.$games&&s.$games.length>0?a?a.p(t,s):((a=my_turns_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(My_turns_svelte.prototype,$t.z);var Ta=My_turns_svelte;var Na={handleClick:function handleClick(e){this.isGuest&&(e.preventDefault(),bn())},isGuest:Object(ke.d)(),logAmplitudeEvent:xt.a.logEvent};function play_panel_svelte_create_if_block_4(e,t){var n;function select_block_type(e){return e.redirectToWebPagePlay?play_panel_svelte_create_if_block_5:play_panel_svelte_create_else_block}var a=select_block_type(t),s=a(e,t);return{c:function c(){s.c(),n=Object($t.h)()},m:function m(e,t){s.m(e,t),Object($t.w)(e,n,t)},p:function p(t,r){a===(a=select_block_type(r))&&s?s.p(t,r):(s.d(1),(s=a(e,r)).c(),s.m(n.parentNode,n))},d:function d(e){s.d(e),e&&Object($t.q)(n)}}}function play_panel_svelte_create_else_block(e,t){var n,a,s,r,l,u=t.translations.newGame;return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("span"),s=Object($t.k)("\n        "),r=Object($t.k)(u),a.className="icon-font-chess plus",n.href=l=t.routes.playOnlineNew,n.target="_self",n.className="button new-game"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r)},p:function p(e,t){e.translations&&u!==(u=t.translations.newGame)&&Object($t.F)(r,u),e.routes&&l!==(l=t.routes.playOnlineNew)&&(n.href=l)},d:function d(e){e&&Object($t.q)(n)}}}function play_panel_svelte_create_if_block_5(e,t){var n,a,s,r,l,u=t.translations.newGame;return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("span"),s=Object($t.k)("\n        "),r=Object($t.k)(u),a.className="icon-font-chess plus",n.href=l=t.routes.playPage,n.target="_self",n.className="button new-game"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r)},p:function p(e,t){e.translations&&u!==(u=t.translations.newGame)&&Object($t.F)(r,u),e.routes&&l!==(l=t.routes.playPage)&&(n.href=l)},d:function d(e){e&&Object($t.q)(n)}}}function play_panel_svelte_create_if_block_3(e,t){var n,a,s,r=t.translations.liveChess;return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(r),n.href=s=t.routes.live,n.target="_self",n.className="link main-link sprite live"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&r!==(r=t.translations.liveChess)&&Object($t.F)(a,r),e.routes&&s!==(s=t.routes.live)&&(n.href=s)},d:function d(e){e&&Object($t.q)(n)}}}function play_panel_svelte_create_if_block_2(e,t){var n,a,s,r=t.translations.dailyChess;return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(r),n.href=s=t.routes.daily,n.target="_self",n.className="link main-link sprite daily"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&r!==(r=t.translations.dailyChess)&&Object($t.F)(a,r),e.routes&&s!==(s=t.routes.daily)&&(n.href=s)},d:function d(e){e&&Object($t.q)(n)}}}function play_panel_svelte_create_if_block_1(e,t){var n,a,s;function click_handler(t){e.handleClick(t)}return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)("Library"),Object($t.c)(n,"click",click_handler),n.href=s=t.routes.library,n.target="_self",n.className="link main-link sprite library"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.routes&&s!==(s=t.routes.library)&&(n.href=s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function play_panel_svelte_create_if_block(e,t){var n,a,s,r,l=t.translations.archive;function click_handler(t){e.handleClick(t)}var u={routes:t.routes},f=new Ta({root:e.root,store:e.store,data:u});return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(l),r=Object($t.k)("\n\n    "),f._fragment.c(),Object($t.c)(n,"click",click_handler),n.href=s=t.routes.gameArchive,n.target="_self",n.className="link main-link sprite archive"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.w)(e,r,t),f._mount(e,t)},p:function p(e,t){e.translations&&l!==(l=t.translations.archive)&&Object($t.F)(a,l),e.routes&&s!==(s=t.routes.gameArchive)&&(n.href=s);var r={};e.routes&&(r.routes=t.routes),f._set(r)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler),e&&Object($t.q)(r),f.destroy(e)}}}function Play_panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(function play_panel_svelte_data(){return{amplitudeEvents:Me.a}}(),e.data),this._intro=!0,this._fragment=function play_panel_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M,I,x,D,R=t.translations.playOnline,U=t.translations.computer,z=t.translations.tournaments,F=t.translations.fourPlayerChess,$=t.translations.variants,H=t.translations.leaderboard,G=t.user&&play_panel_svelte_create_if_block_4(e,t),q=!t.isGuest&&play_panel_svelte_create_if_block_3(0,t),B=!t.isGuest&&play_panel_svelte_create_if_block_2(0,t);function click_handler(t){e.handleClick(t)}var W=t.showLibrary&&play_panel_svelte_create_if_block_1(e,t),V=t.user&&play_panel_svelte_create_if_block(e,t),K=new An({root:e.root,store:e.store,slots:{default:Object($t.j)()}});return{c:function c(){G&&G.c(),n=Object($t.k)("\n\n  "),a=Object($t.i)("a"),s=Object($t.k)(R),l=Object($t.k)("\n\n  "),q&&q.c(),u=Object($t.k)("\n\n  "),B&&B.c(),f=Object($t.k)("\n\n  "),_=Object($t.i)("a"),b=Object($t.k)(U),v=Object($t.k)("\n\n  "),g=Object($t.i)("a"),O=Object($t.k)(z),y=Object($t.k)("\n\n  "),w=Object($t.i)("a"),k=Object($t.k)(F),T=Object($t.k)("\n\n  "),N=Object($t.i)("a"),C=Object($t.k)($),A=Object($t.k)("\n\n  "),L=Object($t.i)("a"),P=Object($t.k)(H),I=Object($t.k)("\n\n  "),W&&W.c(),x=Object($t.k)("\n\n  "),V&&V.c(),D=Object($t.h)(),K._fragment.c(),a.href=r=t.redirectToWebPagePlay?t.routes.playPage:t.routes.playOnline,a.target="_self",a.className="link main-link sprite play",_.href=h=t.routes.computer,_.target="_self",_.className="link main-link sprite computer",g.href=j=t.routes.tournaments,g.target="_self",g.className="link main-link sprite tournaments",Object($t.c)(w,"click",click_handler),w.href=E=t.routes.fourPlayer,w.target="_self",w.className="link main-link sprite four-player-chess",N.href=S=t.routes.variants,N.target="_self",N.className="link main-link sprite variants",L.href=M=t.routes.leaderboard,L.target="_self",L.className="link main-link sprite leaderboard"},m:function m(e,t){G&&G.m(K._slotted.default,null),Object($t.d)(K._slotted.default,n),Object($t.d)(K._slotted.default,a),Object($t.d)(a,s),Object($t.d)(K._slotted.default,l),q&&q.m(K._slotted.default,null),Object($t.d)(K._slotted.default,u),B&&B.m(K._slotted.default,null),Object($t.d)(K._slotted.default,f),Object($t.d)(K._slotted.default,_),Object($t.d)(_,b),Object($t.d)(K._slotted.default,v),Object($t.d)(K._slotted.default,g),Object($t.d)(g,O),Object($t.d)(K._slotted.default,y),Object($t.d)(K._slotted.default,w),Object($t.d)(w,k),Object($t.d)(K._slotted.default,T),Object($t.d)(K._slotted.default,N),Object($t.d)(N,C),Object($t.d)(K._slotted.default,A),Object($t.d)(K._slotted.default,L),Object($t.d)(L,P),Object($t.d)(K._slotted.default,I),W&&W.m(K._slotted.default,null),Object($t.d)(K._slotted.default,x),V&&V.m(K._slotted.default,null),Object($t.d)(K._slotted.default,D),K._mount(e,t)},p:function p(t,l){l.user?G?G.p(t,l):((G=play_panel_svelte_create_if_block_4(e,l)).c(),G.m(n.parentNode,n)):G&&(G.d(1),G=null),t.translations&&R!==(R=l.translations.playOnline)&&Object($t.F)(s,R),(t.redirectToWebPagePlay||t.routes)&&r!==(r=l.redirectToWebPagePlay?l.routes.playPage:l.routes.playOnline)&&(a.href=r),l.isGuest?q&&(q.d(1),q=null):q?q.p(t,l):((q=play_panel_svelte_create_if_block_3(0,l)).c(),q.m(u.parentNode,u)),l.isGuest?B&&(B.d(1),B=null):B?B.p(t,l):((B=play_panel_svelte_create_if_block_2(0,l)).c(),B.m(f.parentNode,f)),t.translations&&U!==(U=l.translations.computer)&&Object($t.F)(b,U),t.routes&&h!==(h=l.routes.computer)&&(_.href=h),t.translations&&z!==(z=l.translations.tournaments)&&Object($t.F)(O,z),t.routes&&j!==(j=l.routes.tournaments)&&(g.href=j),t.translations&&F!==(F=l.translations.fourPlayerChess)&&Object($t.F)(k,F),t.routes&&E!==(E=l.routes.fourPlayer)&&(w.href=E),t.translations&&$!==($=l.translations.variants)&&Object($t.F)(C,$),t.routes&&S!==(S=l.routes.variants)&&(N.href=S),t.translations&&H!==(H=l.translations.leaderboard)&&Object($t.F)(P,H),t.routes&&M!==(M=l.routes.leaderboard)&&(L.href=M),l.showLibrary?W?W.p(t,l):((W=play_panel_svelte_create_if_block_1(e,l)).c(),W.m(x.parentNode,x)):W&&(W.d(1),W=null),l.user?V?V.p(t,l):((V=play_panel_svelte_create_if_block(e,l)).c(),V.m(D.parentNode,D)):V&&(V.d(1),V=null)},d:function d(e){G&&G.d(),q&&q.d(),B&&B.d(),Object($t.D)(w,"click",click_handler),W&&W.d(),V&&V.d(),K.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Play_panel_svelte.prototype,$t.z),Object($t.e)(Play_panel_svelte.prototype,Na);var Ca=Play_panel_svelte,Sa=document.querySelector(".play.nav-panel"),Aa=null;var La={logAmplitudeEvent:xt.a.logEvent};function Puzzles_panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(function puzzles_panel_svelte_data(){return{amplitudeEvents:Me.a,translations:Ut.a}}(),e.data),this._intro=!0,this._fragment=function puzzles_panel_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P=t.translations.puzzles,M=t.translations.puzzleRush,I=t.translations.puzzleBattle,x=t.translations.dailyPuzzle,D=t.translations.soloChess,R=t.translations.drills;function click_handler(n){e.logAmplitudeEvent(t.amplitudeEvents.TACTICS_NAV_EVENT,{source:t.amplitudeEvents.AMPLITUDE_SOURCE_NAV})}function click_handler_1(n){e.logAmplitudeEvent(t.amplitudeEvents.TACTICS_NAV_EVENT,{source:t.amplitudeEvents.AMPLITUDE_SOURCE_NAV})}function click_handler_2(n){e.logAmplitudeEvent(t.amplitudeEvents.DRILLS_NAV_EVENT)}var U=new An({root:e.root,store:e.store,slots:{default:Object($t.j)()}});return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(P),s=Object($t.k)("‎"),l=Object($t.k)("\n\n  "),u=Object($t.i)("a"),f=Object($t.k)(M),b=Object($t.k)("\n\n  "),h=Object($t.i)("a"),v=Object($t.k)(I),O=Object($t.k)("\n\n  "),j=Object($t.i)("a"),y=Object($t.k)(x),k=Object($t.k)("\n\n  "),E=Object($t.i)("a"),T=Object($t.k)(D),C=Object($t.k)("\n\n  "),S=Object($t.i)("a"),A=Object($t.k)(R),U._fragment.c(),Object($t.c)(n,"click",click_handler),n.href=r=t.routes.tactics,n.target="_self",n.className="link main-link sprite tactics",Object($t.c)(u,"click",click_handler_1),u.href=_=t.routes.puzzles,u.target="_self",u.className="link main-link sprite puzzles",h.href=g=t.routes.puzzleBattle,h.target="_self",h.className="link main-link sprite puzzle-battle",j.href=w=t.routes.dailyPuzzle,j.target="_self",j.className="link main-link sprite daily-puzzle",E.href=N=t.routes.soloChess,E.target="_self",E.className="link main-link sprite solo-chess",Object($t.c)(S,"click",click_handler_2),S.href=L=t.routes.drills,S.target="_self",S.className="link main-link sprite drills"},m:function m(e,t){Object($t.d)(U._slotted.default,n),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(U._slotted.default,l),Object($t.d)(U._slotted.default,u),Object($t.d)(u,f),Object($t.d)(U._slotted.default,b),Object($t.d)(U._slotted.default,h),Object($t.d)(h,v),Object($t.d)(U._slotted.default,O),Object($t.d)(U._slotted.default,j),Object($t.d)(j,y),Object($t.d)(U._slotted.default,k),Object($t.d)(U._slotted.default,E),Object($t.d)(E,T),Object($t.d)(U._slotted.default,C),Object($t.d)(U._slotted.default,S),Object($t.d)(S,A),U._mount(e,t)},p:function p(e,s){t=s,e.translations&&P!==(P=t.translations.puzzles)&&Object($t.F)(a,P),e.routes&&r!==(r=t.routes.tactics)&&(n.href=r),e.translations&&M!==(M=t.translations.puzzleRush)&&Object($t.F)(f,M),e.routes&&_!==(_=t.routes.puzzles)&&(u.href=_),e.translations&&I!==(I=t.translations.puzzleBattle)&&Object($t.F)(v,I),e.routes&&g!==(g=t.routes.puzzleBattle)&&(h.href=g),e.translations&&x!==(x=t.translations.dailyPuzzle)&&Object($t.F)(y,x),e.routes&&w!==(w=t.routes.dailyPuzzle)&&(j.href=w),e.translations&&D!==(D=t.translations.soloChess)&&Object($t.F)(T,D),e.routes&&N!==(N=t.routes.soloChess)&&(E.href=N),e.translations&&R!==(R=t.translations.drills)&&Object($t.F)(A,R),e.routes&&L!==(L=t.routes.drills)&&(S.href=L)},d:function d(e){Object($t.D)(n,"click",click_handler),Object($t.D)(u,"click",click_handler_1),Object($t.D)(S,"click",click_handler_2),U.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Puzzles_panel_svelte.prototype,$t.z),Object($t.e)(Puzzles_panel_svelte.prototype,La);var Pa=Puzzles_panel_svelte,Ma=document.querySelector(".puzzles.nav-panel"),Ia=null;n("./core/navigation/components/watch-tv.svelte.svelte.css");function watch_tv_svelte_create_if_block_1(e,t){var n;return{c:function c(){(n=Object($t.i)("span")).className="icon-font-chess chevron-right icon-font-primary icon-font"},m:function m(e,t){Object($t.w)(e,n,t)},d:function d(e){e&&Object($t.q)(n)}}}function watch_tv_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_=t.$tvAnnouncement.title,b=t.translations.live;return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("span"),s=Object($t.k)(_),r=Object($t.k)("\n    "),l=Object($t.i)("span"),u=Object($t.k)(b),a.className="title sub-link svelte-fz08s5",l.className="svelte-live badge icon svelte-fz08s5",n.href=f=t.routes.tv,n.target="_self",n.className="svelte-section svelte-fz08s5"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(a,s),Object($t.d)(n,r),Object($t.d)(n,l),Object($t.d)(l,u)},p:function p(e,t){e.$tvAnnouncement&&_!==(_=t.$tvAnnouncement.title)&&Object($t.F)(s,_),e.translations&&b!==(b=t.translations.live)&&Object($t.F)(u,b),e.routes&&f!==(f=t.routes.tv)&&(n.href=f)},d:function d(e){e&&Object($t.q)(n)}}}function Watch_tv_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["tvAnnouncement"]),function watch_tv_svelte_data(){return{routes:Xn.b,translations:Ut.a}}()),e.data),this.store._add(this,["tvAnnouncement"]),this._recompute({$tvAnnouncement:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function watch_tv_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b=t.translations.chessTv,h=t.isLive&&watch_tv_svelte_create_if_block_1(),v=t.isLive&&watch_tv_svelte_create_if_block(0,t);return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("span"),s=Object($t.k)(b),r=Object($t.k)("\n  "),h&&h.c(),f=Object($t.k)("\n"),v&&v.c(),_=Object($t.h)(),n.href=l=t.routes.tv,n.className=u="link main-link sprite tv "+(t.isLive&&"heading")+" svelte-fz08s5"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(a,s),Object($t.d)(n,r),h&&h.m(n,null),Object($t.w)(e,f,t),v&&v.m(e,t),Object($t.w)(e,_,t)},p:function p(e,t){e.translations&&b!==(b=t.translations.chessTv)&&Object($t.F)(s,b),t.isLive?h||((h=watch_tv_svelte_create_if_block_1()).c(),h.m(n,null)):h&&(h.d(1),h=null),e.routes&&l!==(l=t.routes.tv)&&(n.href=l),e.isLive&&u!==(u="link main-link sprite tv "+(t.isLive&&"heading")+" svelte-fz08s5")&&(n.className=u),t.isLive?v?v.p(e,t):((v=watch_tv_svelte_create_if_block(0,t)).c(),v.m(_.parentNode,_)):v&&(v.d(1),v=null)},d:function d(e){e&&Object($t.q)(n),h&&h.d(),e&&Object($t.q)(f),v&&v.d(e),e&&Object($t.q)(_)}}}(0,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(Watch_tv_svelte.prototype,$t.z),Watch_tv_svelte.prototype._recompute=function _recompute(e,t){e.$tvAnnouncement&&this._differs(t.isLive,t.isLive=function isLive(e){var t=e.$tvAnnouncement;return!!t.title&&t}(t))&&(e.isLive=!0)};var xa=Watch_tv_svelte;n("./core/navigation/components/watch-streamers.svelte.svelte.css");function watch_streamers_svelte_get_each_context(e,t,n){var a=Object.create(e);return a.avatar=t[n].avatar,a.twitch_url=t[n].twitch_url,a.username=t[n].username,a}function watch_streamers_svelte_create_if_block(e,t){for(var n,a=t.$watchPanels.streamers,s=[],r=0;r<a.length;r+=1)s[r]=watch_streamers_svelte_create_each_block(e,watch_streamers_svelte_get_each_context(t,a,r));return{c:function c(){n=Object($t.i)("div");for(var e=0;e<s.length;e+=1)s[e].c();n.className="svelte-section streamer-container svelte-md8xgb"},m:function m(e,t){Object($t.w)(e,n,t);for(var a=0;a<s.length;a+=1)s[a].m(n,null)},p:function p(t,r){if(t.$watchPanels){a=r.$watchPanels.streamers;for(var l=0;l<a.length;l+=1){var u=watch_streamers_svelte_get_each_context(r,a,l);s[l]?s[l].p(t,u):(s[l]=watch_streamers_svelte_create_each_block(e,u),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d:function d(e){e&&Object($t.q)(n),Object($t.m)(s,e)}}}function watch_streamers_svelte_create_each_block(e,t){var n,a,s,r,l,u,f,_,b,h=t.username,v={size:"25",src:t.avatar,username:t.username},g=new $n.a({root:e.root,store:e.store,data:v});return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("span"),g._fragment.c(),s=Object($t.k)("\n      "),r=Object($t.i)("span"),l=Object($t.k)(h),u=Object($t.k)("\n      "),(f=Object($t.i)("span")).innerHTML='<span class="icon-font-chess tracked-content svelte-md8xgb"></span>',_=Object($t.k)("\n    "),a.className="avatar",r.className="name svelte-md8xgb",f.className="svelte-icon badge icon",n.className="svelte-result sub-link svelte-md8xgb",n.href=b=t.twitch_url,n.target="_blank"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),g._mount(a,null),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(r,l),Object($t.d)(n,u),Object($t.d)(n,f),Object($t.d)(n,_)},p:function p(e,t){var a={};e.$watchPanels&&(a.src=t.avatar),e.$watchPanels&&(a.username=t.username),g._set(a),e.$watchPanels&&h!==(h=t.username)&&Object($t.F)(l,h),e.$watchPanels&&b!==(b=t.twitch_url)&&(n.href=b)},d:function d(e){e&&Object($t.q)(n),g.destroy()}}}function Watch_streamers_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["watchPanels"]),function watch_streamers_svelte_data(){return{translations:Ut.a}}()),e.data),this.store._add(this,["watchPanels"]),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function watch_streamers_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b=t.translations.streamers,h=t.$watchPanels.streamers&&t.$watchPanels.streamers.length&&watch_streamers_svelte_create_if_block(e,t);return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("span"),s=Object($t.k)(b),r=Object($t.k)("\n  "),l=Object($t.i)("span"),f=Object($t.k)("\n"),h&&h.c(),_=Object($t.h)(),l.className="icon-font-chess chevron-right icon-font-primary icon-font",n.href=u=t.routes.streamers,n.className="link main-link sprite streamers heading"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(a,s),Object($t.d)(n,r),Object($t.d)(n,l),Object($t.w)(e,f,t),h&&h.m(e,t),Object($t.w)(e,_,t)},p:function p(t,a){t.translations&&b!==(b=a.translations.streamers)&&Object($t.F)(s,b),t.routes&&u!==(u=a.routes.streamers)&&(n.href=u),a.$watchPanels.streamers&&a.$watchPanels.streamers.length?h?h.p(t,a):((h=watch_streamers_svelte_create_if_block(e,a)).c(),h.m(_.parentNode,_)):h&&(h.d(1),h=null)},d:function d(e){e&&(Object($t.q)(n),Object($t.q)(f)),h&&h.d(e),e&&Object($t.q)(_)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Watch_streamers_svelte.prototype,$t.z);var Da=Watch_streamers_svelte;n("./core/navigation/components/watch-playing-now.svelte.svelte.css");function watch_playing_now_svelte_get_each_context(e,t,n){var a=Object.create(e);return a.player=t[n],a}function watch_playing_now_svelte_create_if_block(e,t){for(var n,a,s,r,l=t.translations.playingNow,u=t.$watchPanels.topPlayers,f=[],_=0;_<u.length;_+=1)f[_]=watch_playing_now_svelte_create_each_block(e,watch_playing_now_svelte_get_each_context(t,u,_));return{c:function c(){n=Object($t.i)("div"),a=Object($t.k)(l),s=Object($t.k)("\n\n  "),r=Object($t.i)("div");for(var e=0;e<f.length;e+=1)f[e].c();n.className="link heading small svelte-1850f4v",r.className="svelte-section svelte-1850f4v"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.w)(e,s,t),Object($t.w)(e,r,t);for(var l=0;l<f.length;l+=1)f[l].m(r,null)},p:function p(t,n){if(t.translations&&l!==(l=n.translations.playingNow)&&Object($t.F)(a,l),t.routes||t.$watchPanels){u=n.$watchPanels.topPlayers;for(var s=0;s<u.length;s+=1){var _=watch_playing_now_svelte_get_each_context(n,u,s);f[s]?f[s].p(t,_):(f[s]=watch_playing_now_svelte_create_each_block(e,_),f[s].c(),f[s].m(r,null))}for(;s<f.length;s+=1)f[s].d(1);f.length=u.length}},d:function d(e){e&&(Object($t.q)(n),Object($t.q)(s),Object($t.q)(r)),Object($t.m)(f,e)}}}function watch_playing_now_svelte_create_if_block_1(e,t){var n,a,s=t.player.title;return{c:function c(){n=Object($t.i)("span"),a=Object($t.k)(s),n.className="svelte-icon left badge svelte-1850f4v"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.$watchPanels&&s!==(s=t.player.title)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n)}}}function watch_playing_now_svelte_create_each_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E=t.player.username,T=t.player.rating,N={live:!0,size:"25",src:t.player.avatar,username:t.player.username},C=new $n.a({root:e.root,store:e.store,data:N}),S=t.player.title&&watch_playing_now_svelte_create_if_block_1(0,t);return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("span"),C._fragment.c(),s=Object($t.k)("\n        "),S&&S.c(),r=Object($t.k)("\n        "),l=Object($t.i)("span"),u=Object($t.k)(E),f=Object($t.k)(" "),_=Object($t.k)("\n        "),b=Object($t.i)("span"),h=Object($t.k)("("),v=Object($t.k)(T),g=Object($t.k)(")"),O=Object($t.k)("\n        "),j=Object($t.i)("span"),w=Object($t.k)("\n      "),a.className="avatar",l.className="watch-name svelte-1850f4v",b.className="svelte-rating svelte-1850f4v",j.className=y="country-flags-component country-"+Object(Pe.b)(t.player)+" svelte-1850f4v",n.className="svelte-result sub-link",n.href=k=t.routes.topPlayerObserve(t.player.username),n.target="_blank"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),C._mount(a,null),Object($t.d)(n,s),S&&S.m(n,null),Object($t.d)(n,r),Object($t.d)(n,l),Object($t.d)(l,u),Object($t.d)(l,f),Object($t.d)(n,_),Object($t.d)(n,b),Object($t.d)(b,h),Object($t.d)(b,v),Object($t.d)(b,g),Object($t.d)(n,O),Object($t.d)(n,j),Object($t.d)(n,w)},p:function p(e,t){var a={};e.$watchPanels&&(a.src=t.player.avatar),e.$watchPanels&&(a.username=t.player.username),C._set(a),t.player.title?S?S.p(e,t):((S=watch_playing_now_svelte_create_if_block_1(0,t)).c(),S.m(n,r)):S&&(S.d(1),S=null),e.$watchPanels&&E!==(E=t.player.username)&&Object($t.F)(u,E),e.$watchPanels&&T!==(T=t.player.rating)&&Object($t.F)(v,T),e.$watchPanels&&y!==(y="country-flags-component country-"+Object(Pe.b)(t.player)+" svelte-1850f4v")&&(j.className=y),(e.routes||e.$watchPanels)&&k!==(k=t.routes.topPlayerObserve(t.player.username))&&(n.href=k)},d:function d(e){e&&Object($t.q)(n),C.destroy(),S&&S.d()}}}function Watch_playing_now_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["watchPanels"]),function watch_playing_now_svelte_data(){return{routes:Xn.b,translations:Ut.a}}()),e.data),this.store._add(this,["watchPanels"]),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function watch_playing_now_svelte_create_main_fragment(e,t){var n,a=t.$watchPanels.topPlayers&&t.$watchPanels.topPlayers.length&&watch_playing_now_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.$watchPanels.topPlayers&&s.$watchPanels.topPlayers.length?a?a.p(t,s):((a=watch_playing_now_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Watch_playing_now_svelte.prototype,$t.z);var Ra=Watch_playing_now_svelte;var Ua={logAmplitudeEvent:function logAmplitudeEvent(e){xt.a.logEvent(Me.a.SOCIAL_VIEW_EVENT,{event:e})}};function today_panel_svelte_get_each_context(e,t,n){var a=Object.create(e);return a.title=t[n].title,a.url=t[n].url,a}function today_panel_svelte_create_if_block(e,t){for(var n,a=t.$watchPanels.topEvents,s=[],r=0;r<a.length;r+=1)s[r]=today_panel_svelte_create_each_block(e,today_panel_svelte_get_each_context(t,a,r));return{c:function c(){for(var e=0;e<s.length;e+=1)s[e].c();n=Object($t.h)()},m:function m(e,t){for(var a=0;a<s.length;a+=1)s[a].m(e,t);Object($t.w)(e,n,t)},p:function p(t,r){if(t.$watchPanels){a=r.$watchPanels.topEvents;for(var l=0;l<a.length;l+=1){var u=today_panel_svelte_get_each_context(r,a,l);s[l]?s[l].p(t,u):(s[l]=today_panel_svelte_create_each_block(e,u),s[l].c(),s[l].m(n.parentNode,n))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d:function d(e){Object($t.m)(s,e),e&&Object($t.q)(n)}}}function today_panel_svelte_create_each_block(e,t){var n,a,s,r,l,u=t.title;return{c:function c(){n=Object($t.i)("a"),a=Object($t.i)("div"),s=Object($t.k)(u),a.className="top-event-title",n.className="link event sprite top-event",n.href=r=t.url,n.target="_self",n.title=l=t.title},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(a,s)},p:function p(e,t){e.$watchPanels&&u!==(u=t.title)&&Object($t.F)(s,u),e.$watchPanels&&r!==(r=t.url)&&(n.href=r),e.$watchPanels&&l!==(l=t.title)&&(n.title=l)},d:function d(e){e&&Object($t.q)(n)}}}function Today_panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["watchPanels"]),function today_panel_svelte_data(){return{eventsUrl:D(l)?"/watch/":"/events/"}}()),e.data),this.store._add(this,["watchPanels"]),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function today_panel_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P=t.translations.chessToday,M=t.translations.news,I=t.translations.events,x=t.translations.proChessLeague,D=t.translations.speedChessChampionship,R=new xa({root:e.root,store:e.store}),U={routes:t.routes},z=new Da({root:e.root,store:e.store,data:U}),F=t.$watchPanels.topEvents&&today_panel_svelte_create_if_block(e,t);function click_handler(t){e.logAmplitudeEvent("PCL")}function click_handler_1(t){e.logAmplitudeEvent("SCC")}var $=new Ra({root:e.root,store:e.store}),H=new An({root:e.root,store:e.store,slots:{default:Object($t.j)()}});return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(P),r=Object($t.k)("\n\n  "),l=Object($t.i)("a"),u=Object($t.k)(M),_=Object($t.k)("\n\n  "),R._fragment.c(),b=Object($t.k)("\n\n  "),z._fragment.c(),h=Object($t.k)("\n\n  "),v=Object($t.i)("a"),g=Object($t.i)("span"),O=Object($t.k)(I),j=Object($t.k)("\n    "),y=Object($t.i)("span"),w=Object($t.k)("\n\n  "),F&&F.c(),k=Object($t.k)("\n\n  "),E=Object($t.i)("a"),T=Object($t.k)(x),N=Object($t.k)("\n\n  "),C=Object($t.i)("a"),S=Object($t.k)(D),L=Object($t.k)("\n\n  "),$._fragment.c(),H._fragment.c(),n.href=s=t.routes.chessToday,n.className="link main-link sprite chess-today",l.href=f=t.routes.news,l.className="link main-link sprite news",y.className="icon-font-chess chevron-right icon-font-primary icon-font",v.className="link main-link heading sprite events",v.href=t.eventsUrl,v.target="_self",Object($t.c)(E,"click",click_handler),E.href="http://www.prochessleague.com",E.target="_blank",E.className="link event sprite proleague",Object($t.c)(C,"click",click_handler_1),C.href=A=t.routes.speedChessChampionship,C.target="_self",C.className="link event sprite speed-champs"},m:function m(e,t){Object($t.d)(H._slotted.default,n),Object($t.d)(n,a),Object($t.d)(H._slotted.default,r),Object($t.d)(H._slotted.default,l),Object($t.d)(l,u),Object($t.d)(H._slotted.default,_),R._mount(H._slotted.default,null),Object($t.d)(H._slotted.default,b),z._mount(H._slotted.default,null),Object($t.d)(H._slotted.default,h),Object($t.d)(H._slotted.default,v),Object($t.d)(v,g),Object($t.d)(g,O),Object($t.d)(v,j),Object($t.d)(v,y),Object($t.d)(H._slotted.default,w),F&&F.m(H._slotted.default,null),Object($t.d)(H._slotted.default,k),Object($t.d)(H._slotted.default,E),Object($t.d)(E,T),Object($t.d)(H._slotted.default,N),Object($t.d)(H._slotted.default,C),Object($t.d)(C,S),Object($t.d)(H._slotted.default,L),$._mount(H._slotted.default,null),H._mount(e,t)},p:function p(t,r){t.translations&&P!==(P=r.translations.chessToday)&&Object($t.F)(a,P),t.routes&&s!==(s=r.routes.chessToday)&&(n.href=s),t.translations&&M!==(M=r.translations.news)&&Object($t.F)(u,M),t.routes&&f!==(f=r.routes.news)&&(l.href=f);var _={};t.routes&&(_.routes=r.routes),z._set(_),t.translations&&I!==(I=r.translations.events)&&Object($t.F)(O,I),t.eventsUrl&&(v.href=r.eventsUrl),r.$watchPanels.topEvents?F?F.p(t,r):((F=today_panel_svelte_create_if_block(e,r)).c(),F.m(k.parentNode,k)):F&&(F.d(1),F=null),t.translations&&x!==(x=r.translations.proChessLeague)&&Object($t.F)(T,x),t.translations&&D!==(D=r.translations.speedChessChampionship)&&Object($t.F)(S,D),t.routes&&A!==(A=r.routes.speedChessChampionship)&&(C.href=A)},d:function d(e){R.destroy(),z.destroy(),F&&F.d(),Object($t.D)(E,"click",click_handler),Object($t.D)(C,"click",click_handler_1),$.destroy(),H.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Today_panel_svelte.prototype,$t.z),Object($t.e)(Today_panel_svelte.prototype,Ua);var za,Fa,$a=Today_panel_svelte,Ha=document.querySelector(".today.nav-panel"),Ga=null,qa="connect",Ba="home",Wa="learn",Va="more",Ka="notifications",Ya="play",Za="puzzles",Qa="today",Ja=(za={},r()(za,qa,{load:function loadConnectPanel(){Vn=new Bn({target:Wn,store:Dn.default.stores.navigation,data:{routes:JSON.parse(Wn.getAttribute(R.b.routes))}})},remove:function removeConnectPanel(){Vn.destroy()}}),r()(za,Ba,{load:function loadHomePanel(){ba=new fa({target:_a,store:Dn.default.stores.notifications})},remove:function removeHomePanel(){ba.destroy()}}),r()(za,Wa,{load:function loadLearnPanel(){va=new ma({data:{routes:JSON.parse(pa.getAttribute(R.b.routes))},store:Dn.default.stores.notifications,target:pa})},remove:function removeLearnPanel(){va.destroy()}}),r()(za,Va,{load:function loadMorePanel(){ya=new Oa({target:ja,data:{routes:JSON.parse(ja.getAttribute(R.b.routes))}})},remove:function removeMorePanel(){ya.destroy()}}),r()(za,Ka,{load:function loadNotificationsPanel(){!Ea&&ut()&&(Dn.default.stores.notifications.fetch(),Ea=new wa({target:ka,store:Dn.default.stores.notifications}))},remove:function removeNotificationsPanel(){null!==Ea&&(Ea.destroy(),Ea=null)}}),r()(za,Ya,{load:function loadPlayPanel(){ut()&&Dn.default.stores.notifications.fetch(),Aa=new Ca({target:Sa,store:Dn.default.stores.notifications,data:{isGuest:Object(ke.d)(),routes:JSON.parse(Sa.getAttribute(R.b.routes)),redirectToWebPagePlay:D(h),showLibrary:D(_),translations:Ut.a,user:window.context.user}})},remove:function removePlayPanel(){Aa.destroy()}}),r()(za,Za,{load:function loadPuzzlePanel(){Ia=new Pa({target:Ma,data:{routes:JSON.parse(Ma.getAttribute(R.b.routes)),translations:Ut.a}})},remove:function removePuzzlePanel(){Ia.destroy()}}),r()(za,Qa,{load:function loadTodayPanel(){Ga=new $a({target:Ha,store:Dn.default.stores.navigation,data:{routes:JSON.parse(Ha.getAttribute(R.b.routes)),translations:Ut.a}})},remove:function removeTodayPanel(){Ga.destroy()}}),za),Xa=Object(Dt.a)(R.n.MAIN_TOP_NAV_LINKS),es=function hidePanel(e){null!=e&&(e.classList.remove(R.f.HOVER),function panelWillDisappear(e){Ja[e]&&Ja[e].remove()}(e.getAttribute("data-panel")))},ts=function hidePanels(){null!=Xa&&Xa.forEach((function(e){e.classList&&e.classList.contains(R.f.HOVER)&&es(e)}))},ns=function showPanel(e){null!=e&&(!function panelWillAppear(e){Ja[e]&&Ja[e].load()}(e.getAttribute("data-panel")),e.classList.add(R.f.HOVER))},as=0,ss=function mouseEnterEvent(e){var t=e.target;Fa=t,as++,setTimeout((function(){as--,Fa!==t||t.classList.contains(R.n.HOVER_CLASS)||(ts(),ns(t))}),_n())},rs=function mouseLeaveEvent(){Fa=null,setTimeout((function(){var e=document.querySelector(".nav-panel:hover");e?e.addEventListener("mouseleave",mouseLeaveEvent):(0===as||_n()>un)&&ts()}),un)};function popover_notifications_svelte_oncreate(){ds()}function Popover_notifications_svelte(e){var t=this;Object($t.v)(this,e),this._state=Object($t.e)({},e.data),this._intro=!0,this._fragment=function popover_notifications_svelte_create_main_fragment(e,t){var n,a,s,r=new ua({root:e.root,store:e.store,data:{homeWidget:!1}});return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.k)("\n  "),r._fragment.c(),a.className="chevron",n.className="popover-notifications is-active"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),r._mount(n,null)},p:$t.x,d:function d(e){e&&Object($t.q)(n),r.destroy()}}}(this,this._state),this.root._oncreate.push((function(){popover_notifications_svelte_oncreate.call(t),t.fire("update",{changed:Object($t.f)({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}!function handlePointerEvents(){Pe.f&&function handleMobileTouch(){var e=Object(Dt.a)(R.n.MAIN_NAV_LINKS),t=document.querySelector(R.n.MAIN_TOP_NAV);e.filter((function(e){return Boolean(e.attributes.href)})).forEach((function(e){return e.addEventListener("click",(function(n){e.classList.contains(R.f.HOVER)||(ts(),ns(e),Ht(t).then(ts),n.preventDefault())}))}))}(),function handleMouseHover(){Xa.forEach((function(e){e.addEventListener("mouseenter",ss),e.addEventListener("mouseleave",rs)}))}()}(),Object($t.e)(Popover_notifications_svelte.prototype,$t.z);var os=Popover_notifications_svelte,cs=document.getElementById("popover-notifications"),is=null,ls=document.querySelector("#tb .action.notifications"),us=function listener(){!function loadPopoverNotificationsPanel(){Dn.default.stores.notifications.fetch(),is||(is=new os({target:cs,store:Dn.default.stores.notifications}))}(),ls.removeEventListener("click",listener)},ds=function clickOutsideListener(){Ht(document.querySelector("#tb .popover-notifications")).then((function(){!function removePopoverNotificationsPanel(){is.destroy(),is=null}(),ls.addEventListener("click",us)}))},fs=document.querySelector("#tb .action.notifications");fs&&fs.addEventListener("click",us);var _s={csrfToken:function csrfToken(){return window.context?window.context.csrf.token:""},show:function show(){this.set({show:!0})},hide:function hide(){this.set({show:!1})},logout:function logout(){this.refs.logout.submit()}};function popover_settings_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M,I,x,D,R,U,z,F=t.translations.settings,$=t.translations.themes,H=t.translations.help,G=t.translations.logOut;function click_handler(t){e.logout()}return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.k)("\n\n    "),r=Object($t.i)("a"),(l=Object($t.i)("div")).innerHTML='<span class="icon-font-chess circle-gearwheel"></span>',u=Object($t.k)("\n      "),f=Object($t.i)("span"),_=Object($t.k)(F),h=Object($t.k)("\n\n    "),v=Object($t.i)("a"),(g=Object($t.i)("div")).innerHTML='<span class="icon-font-chess square-brush"></span>',O=Object($t.k)("\n      "),j=Object($t.i)("span"),y=Object($t.k)($),k=Object($t.k)("\n\n    "),E=Object($t.i)("a"),(T=Object($t.i)("div")).innerHTML='<span class="icon-font-chess circle-question"></span>',N=Object($t.k)("\n      "),C=Object($t.i)("span"),S=Object($t.k)(H),L=Object($t.k)("\n\n    "),P=Object($t.i)("form"),M=Object($t.i)("input"),I=Object($t.k)("\n      "),(x=Object($t.i)("div")).innerHTML='<span class="icon-font-chess link"></span>',D=Object($t.k)("\n      "),R=Object($t.i)("span"),U=Object($t.k)(G),a.className="chevron",l.className="icon-font icon",f.className="title",r.className="item",r.href=b=t.routes.settings,r.target="_self",g.className="icon-font icon",j.className="title",v.className="item",v.href=w=t.routes.themes,v.target="_self",T.className="icon-font icon",C.className="title",E.className="item",E.href=A=t.routes.support,E.target="_self",M.name="_csrf_token",Object($t.E)(M,"type","hidden"),M.value=t.csrfToken,x.className="icon-font icon",R.className="title",Object($t.c)(P,"click",click_handler),P.className="item",P.method="post",P.action=z=t.routes.logout,n.className=t.componentClasses},m:function m(t,b){Object($t.w)(t,n,b),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(r,l),Object($t.d)(r,u),Object($t.d)(r,f),Object($t.d)(f,_),Object($t.d)(n,h),Object($t.d)(n,v),Object($t.d)(v,g),Object($t.d)(v,O),Object($t.d)(v,j),Object($t.d)(j,y),Object($t.d)(n,k),Object($t.d)(n,E),Object($t.d)(E,T),Object($t.d)(E,N),Object($t.d)(E,C),Object($t.d)(C,S),Object($t.d)(n,L),Object($t.d)(n,P),Object($t.d)(P,M),Object($t.d)(P,I),Object($t.d)(P,x),Object($t.d)(P,D),Object($t.d)(P,R),Object($t.d)(R,U),e.refs.logout=P},p:function p(e,t){e.translations&&F!==(F=t.translations.settings)&&Object($t.F)(_,F),e.routes&&b!==(b=t.routes.settings)&&(r.href=b),e.translations&&$!==($=t.translations.themes)&&Object($t.F)(y,$),e.routes&&w!==(w=t.routes.themes)&&(v.href=w),e.translations&&H!==(H=t.translations.help)&&Object($t.F)(S,H),e.routes&&A!==(A=t.routes.support)&&(E.href=A),e.csrfToken&&(M.value=t.csrfToken),e.translations&&G!==(G=t.translations.logOut)&&Object($t.F)(U,G),e.routes&&z!==(z=t.routes.logout)&&(P.action=z),e.componentClasses&&(n.className=t.componentClasses)},d:function d(t){t&&Object($t.q)(n),Object($t.D)(P,"click",click_handler),e.refs.logout===P&&(e.refs.logout=null)}}}function Popover_settings_svelte(e){Object($t.v)(this,e),this.refs={},this._state=Object($t.e)(function popover_settings_svelte_data(){return{translations:Ut.a,routes:Xn.b,show:!1}}(),e.data),this._recompute({show:1},this._state),this._intro=!0,this._fragment=function popover_settings_svelte_create_main_fragment(e,t){var n,a=t.show&&popover_settings_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.show?a?a.p(t,s):((a=popover_settings_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(Popover_settings_svelte.prototype,$t.z),Object($t.e)(Popover_settings_svelte.prototype,_s),Popover_settings_svelte.prototype._recompute=function _recompute(e,t){e.show&&this._differs(t.componentClasses,t.componentClasses=function componentClasses(e){var t=["popover-settings"];return e.show&&t.push("is-active"),t.join(" ")}(t))&&(e.componentClasses=!0)};var bs=Popover_settings_svelte,hs=document.querySelector("#popover-settings"),ms=document.querySelector("#tb .action.settings"),ps=null;ms&&ms.addEventListener("click",(function listener(){(ps=ps||new bs({target:hs})).show(),ms.removeEventListener("click",listener),Ht(document.querySelector("#tb .popover-settings")).then((function(){ps.hide(),ms.addEventListener("click",listener)}))}));var vs=n("./web/core/api/board/helper/make-resize-event.js"),gs=document.getElementById("sb"),Os=document.querySelector(".action.resize");Os&&Os.addEventListener("click",(function handleResize(){Dn.default.stores.navigation.get().collapsed?(document.body.classList.remove("nav-collapsed"),gs.classList.remove("collapsed"),Dn.default.stores.navigation.expand()):(document.body.classList.add("nav-collapsed"),gs.classList.add("collapsed"),Dn.default.stores.navigation.collapse()),window.postMessage("doBoardResize",window.location.origin),window.postMessage("navToggleInitiated",window.location.origin),window.dispatchEvent(Object(vs.a)())}));var js=document.querySelector(".action.search"),ys=document.querySelector(".toggle-search-box"),ws=document.querySelector(".popover.search"),ks=document.querySelector(".popover.search input");js&&js.addEventListener("click",(function(e){Pe.f||e.preventDefault()})),ys&&ys.addEventListener("click",(function(){Pe.f||ws.classList.contains("open")||(ws.classList.add("open"),ks.focus(),Ht(ws).then((function(){ws.classList.remove("open")})))})),function logSearchToAmplitude(){Object(Dt.a)(R.n.SEARCH_INPUT).forEach((function(e){e.form.addEventListener("submit",(function(){xt.a.logEvent(R.a.SEARCH,{searchTerm:e.value})}))}))}();var Es=n("./node_modules/lodash-es/debounce.js"),Ts=n("./node_modules/lodash-es/isObject.js");var Ns=function throttle(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Object(Ts.a)(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),Object(Es.a)(e,t,{leading:a,maxWait:t,trailing:s})},Cs=document.getElementById(S),Ss=function updateSidebarState(){if(null==Cs&&(Cs=document.getElementById(S)),null!=Cs){var e=Dn.default.stores.navigation.get().collapsed,t=window.innerWidth,n=t<1250&&t>959,a=Cs.classList.contains("collapsed")&&document.body.classList.contains("nav-collapsed");!n&&!e||a||(Cs.classList.add("collapsed"),document.body.classList.add("nav-collapsed")),n||!a||e||(Cs.classList.remove("collapsed"),document.body.classList.remove("nav-collapsed"))}};Ss(),window.addEventListener("resize",Ns(Ss,16.6667));var As=document.getElementById("sb"),Ls=document.querySelectorAll(".action.toggle"),Ps=document.getElementById("tb");Array.from(Ls).forEach((function(e){e.addEventListener("click",(function(){if(e.classList.contains(R.f.CLOSE))ts();else{var t=ut()?R.n.MAIN_NAV_HOME_LINK:R.n.MAIN_NAV_PLAY_LINK;ns(document.querySelector(t)),window.scrollTo(0,0)}document.body.classList.toggle(R.f.OPEN),As.classList.toggle(R.f.OPEN),Ps.classList.toggle(R.f.OPEN)}))})),function insertTooltipElement(){var e=document.createElement("div");e.classList.add("svelte-tooltip"),document.body.appendChild(e)}(),function registerTooltips(e){fe()(e).forEach((function(e){e.addEventListener("mouseenter",En),e.addEventListener("mouseleave",Tn)}))}(document.querySelectorAll(R.n.TOOLTIP_TRIGGER));var Ms={en:"f5e62c4f-e67c-4a7e-84fb-ff86cff9ceac",es:"ca72a765-6436-4601-b205-bc7f36248177",fr:"32c36bce-c9c1-4788-8fb3-c04e817d0a59",pt:"c5cf1f87-b558-44ef-a103-08edc509d0e2",ru:"6c5d280e-28f0-4889-9723-32cd976a4d77",uk:"f260e4ff-c20d-4156-aa15-e538c86eb191"},Is={GUEST_USER:"Guest"},xs=17218,Ds=17219,Rs=function titleize(e){return"string"==typeof e?e.toLowerCase().replace(/(?:^|\s|-)\S/g,(function(e){return e.toUpperCase()})):e};var Us=function configureHelpScout(){var e=window.context.user,t=window.context.i18n.locale.split("_")[0],n=Ms[t]?Ms[t]:Ms.en;window.Beacon("init",n),window.Beacon("open"),window.BeaconVisible=!0,e&&window.Beacon("identify",{name:e.username}),window.Beacon("prefill",{fields:[{id:xs,value:e?Rs(Object(ke.c)(e.membershipLevel)):Is.GUEST_USERNAME},{id:Ds,value:e?e.username:Is.GUEST_USERNAME}]}),window.Beacon("on","close",(function(){window.Beacon("destroy"),window.BeaconVisible=!1}))},zs=function showHelpScout(){if(void 0===window.Beacon){window.Beacon=function(e,t,n){window.Beacon.readyQueue.push({method:e,options:t,data:n})},window.Beacon.readyQueue=[];var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src="//beacon-v2.helpscout.net",e.appendChild(t),Us()}else window.BeaconVisible||Us()},Fs=document.querySelectorAll(".help-scout");fe()(Fs).forEach((function(e){return e.addEventListener("click",zs)}));var $s=n("./utils/dark-mode.ts"),Hs=(xe.default.trans("Articles"),xe.default.trans("Following"),xe.default.trans("News"),xe.default.trans("Premium Content"),xe.default.trans("Top Blogs"),xe.default.trans("Videos"),[5,10,20].map((function(e){return{name:xe.default.transChoice("{1} 1 Game|]1,Inf] %count% Games",e,{"%count%":e}),value:e}})),"web_user_game_settings_callback_dark_mode_toggle"),Gs=([4,8,12,24].map((function(e){return{name:xe.default.transChoice("{1} 1 Game|]1,Inf] %count% Games",e,{"%count%":e}),value:e}})),[1,2,3,4].map((function(e){return{name:xe.default.transChoice("{1} 1 Row|]1,Inf] %count% Rows",e,{"%count%":e}),value:e}})),{new_game:xe.default.trans("New Game"),puzzles:xe.default.trans("Puzzles"),lessons:xe.default.trans("Lessons"),computer:xe.default.trans("vs Computer"),tournaments:xe.default.trans("Tournaments"),stats:xe.default.trans("Stats"),chess_today:xe.default.trans("Chess Today"),arena:xe.default.trans("Arena"),analysis:xe.default.trans("Analysis"),four_player_chess:xe.default.trans("Four Player Chess"),vote:xe.default.trans("Vote Chess"),chess_tv:xe.default.trans("ChessTV"),forums:xe.default.trans("Forums"),puzzle_battle:xe.default.trans("Puzzle Battle"),puzzle_rush:xe.default.trans("Puzzle Rush"),events:xe.default.trans("Events"),archive:xe.default.trans("Archive")}),qs=(Object.keys(Gs).map((function(e){return{name:Gs[e],value:e}})),U.default.generate("web_daily_index"),U.default.generate("web_play"),U.default.generate("web_page_play"),U.default.generate("web_message_index"),xe.default.trans("Activity"),xe.default.trans("Alerts"),xe.default.trans("Archive"),xe.default.trans("Awards"),xe.default.trans("ChessTV"),xe.default.trans("Clubs"),xe.default.trans("Club Events"),xe.default.trans("Daily"),xe.default.trans("Daily Puzzle"),xe.default.trans("Feature Intro"),xe.default.trans("Friends"),xe.default.trans("Messages"),xe.default.trans("Notes"),xe.default.trans("Quick Links"),xe.default.trans("Stats"),xe.default.trans("Streamers"),xe.default.trans("Tournaments"),document.querySelector("#sb .action.ui-mode"));null==qs||qs.addEventListener("click",(function listener(){var e=Object($s.a)();Object($s.b)(!e),function updateDarkMode(e){a.default.post(U.default.generate(Hs),{action:e})}(!e)}));var Bs=n("./utils/sentry/capture-exception.js");var Ws=function showUserSnap(){(function fetchTraceData(){return a.default.get("https://www.chess.com/cdn-cgi/trace")})().then((function(e){window.traceData=e.data})).finally((function(){if(void 0===window.Usersnap){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src="//api.usersnap.com/load/68ad20f3-db9a-4f8c-84ef-a967706f08a3.js?onload=onUsersnapLoad",e.appendChild(t)}else window.Usersnap.open()}))};!function configureUserSnap(){null==window.onUsersnapLoad&&(window.onUsersnapLoad=function(e){var t=Date.now();e.on("open",(function(e){var n="",a={cookies:window.context.cookies,environment:window.context.environment,version:window.context.version,branch:window.context.branch,commit:window.context.commit,requestId:window.context.requestId,server:window.context.server,locale:window.context.locale,ip:window.context.ip,chessboardBeta:window.context.chessboardBeta};if(window.context.user){var s=window.context.live?"207506":"198358";n="SentryLink: https://sentry.io/organizations/chesscom/issues/?project=".concat(s,"&query=").concat(t),a.user={username:window.context.user.username,optedBeta:window.context.user.optedBeta,isStaff:window.context.user.isStaff,isPremium:window.context.user.isPremium},window.context.user.cohort&&(a.user.cohort=window.context.user.cohort),window.context.live&&(a.live=window.context.live)}window.context.play&&(a.play=window.context.play),window.chesscom&&window.chesscom.logData&&(a.logData=window.chesscom.logData),window.traceData&&(a.traceData=window.traceData.trim().split("\n")),e.api.setValue("customData",n.concat("\n\n",JSON.stringify(a,null,4)))})),e.on("submit",(function(){setTimeout((function(){window.Usersnap.close(),Object(Bs.captureException)('usersnap report submitted: https://chesscom.atlassian.net/issues/?jql=text+~+"'.concat(t,'"+AND+reporter+in+(usersnap)+ORDER+BY+created+DESC'))}),1e3)})),e.init({button:null,label:null,assignee:null,title:null,colors:{primary:"#769656",secondary:"#878787"},fields:{email:{label:"Your email address",required:!1},comment:{label:"Your suggestion or bug report",multiline:!0,required:!0}}}),window.Usersnap=e,window.Usersnap.open()})}();var Vs=document.querySelectorAll(".user-snap");Array.from(Vs).forEach((function(e){return e.addEventListener("click",Ws)}));var Ks=n("./utils/sentry/set-sentry-context.js"),Ys=function checkWindowObject(){!function register(e){var t=e.key,n=e.value;window.chesscom||(window.chesscom={}),window.chesscom[t]||(window.chesscom[t]=n)}({key:"logData",value:{}})},Zs=function createDiv(e){var t=document.createElement("div");return Object.assign(t.style,e),t},Qs=n("./node_modules/axios/index.js"),Js=n.n(Qs);function helpers_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function helpers_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?helpers_ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):helpers_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}document.querySelector(R.n.MAIN_NAV);var Xs=function iconClass(e){return["icon-font-chess",e].join(" ")},er=function transformLiveChallengeToPayload(e){var t=helpers_objectSpread(helpers_objectSpread({},e),{},{minRequiredGameCount:0,takeback:!1,timeIncrement:e.timeControl.timeIncrement});return e.isPlay?(t.baseTime=e.timeControl.baseTime,delete t.isPlay):t.baseTime=60*e.timeControl.baseTime+e.timeControl.baseSeconds,delete t.timeControl,t.color=function getColorNumberFromString(e){return e&&Qe[e.toUpperCase()]||Qe.RANDOM}(t.color),Object(Te.c)(t)};var tr=function copyCustomValueToClipboard(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),function copyInputValueToBuffer(e){e&&(e.focus({preventScroll:!0}),e.select(),document.execCommand("copy"))}(t),document.body.removeChild(t)};n("./core/modals/components/shareable-game-url.svelte.svelte.css");var nr={cancelSeek:function cancelSeek(){!function cancelShareableChallenge(e){Js.a.post(tt.cancelShareableChallengeUrl(e)).then((function(e){return e.data}))}(this.get().shortUuid),this.hide()},copyToClipboard:function copyToClipboard(e){e.preventDefault();var t=this.get().challengeUrl;tr(t)},email:function email(e){e.preventDefault();var t=this.get().challengeUrl;Object(Pe.j)(t)},hide:function hide(){var e=this.get().timerInterval;e&&clearInterval(e),this.set({show:!1,timerInterval:null})},share:function share(e,t){e.preventDefault();var n=this.get().challengeUrl;Object(Pe.k)({shareUrl:n,network:t,username:window.context.user.username})},show:function show(e){var t=e.id,n=e.shortUuid,a=e.shareLink,s=e.liveGameSeekTtl;this.set({id:t,shareLink:a,shortUuid:n,timerDuration:s||900}),Object(Pe.e)()&&this.startTimer(),this.set({show:!0})},startTimer:function startTimer(){var e=this,t=this.get(),n=t.timerDuration,a=t.timerTick;this.set({startTime:Date.now(),timerLeft:n});var s=setInterval((function(){var t=e.get(),n=t.timerLeft,a=t.timerTick;n-a<=0&&e.hide(),e.set({timerLeft:n-a})}),1e3*a);this.set({timerInterval:s})}};function shareable_game_url_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M,I,x,D=t.translations.shareLink,R=t.translations.copy,U=t.translations.challengeAnytime(t.playUrl);function click_handler(t){e.copyToClipboard(t)}var z=t.isLive&&shareable_game_url_svelte_create_if_block_3(e,t);function click_handler_1(n){e.share(n,t.socialNetworks.FACEBOOK)}function click_handler_2(n){e.share(n,t.socialNetworks.TWITTER)}function click_handler_3(t){e.email(t)}var F=t.isLive&&shareable_game_url_svelte_create_if_block_2(e,t),$=!t.isLive&&shareable_game_url_svelte_create_if_block_1(e,t);return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.k)("\n\n    "),r=Object($t.i)("div"),l=Object($t.i)("div"),u=Object($t.i)("h1"),f=Object($t.k)(D),_=Object($t.k)("\n\n        "),b=Object($t.i)("div"),h=Object($t.i)("div"),v=Object($t.k)("\n\n          "),g=Object($t.i)("input"),O=Object($t.k)("\n\n          "),j=Object($t.i)("a"),y=Object($t.k)(R),w=Object($t.k)("\n\n        "),z&&z.c(),k=Object($t.k)("\n\n        "),E=Object($t.i)("div"),T=Object($t.i)("a"),N=Object($t.k)("\n\n            "),C=Object($t.i)("a"),S=Object($t.k)("\n\n            "),A=Object($t.i)("a"),L=Object($t.k)("\n\n        "),F&&F.c(),P=Object($t.k)("\n\n        "),M=Object($t.i)("div"),I=Object($t.i)("div"),x=Object($t.k)("\n\n      "),$&&$.c(),a.className="core-modal-background",u.className="svelte-1r2lh7j",h.className="icon-font icon-font-chess link svelte-1r2lh7j",g.id=t.shortUrlTextId,Object($t.E)(g,"type","text"),g.value=t.challengeUrl,g.readOnly="readonly",g.className="svelte-1r2lh7j",Object($t.c)(j,"click",click_handler),j.className="svelte-1r2lh7j",b.className="link-container svelte-1r2lh7j",Object($t.c)(T,"click",click_handler_1),T.className="icon-font icon-font-chess facebook svelte-1r2lh7j",Object($t.c)(C,"click",click_handler_2),C.className="icon-font icon-font-chess twitter svelte-1r2lh7j",Object($t.c)(A,"click",click_handler_3),A.className="icon-font icon-font-chess mail-alt svelte-1r2lh7j",E.className="social-share-container svelte-1r2lh7j",M.className="play-url-container svelte-1r2lh7j",l.className="default-modal-content svelte-1r2lh7j",r.className="default-modal-container",n.className="core-modal-container is-active"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(r,l),Object($t.d)(l,u),Object($t.d)(u,f),Object($t.d)(l,_),Object($t.d)(l,b),Object($t.d)(b,h),Object($t.d)(b,v),Object($t.d)(b,g),Object($t.d)(b,O),Object($t.d)(b,j),Object($t.d)(j,y),Object($t.d)(l,w),z&&z.m(l,null),Object($t.d)(l,k),Object($t.d)(l,E),Object($t.d)(E,T),Object($t.d)(E,N),Object($t.d)(E,C),Object($t.d)(E,S),Object($t.d)(E,A),Object($t.d)(l,L),F&&F.m(l,null),Object($t.d)(l,P),Object($t.d)(l,M),Object($t.d)(M,I),I.innerHTML=U,Object($t.d)(r,x),$&&$.m(r,null)},p:function p(n,a){t=a,n.translations&&D!==(D=t.translations.shareLink)&&Object($t.F)(f,D),n.shortUrlTextId&&(g.id=t.shortUrlTextId),n.challengeUrl&&(g.value=t.challengeUrl),n.translations&&R!==(R=t.translations.copy)&&Object($t.F)(y,R),t.isLive?z?z.p(n,t):((z=shareable_game_url_svelte_create_if_block_3(e,t)).c(),z.m(l,k)):z&&(z.d(1),z=null),t.isLive?F?F.p(n,t):((F=shareable_game_url_svelte_create_if_block_2(e,t)).c(),F.m(l,P)):F&&(F.d(1),F=null),(n.translations||n.playUrl)&&U!==(U=t.translations.challengeAnytime(t.playUrl))&&(I.innerHTML=U),t.isLive?$&&($.d(1),$=null):$||(($=shareable_game_url_svelte_create_if_block_1(e,t)).c(),$.m(r,null))},d:function d(e){e&&Object($t.q)(n),Object($t.D)(j,"click",click_handler),z&&z.d(),Object($t.D)(T,"click",click_handler_1),Object($t.D)(C,"click",click_handler_2),Object($t.D)(A,"click",click_handler_3),F&&F.d(),$&&$.d()}}}function shareable_game_url_svelte_create_if_block_3(e,t){var n,a,s,r,l,u,f,_,b,h,v=t.translations.waitHere,g=t.translations.linkExpires;return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.k)(v),r=Object($t.k)("\n            "),l=Object($t.i)("div"),u=Object($t.k)(g),f=Object($t.k)(" "),_=Object($t.k)(t.minutesLeft),b=Object($t.k)(":"),h=Object($t.k)(t.secondsLeft),n.className="live-timer svelte-1r2lh7j"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(a,s),Object($t.d)(n,r),Object($t.d)(n,l),Object($t.d)(l,u),Object($t.d)(l,f),Object($t.d)(l,_),Object($t.d)(l,b),Object($t.d)(l,h)},p:function p(e,t){e.translations&&v!==(v=t.translations.waitHere)&&Object($t.F)(s,v),e.translations&&g!==(g=t.translations.linkExpires)&&Object($t.F)(u,g),e.minutesLeft&&Object($t.F)(_,t.minutesLeft),e.secondsLeft&&Object($t.F)(h,t.secondsLeft)},d:function d(e){e&&Object($t.q)(n)}}}function shareable_game_url_svelte_create_if_block_2(e,t){var n,a,s,r,l=t.translations.cancel;function click_handler(t){e.cancelSeek()}return{c:function c(){n=Object($t.i)("button"),a=Object($t.i)("span"),s=Object($t.k)("\n            "),r=Object($t.k)(l),a.className="icon-font icon-font-chess x svelte-1r2lh7j",Object($t.c)(n,"click",click_handler),n.className="button cancel svelte-1r2lh7j"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r)},p:function p(e,t){e.translations&&l!==(l=t.translations.cancel)&&Object($t.F)(r,l)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function shareable_game_url_svelte_create_if_block_1(e,t){var n;function click_handler(t){e.hide()}return{c:function c(){(n=Object($t.i)("div")).innerHTML='<span class="icon-font-chess x svelte-1r2lh7j"></span>',Object($t.c)(n,"click",click_handler),n.className="icon-font close svelte-1r2lh7j"},m:function m(e,t){Object($t.w)(e,n,t)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function Shareable_game_url_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(function shareable_game_url_svelte_data(){return{id:-1,isLive:Object(Pe.e)(),playUrl:"<strong>https://".concat(tt.playUrl(window.context.user.username),"</strong>"),minutesLeft:"15",secondsLeft:"00",routes:tt,shareLink:"",shortUrlTextId:"short-url-text",shortUuid:"",show:!1,socialNetworks:R.o,startTime:null,timerInterval:null,timerTick:1,timerLeft:0,timerDuration:0,translations:Ut.a}}(),e.data),this._recompute({shareLink:1,shortUuid:1,timerLeft:1},this._state),this._intro=!0,this._fragment=function shareable_game_url_svelte_create_main_fragment(e,t){var n,a=t.show&&shareable_game_url_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.show?a?a.p(t,s):((a=shareable_game_url_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(Shareable_game_url_svelte.prototype,$t.z),Object($t.e)(Shareable_game_url_svelte.prototype,nr),Shareable_game_url_svelte.prototype._recompute=function _recompute(e,t){(e.shareLink||e.shortUuid)&&this._differs(t.challengeUrl,t.challengeUrl=function shareable_game_url_svelte_challengeUrl(e){var t=e.shareLink,n=e.shortUuid;return null==t||0===t.length?tt.challengeShortUrl(n):t}(t))&&(e.challengeUrl=!0),e.timerLeft&&(this._differs(t.minutesLeft,t.minutesLeft=function minutesLeft(e){var t=e.timerLeft,n=Math.floor(t/60);return"".concat(n<10?"0":"").concat(n)}(t))&&(e.minutesLeft=!0),this._differs(t.secondsLeft,t.secondsLeft=function secondsLeft(e){var t=e.timerLeft,n=Math.floor(t%60);return"".concat(n<10?"0":"").concat(n)}(t))&&(e.secondsLeft=!0))};var ar=Shareable_game_url_svelte,sr=null;n("./core/modals/components/login-register.svelte.svelte.css");function login_register_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M,I,x,D=t.translations.loginOrJoin,R=t.translations.login,U=t.translations.or,z=t.translations.join;function click_handler(t){e.hide()}function click_handler_1(t){e.hide()}return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.k)("\n\n    "),r=Object($t.i)("div"),l=Object($t.i)("div"),u=Object($t.i)("div"),f=Object($t.i)("div"),_=Object($t.i)("span"),h=Object($t.k)("\n\n          "),v=Object($t.i)("h1"),g=Object($t.k)(t.title),O=Object($t.k)("\n\n        "),j=Object($t.i)("div"),y=Object($t.i)("div"),w=Object($t.k)(D),k=Object($t.k)("\n\n          "),E=Object($t.i)("div"),T=Object($t.i)("a"),N=Object($t.k)(R),C=Object($t.k)("\n\n            "),S=Object($t.i)("span"),A=Object($t.k)(U),L=Object($t.k)("\n\n            "),P=Object($t.i)("a"),M=Object($t.k)(z),I=Object($t.k)("\n\n      "),(x=Object($t.i)("div")).innerHTML='<span class="icon-font-chess x"></span>',Object($t.c)(a,"click",click_handler),a.className="core-modal-background",_.className=b="icon-font-chess "+t.icon+" svelte-14nzybc",f.className="icon-font svelte-14nzybc",v.className="login-title svelte-14nzybc",u.className="login-header svelte-14nzybc",y.className="login-headline svelte-14nzybc",T.className="form-button svelte-14nzybc",T.rel="nofollow",T.href=t.loginUrl,P.className="form-button svelte-14nzybc",P.rel="nofollow",P.href=t.joinUrl,E.className="login-buttons svelte-14nzybc",j.className="login-body svelte-14nzybc",l.className="login-content default-modal-content",Object($t.c)(x,"click",click_handler_1),x.className="icon-font close",r.className="default-modal-container",n.className="core-modal-container is-active"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(r,l),Object($t.d)(l,u),Object($t.d)(u,f),Object($t.d)(f,_),Object($t.d)(u,h),Object($t.d)(u,v),Object($t.d)(v,g),Object($t.d)(l,O),Object($t.d)(l,j),Object($t.d)(j,y),Object($t.d)(y,w),Object($t.d)(j,k),Object($t.d)(j,E),Object($t.d)(E,T),Object($t.d)(T,N),Object($t.d)(E,C),Object($t.d)(E,S),Object($t.d)(S,A),Object($t.d)(E,L),Object($t.d)(E,P),Object($t.d)(P,M),Object($t.d)(r,I),Object($t.d)(r,x)},p:function p(e,t){e.icon&&b!==(b="icon-font-chess "+t.icon+" svelte-14nzybc")&&(_.className=b),e.title&&Object($t.F)(g,t.title),e.translations&&D!==(D=t.translations.loginOrJoin)&&Object($t.F)(w,D),e.translations&&R!==(R=t.translations.login)&&Object($t.F)(N,R),e.loginUrl&&(T.href=t.loginUrl),e.translations&&U!==(U=t.translations.or)&&Object($t.F)(A,U),e.translations&&z!==(z=t.translations.join)&&Object($t.F)(M,z),e.joinUrl&&(P.href=t.joinUrl)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(a,"click",click_handler),Object($t.D)(x,"click",click_handler_1)}}}function Login_register_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(function login_register_svelte_data(){return{icon:"",joinUrl:Object(Pe.g)(),loginUrl:Object(Pe.h)(),show:!1,title:"",translations:Ut.a}}(),e.data),this._intro=!0,this._fragment=function login_register_svelte_create_main_fragment(e,t){var n,a=t.show&&login_register_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.show?a?a.p(t,s):((a=login_register_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(Login_register_svelte.prototype,$t.z),Object($t.e)(Login_register_svelte.prototype,{show:function show(e){var t=e.icon,n=e.title;this.set({icon:t,show:!0,title:n})},hide:function hide(){this.set({show:!1})}});var rr=Login_register_svelte,or=document.getElementById(N),cr="data-announcement-hash",ir=function readAnnouncement(e){return U.default.generate("web_user_callback_announcement_read",{announcementHash:e})},lr=document.getElementById("system-alert-close"),ur=function clickListenter(){var e=lr.getAttribute(cr);lr.removeEventListener("click",clickListenter),function readAnnouncement(e){Js.a.get(ir(e))}(e),lr.parentNode.remove()},dr="web_friend_request_callback",fr=function addAsFriend(e){var t=U.default.generate(dr,{user:e});return a.default.post(t)},_r=n("./node_modules/autosize/dist/autosize.js"),br=n.n(_r);n("./core/modals/components/message-modal.svelte.svelte.css");var hr={addFriend:function addFriend(){var e=this;return Q()(Y.a.mark((function _callee(){var t,n,a,s;return Y.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.store.get(),n=t.userId,r.next=3,fr(n);case 3:a=r.sent,s=a.data.message,e.hide(),window.postMessage({key:ze,type:Ue,message:s},window.location.origin);case 7:case"end":return r.stop()}}),_callee)})))()},hide:function hide(){this.store.hide()},messageChange:function messageChange(e){this.store.set({message:e.target.value})},onMount:function onMount(){br()(this.refs.textarea),this.store.getCaptcha(),this.store.hydrateUser(),this.refs.textarea.focus()},submit:function submit(e){this.refs.textarea.classList.add("disabled"),this.refs.textarea.setAttribute("readonly",!0),this.store.sendMessage(e)}};function message_modal_svelte_oncreate(){var e=this;window.addEventListener("message",(function(t){t.data===Wt&&e.onMount()}))}function message_modal_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M,I,x,D=t.translations.message,R=!1,U=t.translations.send;function click_handler(t){e.hide()}function click_handler_1(t){e.hide()}var z={size:"50",src:t.$avatar_url,live:t.$is_in_livechess,online:t.$is_online,username:t.$username},F=new $n.a({root:e.root,store:e.store,data:z});function select_block_type(e){return e.$success?message_modal_svelte_create_if_block_9:message_modal_svelte_create_else_block_1}var $=select_block_type(t),H=$(e,t);function textarea_input_handler(){R=!0,e.store.set({message:T.value}),R=!1}function input_handler(t){e.messageChange(t)}var G=!t.$isMessageable&&message_modal_svelte_create_if_block_4(e,t),q=t.$captcha&&message_modal_svelte_create_if_block_3(e,t);function click_handler_2(n){e.submit(t.captchaText)}var B=t.$sending&&message_modal_svelte_create_if_block_2(e,t),W=t.$errorMessage&&t.$errorMessage.length&&message_modal_svelte_create_if_block_1(e,t);return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.k)("\n\n    "),r=Object($t.i)("div"),l=Object($t.i)("div"),u=Object($t.i)("span"),f=Object($t.k)(D),_=Object($t.k)("\n\n        "),(b=Object($t.i)("div")).innerHTML='<span class="icon-font-chess x icon-font-primary svelte-cfzx7e"></span>',h=Object($t.k)("\n\n      "),v=Object($t.i)("div"),g=Object($t.i)("div"),O=Object($t.i)("span"),F._fragment.c(),j=Object($t.k)("\n\n          "),y=Object($t.i)("span"),w=Object($t.k)(t.$username),k=Object($t.k)("\n\n          "),H.c(),E=Object($t.k)("\n\n        "),T=Object($t.i)("textarea"),C=Object($t.k)("\n\n        "),G&&G.c(),S=Object($t.k)("\n\n        "),q&&q.c(),A=Object($t.k)("\n\n        "),L=Object($t.i)("div"),P=Object($t.i)("button"),M=Object($t.k)(U),I=Object($t.k)("\n\n          "),B&&B.c(),x=Object($t.k)("\n\n        "),W&&W.c(),Object($t.c)(a,"click",click_handler),a.className="core-modal-background svelte-cfzx7e",u.className="title svelte-cfzx7e",Object($t.c)(b,"click",click_handler_1),b.className="dismissible-icon icon-font svelte-cfzx7e",l.className="section-title svelte-cfzx7e",O.className="avatar svelte-cfzx7e",y.className="username svelte-cfzx7e",g.className="top-section svelte-cfzx7e",Object($t.c)(T,"input",textarea_input_handler),Object($t.c)(T,"input",input_handler),T.rows="8",T.disabled=N=!t.$isMessageable,T.className="form-textarea svelte-cfzx7e",Object($t.c)(P,"click",click_handler_2),P.disabled=t.disabled,P.type="button",P.className="form-button svelte-cfzx7e",L.className="send-container svelte-cfzx7e",v.className="main svelte-cfzx7e",r.className="core-modal svelte-cfzx7e",n.className=t.modalClasses+" svelte-cfzx7e"},m:function m(N,D){Object($t.w)(N,n,D),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(r,l),Object($t.d)(l,u),Object($t.d)(u,f),Object($t.d)(l,_),Object($t.d)(l,b),Object($t.d)(r,h),Object($t.d)(r,v),Object($t.d)(v,g),Object($t.d)(g,O),F._mount(O,null),Object($t.d)(g,j),Object($t.d)(g,y),Object($t.d)(y,w),Object($t.d)(g,k),H.m(g,null),Object($t.d)(v,E),Object($t.d)(v,T),e.refs.textarea=T,T.value=t.$message,Object($t.d)(v,C),G&&G.m(v,null),Object($t.d)(v,S),q&&q.m(v,null),Object($t.d)(v,A),Object($t.d)(v,L),Object($t.d)(L,P),Object($t.d)(P,M),Object($t.d)(L,I),B&&B.m(L,null),Object($t.d)(v,x),W&&W.m(v,null)},p:function p(a,s){t=s,a.translations&&D!==(D=t.translations.message)&&Object($t.F)(f,D);var r={};a.$avatar_url&&(r.src=t.$avatar_url),a.$is_in_livechess&&(r.live=t.$is_in_livechess),a.$is_online&&(r.online=t.$is_online),a.$username&&(r.username=t.$username),F._set(r),a.$username&&Object($t.F)(w,t.$username),$===($=select_block_type(t))&&H?H.p(a,t):(H.d(1),(H=$(e,t)).c(),H.m(g,null)),!R&&a.$message&&(T.value=t.$message),a.$isMessageable&&N!==(N=!t.$isMessageable)&&(T.disabled=N),t.$isMessageable?G&&(G.d(1),G=null):G?G.p(a,t):((G=message_modal_svelte_create_if_block_4(e,t)).c(),G.m(v,S)),t.$captcha?q?q.p(a,t):((q=message_modal_svelte_create_if_block_3(e,t)).c(),q.m(v,A)):q&&(q.d(1),q=null),a.translations&&U!==(U=t.translations.send)&&Object($t.F)(M,U),a.disabled&&(P.disabled=t.disabled),t.$sending?B||((B=message_modal_svelte_create_if_block_2(e,t)).c(),B.m(L,null)):B&&(B.d(1),B=null),t.$errorMessage&&t.$errorMessage.length?W?W.p(a,t):((W=message_modal_svelte_create_if_block_1(e,t)).c(),W.m(v,null)):W&&(W.d(1),W=null),a.modalClasses&&(n.className=t.modalClasses+" svelte-cfzx7e")},d:function d(t){t&&Object($t.q)(n),Object($t.D)(a,"click",click_handler),Object($t.D)(b,"click",click_handler_1),F.destroy(),H.d(),Object($t.D)(T,"input",textarea_input_handler),Object($t.D)(T,"input",input_handler),e.refs.textarea===T&&(e.refs.textarea=null),G&&G.d(),q&&q.d(),Object($t.D)(P,"click",click_handler_2),B&&B.d(),W&&W.d()}}}function message_modal_svelte_create_else_block_1(e,t){var n,a;return{c:function c(){n=Object($t.i)("a"),(a=Object($t.i)("div")).innerHTML='<span class="icon-font-chess mail-alt icon-font-primary svelte-cfzx7e"></span>',a.className="icon-font message-popover-icon svelte-cfzx7e",n.href=t.composeUrl,n.className="svelte-cfzx7e"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.composeUrl&&(n.href=t.composeUrl)},d:function d(e){e&&Object($t.q)(n)}}}function message_modal_svelte_create_if_block_9(e,t){var n;return{c:function c(){(n=Object($t.i)("div")).innerHTML='<span class="icon-font-chess checkmark svelte-cfzx7e"></span>',n.className="icon-font message-popover-icon message-success svelte-cfzx7e"},m:function m(e,t){Object($t.w)(e,n,t)},p:$t.x,d:function d(e){e&&Object($t.q)(n)}}}function message_modal_svelte_create_if_block_4(e,t){var n;function select_block_type_1(e){return function isNotMessageableReasonFeatureEnabled(){return D(f)}()?message_modal_svelte_create_if_block_5:message_modal_svelte_create_else_block}var a=select_block_type_1(),s=a(e,t);return{c:function c(){s.c(),n=Object($t.h)()},m:function m(e,t){s.m(e,t),Object($t.w)(e,n,t)},p:function p(t,r){a===(a=select_block_type_1())&&s?s.p(t,r):(s.d(1),(s=a(e,r)).c(),s.m(n.parentNode,n))},d:function d(e){s.d(e),e&&Object($t.q)(n)}}}function message_modal_svelte_create_else_block(e,t){var n,a,s,r=t.translations.restricted(2,t.$username),l=t.$isFriendable&&message_modal_svelte_create_if_block_8(e,t);return{c:function c(){n=Object($t.i)("p"),a=Object($t.i)("noscript"),s=Object($t.k)("\n\n              "),l&&l.c(),n.className="restricted svelte-cfzx7e"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),a.insertAdjacentHTML("beforebegin",r),Object($t.d)(n,s),l&&l.m(n,null)},p:function p(t,s){(t.translations||t.$username)&&r!==(r=s.translations.restricted(2,s.$username))&&(Object($t.o)(a),a.insertAdjacentHTML("beforebegin",r)),s.$isFriendable?l?l.p(t,s):((l=message_modal_svelte_create_if_block_8(e,s)).c(),l.m(n,null)):l&&(l.d(1),l=null)},d:function d(e){e&&Object($t.q)(n),l&&l.d()}}}function message_modal_svelte_create_if_block_5(e,t){var n,a,s,r,l=t.translations.restricted(t.$notMessageableReasonCode,t.$username),u=t.$isFriendable&&2==t.$notMessageableReasonCode&&message_modal_svelte_create_if_block_7(e,t),f=4==t.$notMessageableReasonCode&&message_modal_svelte_create_if_block_6(e,t);return{c:function c(){n=Object($t.i)("p"),a=Object($t.i)("noscript"),s=Object($t.k)("\n\n              "),u&&u.c(),r=Object($t.k)("\n\n              "),f&&f.c(),n.className="restricted svelte-cfzx7e"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),a.insertAdjacentHTML("beforebegin",l),Object($t.d)(n,s),u&&u.m(n,null),Object($t.d)(n,r),f&&f.m(n,null)},p:function p(t,s){(t.translations||t.$notMessageableReasonCode||t.$username)&&l!==(l=s.translations.restricted(s.$notMessageableReasonCode,s.$username))&&(Object($t.o)(a),a.insertAdjacentHTML("beforebegin",l)),s.$isFriendable&&2==s.$notMessageableReasonCode?u?u.p(t,s):((u=message_modal_svelte_create_if_block_7(e,s)).c(),u.m(n,r)):u&&(u.d(1),u=null),4==s.$notMessageableReasonCode?f?f.p(t,s):((f=message_modal_svelte_create_if_block_6(e,s)).c(),f.m(n,null)):f&&(f.d(1),f=null)},d:function d(e){e&&Object($t.q)(n),u&&u.d(),f&&f.d()}}}function message_modal_svelte_create_if_block_8(e,t){var n,a,s=t.translations.sendFriendRequest;function click_handler(t){e.addFriend()}return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(s),Object($t.c)(n,"click",click_handler),n.className="svelte-cfzx7e"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.sendFriendRequest)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function message_modal_svelte_create_if_block_7(e,t){var n,a,s=t.translations.sendFriendRequest;function click_handler(t){e.addFriend()}return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(s),Object($t.c)(n,"click",click_handler),n.className="svelte-cfzx7e"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.sendFriendRequest)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function message_modal_svelte_create_if_block_6(e,t){var n,a,s=t.translations.changeSettings;return{c:function c(){n=Object($t.i)("a"),a=Object($t.k)(s),n.href=function privacySettingsUrl(){return U.default.generate("web_user_settings_privacy")}(),n.className="svelte-cfzx7e"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.changeSettings)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n)}}}function message_modal_svelte_create_if_block_3(e,t){var n,a,s,r,l,u=!1;function input_input_handler(){u=!0,e.set({captchaText:a.value}),u=!1}return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("input"),r=Object($t.k)("\n\n            "),l=Object($t.i)("img"),Object($t.c)(a,"input",input_input_handler),a.autocomplete="off",a.className="form-input svelte-cfzx7e",Object($t.E)(a,"type","text"),a.name="code",a.placeholder=s=t.translations.captchaPlaceholder,l.className="captcha svelte-cfzx7e",l.src=t.$captcha,n.className="captcha-container svelte-cfzx7e"},m:function m(e,s){Object($t.w)(e,n,s),Object($t.d)(n,a),a.value=t.captchaText,Object($t.d)(n,r),Object($t.d)(n,l)},p:function p(e,t){!u&&e.captchaText&&(a.value=t.captchaText),e.translations&&s!==(s=t.translations.captchaPlaceholder)&&(a.placeholder=s),e.$captcha&&(l.src=t.$captcha)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(a,"input",input_input_handler)}}}function message_modal_svelte_create_if_block_2(e,t){var n,a=new Fn({root:e.root,store:e.store,data:{style:"dark right"}});return{c:function c(){n=Object($t.i)("div"),a._fragment.c(),n.className="bounce svelte-cfzx7e"},m:function m(e,t){Object($t.w)(e,n,t),a._mount(n,null)},d:function d(e){e&&Object($t.q)(n),a.destroy()}}}function message_modal_svelte_create_if_block_1(e,t){var n;return{c:function c(){(n=Object($t.i)("div")).className="error svelte-cfzx7e"},m:function m(e,a){Object($t.w)(e,n,a),n.innerHTML=t.$errorMessage},p:function p(e,t){e.$errorMessage&&(n.innerHTML=t.$errorMessage)},d:function d(e){e&&Object($t.q)(n)}}}function Message_modal_svelte(e){var t=this;Object($t.v)(this,e),this.refs={},this._state=Object($t.e)(Object($t.e)(this.store._init(["username","isMessageable","message","sending","show","avatar_url","is_in_livechess","is_online","success","notMessageableReasonCode","isFriendable","captcha","errorMessage"]),function message_modal_svelte_data(){return{captchaText:"",translations:Ut.a}}()),e.data),this.store._add(this,["username","isMessageable","message","sending","show","avatar_url","is_in_livechess","is_online","success","notMessageableReasonCode","isFriendable","captcha","errorMessage"]),this._recompute({$username:1,$isMessageable:1,$message:1,$sending:1,$show:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function message_modal_svelte_create_main_fragment(e,t){var n,a=t.$username&&message_modal_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.$username?a?a.p(t,s):((a=message_modal_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),this.root._oncreate.push((function(){message_modal_svelte_oncreate.call(t),t.fire("update",{changed:Object($t.f)({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Message_modal_svelte.prototype,$t.z),Object($t.e)(Message_modal_svelte.prototype,hr),Message_modal_svelte.prototype._recompute=function _recompute(e,t){e.$username&&this._differs(t.composeUrl,t.composeUrl=function composeUrl(e){var t=e.$username;return U.default.generate("web_message_compose_username",{username:t})}(t))&&(e.composeUrl=!0),(e.$isMessageable||e.$message||e.$sending)&&this._differs(t.disabled,t.disabled=function disabled(e){var t=e.$isMessageable,n=e.$message,a=e.$sending;return 0===n.trim().length||a||!t}(t))&&(e.disabled=!0),e.$show&&(this._differs(t.modalClasses,t.modalClasses=function message_modal_svelte_modalClasses(e){var t=["core-modal-container"];return e.$show&&t.push("is-active"),t.join(" ")}(t))&&(e.modalClasses=!0),this._differs(t.show,t.show=function message_modal_svelte_show(e){var t=e.$show;return t&&window.postMessage(Wt,window.location.origin),t}(t))&&(e.show=!0))};var mr=Message_modal_svelte,pr=document.getElementById("message-modal"),vr=null,gr=function setupMessageModal(){vr||(vr=new mr({target:pr,store:Dn.default.stores.message}))};function fly(e,t){var n=t.delay,a=void 0===n?0:n,s=t.duration,r=void 0===s?400:s,l=t.x,u=void 0===l?0:l,f=t.y,_=void 0===f?0:f,b=getComputedStyle(e),h="none"===b.transform?"":b.transform;return{delay:a,duration:r,css:function css(e){return"\n  transform: ".concat(h," translate(").concat((1-e)*u,"px, ").concat((1-e)*_,"px);")}}}var Or;n("./core/modals/components/upgrade-modal-slideshow.svelte.svelte.css");var jr={clearTimeout:function(e){function clearTimeout(){return e.apply(this,arguments)}return clearTimeout.toString=function(){return e.toString()},clearTimeout}((function(){clearTimeout(Or)})),handleClick:function handleClick(e){this.jump(e),this.clearTimeout()},startRotation:function startRotation(){var e=this.get().rotationInterval;clearTimeout(Or),Or=setTimeout(this.next.bind(this),e)},next:function next(){var e=this.get(),t=e.slides,n=e.currentSlide,a=t.indexOf(n),s=a===t.length-1?t[0]:t[a+1];this.jump(s)},jump:function jump(e){this.set({currentSlide:e}),this.startRotation()}};function upgrade_modal_slideshow_svelte_oncreate(){var e=this.get().slides;this.set({currentSlide:e[0]}),this.startRotation(),this.set({flyIn:{x:500,duration:400},rotationInterval:3500})}function ondestroy(){this.clearTimeout()}function upgrade_modal_slideshow_svelte_click_handler(e){var t=this._svelte,n=t.component,a=t.ctx;n.handleClick(a.slide)}function get_each1_context(e,t,n){var a=Object.create(e);return a.slide=t[n],a}function get_each0_context(e,t,n){var a=Object.create(e);return a.slide=t[n],a}function upgrade_modal_slideshow_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w=t.slide.title,k=t.slide.subtitle;return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.i)("div"),r=Object($t.k)("\n\n            "),l=Object($t.i)("div"),f=Object($t.k)("\n\n          "),_=Object($t.i)("h2"),b=Object($t.k)(w),h=Object($t.k)("\n\n          "),v=Object($t.i)("h3"),g=Object($t.k)(k),s.className="upgrade-icon-bg svelte-d78b9f",l.className=u="upgrade-icon-img sprite-"+t.slide.icon+" svelte-d78b9f",a.className="upgrade-icon svelte-d78b9f",_.className="slide-title svelte-d78b9f",v.className="slide-subtitle svelte-d78b9f",n.className="slide svelte-d78b9f"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(a,s),Object($t.d)(a,r),Object($t.d)(a,l),Object($t.d)(n,f),Object($t.d)(n,_),Object($t.d)(_,b),Object($t.d)(n,h),Object($t.d)(n,v),Object($t.d)(v,g),y=!0},p:function p(e,t){y&&!e.slides||u===(u="upgrade-icon-img sprite-"+t.slide.icon+" svelte-d78b9f")||(l.className=u),y&&!e.slides||w===(w=t.slide.title)||Object($t.F)(b,w),y&&!e.slides||k===(k=t.slide.subtitle)||Object($t.F)(g,k)},i:function i(a,s){y||(O&&O.abort(1),j&&j.abort(1),e.root._intro&&e.root._aftercreate.push((function(){(O=Object($t.I)(e,n,fly,{x:t.flyIn.x,duration:t.flyIn.duration},!0)).run(1)})),j&&j.abort(1),this.m(a,s))},o:function o(t){y&&((j=Object($t.I)(e,n,fly,{x:-500,duration:300},!1)).run(0,t),y=!1)},d:function d(e){e&&(Object($t.q)(n),j&&j.abort())}}}function upgrade_modal_slideshow_svelte_create_each_block_1(e,t,n){var a,s,r=n.slide.icon===n.currentSlide.icon&&upgrade_modal_slideshow_svelte_create_if_block(e,n);return{key:t,first:null,c:function c(){a=Object($t.h)(),r&&r.c(),s=Object($t.h)(),this.first=a},m:function m(e,t){Object($t.w)(e,a,t),r&&r.i(e,t),Object($t.w)(e,s,t)},p:function p(t,n){n.slide.icon===n.currentSlide.icon?(r?r.p(t,n):(r=upgrade_modal_slideshow_svelte_create_if_block(e,n))&&r.c(),r.i(s.parentNode,s)):r&&(Object($t.u)(),r.o((function(){r.d(1),r=null})))},d:function d(e){e&&Object($t.q)(a),r&&r.d(e),e&&Object($t.q)(s)}}}function upgrade_modal_slideshow_svelte_create_each_block(e,t,n){var a,s;return{key:t,first:null,c:function c(){(a=Object($t.i)("span"))._svelte={component:e,ctx:n},Object($t.c)(a,"click",upgrade_modal_slideshow_svelte_click_handler),a.className=s="dot "+(n.slide.icon===n.currentSlide.icon?"active":"")+" svelte-d78b9f",this.first=a},m:function m(e,t){Object($t.w)(e,a,t)},p:function p(e,t){n=t,a._svelte.ctx=n,(e.slides||e.currentSlide)&&s!==(s="dot "+(n.slide.icon===n.currentSlide.icon?"active":"")+" svelte-d78b9f")&&(a.className=s)},d:function d(e){e&&Object($t.q)(a),Object($t.D)(a,"click",upgrade_modal_slideshow_svelte_click_handler)}}}function Upgrade_modal_slideshow_svelte(e){var t=this;Object($t.v)(this,e),this._state=Object($t.e)({currentSlide:{},flyIn:{x:0,duration:400},rotationInterval:5e3},e.data),this._intro=!0,this._handlers.destroy=[ondestroy],this._fragment=function upgrade_modal_slideshow_svelte_create_main_fragment(e,t){for(var n,a,s,r,l=[],u=Object($t.g)(),f=[],_=Object($t.g)(),b=t.slides,h=function get_key(e){return e.slide.icon},v=0;v<b.length;v+=1){var g=get_each0_context(t,b,v),O=h(g);l[v]=u[O]=upgrade_modal_slideshow_svelte_create_each_block_1(e,O,g)}var j=t.slides,y=function get_key_1(e){return e.slide.icon};for(v=0;v<j.length;v+=1){var w=get_each1_context(t,j,v),k=y(w);f[v]=_[k]=upgrade_modal_slideshow_svelte_create_each_block(e,k,w)}return{c:function c(){for(n=Object($t.i)("div"),a=Object($t.i)("div"),v=0;v<l.length;v+=1)l[v].c();for(s=Object($t.k)("\n\n  "),r=Object($t.i)("div"),v=0;v<f.length;v+=1)f[v].c();a.className="slideshow-container svelte-d78b9f",r.className="dots svelte-d78b9f",n.className="slideshow"},m:function m(e,t){for(Object($t.w)(e,n,t),Object($t.d)(n,a),v=0;v<l.length;v+=1)l[v].m(a,null);for(Object($t.d)(n,s),Object($t.d)(n,r),v=0;v<f.length;v+=1)f[v].m(r,null)},p:function p(t,n){var s=n.slides;l=Object($t.H)(l,e,t,h,1,n,s,u,a,$t.l,upgrade_modal_slideshow_svelte_create_each_block_1,"m",null,get_each0_context);var b=n.slides;f=Object($t.H)(f,e,t,y,1,n,b,_,r,$t.l,upgrade_modal_slideshow_svelte_create_each_block,"m",null,get_each1_context)},d:function d(e){for(e&&Object($t.q)(n),v=0;v<l.length;v+=1)l[v].d();for(v=0;v<f.length;v+=1)f[v].d()}}}(this,this._state),this.root._oncreate.push((function(){upgrade_modal_slideshow_svelte_oncreate.call(t),t.fire("update",{changed:Object($t.f)({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Upgrade_modal_slideshow_svelte.prototype,$t.z),Object($t.e)(Upgrade_modal_slideshow_svelte.prototype,jr);var yr=Upgrade_modal_slideshow_svelte;n("./core/modals/components/upgrade-modal.svelte.svelte.css");var wr={show:function show(e){var t=Object(ke.b)("eligibleFirstTrial")?Object(Je.trans)("Try Free for 7 Days"):Object(Je.trans)("Go Premium Now"),n=Object(ke.b)("eligibleFirstTrial")?Object(Je.trans)("Try Premium for Free."):Object(Je.trans)("Go Premium.");this.set({cssClass:e.cssClass||"",hideText:e.hideText||Object(Je.trans)("Not Today"),limitText:e.limitText||null,referral:e.referral||"",show:!0,slides:an(e.startingSlide),title:e.title||"",buttonText:e.buttonText||t,subtitle:e.subtitle||n})},hide:function hide(){this.set({show:!1}),ln.emit(R.g.MODAL_DID_HIDE)},handleClick:function handleClick(){var e=this.get().referral,t=Object(ke.e)()?U.default.generate("web_membership",{c:e}):Object(Pe.g)();window.location=t,ln.emit(R.g.MODAL_DID_HIDE)}};function upgrade_modal_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N,C,S,A,L,P,M=e._slotted.footer;function click_handler(t){e.hide()}var I=t.limitText&&upgrade_modal_svelte_create_if_block_1(e,t),x={slides:t.slides},D=new yr({root:e.root,store:e.store,data:x});function click_handler_1(t){e.handleClick()}function click_handler_2(t){e.hide()}function click_handler_3(t){e.hide()}return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.k)("\n\n    "),r=Object($t.i)("div"),l=Object($t.i)("div"),u=Object($t.i)("div"),I&&I.c(),f=Object($t.k)("\n\n          "),_=Object($t.i)("h3"),b=Object($t.k)(t.title),h=Object($t.k)("\n\n          "),v=Object($t.i)("h3"),g=Object($t.k)(t.subtitle),O=Object($t.k)("\n\n        "),j=Object($t.i)("div"),D._fragment.c(),y=Object($t.k)("\n\n          "),w=Object($t.i)("div"),k=Object($t.i)("button"),E=Object($t.k)(t.buttonText),T=Object($t.k)("\n\n          "),M||(C=Object($t.i)("a"),S=Object($t.k)(t.hideText)),L=Object($t.k)("\n      "),(P=Object($t.i)("div")).innerHTML='<span class="icon-font-chess x"></span>',Object($t.c)(a,"click",click_handler),a.className="core-modal-background",_.className="upgrade-modal-title svelte-1ydaji3",v.className="upgrade-modal-subtitle svelte-1ydaji3",u.className="upgrade-modal-header svelte-1ydaji3",Object($t.c)(k,"click",click_handler_1),k.className="ui_v5-button-component ui_v5-button-secondary ui_v5-button-large ui_v5-button-full",Object($t.E)(k,"rel","nofollow"),w.className="upgrade-modal-button svelte-1ydaji3",M||(Object($t.c)(C,"click",click_handler_2),C.className="svelte-1ydaji3"),j.className="upgrade-modal-body svelte-1ydaji3",l.className=A="default-modal-content upgrade-modal "+t.cssClass+" svelte-1ydaji3",Object($t.c)(P,"click",click_handler_3),P.className="icon-font close",r.className="default-modal-container",n.className="core-modal-container is-active"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(n,s),Object($t.d)(n,r),Object($t.d)(r,l),Object($t.d)(l,u),I&&I.m(u,null),Object($t.d)(u,f),Object($t.d)(u,_),Object($t.d)(_,b),Object($t.d)(u,h),Object($t.d)(u,v),Object($t.d)(v,g),Object($t.d)(l,O),Object($t.d)(l,j),D._mount(j,null),Object($t.d)(j,y),Object($t.d)(j,w),Object($t.d)(w,k),Object($t.d)(k,E),Object($t.d)(j,T),M?(Object($t.d)(j,N||(N=Object($t.h)())),Object($t.d)(j,M)):(Object($t.d)(j,C),Object($t.d)(C,S)),Object($t.d)(r,L),Object($t.d)(r,P)},p:function p(t,n){n.limitText?I?I.p(t,n):((I=upgrade_modal_svelte_create_if_block_1(e,n)).c(),I.m(u,f)):I&&(I.d(1),I=null),t.title&&Object($t.F)(b,n.title),t.subtitle&&Object($t.F)(g,n.subtitle);var a={};t.slides&&(a.slides=n.slides),D._set(a),t.buttonText&&(Object($t.F)(E,n.buttonText),t.hideText&&Object($t.F)(S,n.hideText)),t.cssClass&&A!==(A="default-modal-content upgrade-modal "+n.cssClass+" svelte-1ydaji3")&&(l.className=A)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(a,"click",click_handler),I&&I.d(),D.destroy(),Object($t.D)(k,"click",click_handler_1),M?Object($t.A)(N,M):Object($t.D)(C,"click",click_handler_2),Object($t.D)(P,"click",click_handler_3)}}}function upgrade_modal_svelte_create_if_block_1(e,t){var n,a;return{c:function c(){n=Object($t.i)("h3"),a=Object($t.k)(t.limitText),n.className="upgrade-modal-limit svelte-1ydaji3"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.limitText&&Object($t.F)(a,t.limitText)},d:function d(e){e&&Object($t.q)(n)}}}function Upgrade_modal_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)({buttonText:"",cssClass:"",hideText:"",limitText:null,referral:"",show:!1,slides:{},subtitle:"",title:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function upgrade_modal_svelte_create_main_fragment(e,t){var n,a=t.show&&upgrade_modal_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.show?a?a.p(t,s):((a=upgrade_modal_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Upgrade_modal_svelte.prototype,$t.z),Object($t.e)(Upgrade_modal_svelte.prototype,wr);var kr=Upgrade_modal_svelte,Er=document.getElementById("upgrade-modal"),Tr=null,Nr=function createComponent(){Tr||(Tr=new kr({target:Er}))};function badge_svelte_create_if_block(e,t){var n,a,s,r=t.text||t.badgeCount;return{c:function c(){n=Object($t.i)("span"),a=Object($t.k)(r),n.className=s="badge "+t.badgeClass},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){(e.text||e.badgeCount)&&r!==(r=t.text||t.badgeCount)&&Object($t.F)(a,r),e.badgeClass&&s!==(s="badge "+t.badgeClass)&&(n.className=s)},d:function d(e){e&&Object($t.q)(n)}}}function Badge_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(this.store._init(["badges"]),e.data),this.store._add(this,["badges"]),this._recompute({$badges:1,badge:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function badge_svelte_create_main_fragment(e,t){var n,a=t.$badges[t.badge]>0&&badge_svelte_create_if_block(0,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(e,t){t.$badges[t.badge]>0?a?a.p(e,t):((a=badge_svelte_create_if_block(0,t)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(0,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}Object($t.e)(Badge_svelte.prototype,$t.z),Badge_svelte.prototype._recompute=function _recompute(e,t){(e.$badges||e.badge)&&this._differs(t.badgeCount,t.badgeCount=function badgeCount(e){var t=e.$badges,n=e.badge;return n===R.e.MESSAGES&&t[n]>=Jn(Kn,R.c)?"".concat(Jn(Kn,R.c),"+"):n===R.e.ALERTS&&t[n]>=Jn(Yn,R.d)?"".concat(Jn(Yn,R.d),"+"):t[n]}(t))&&(e.badgeCount=!0),e.badge&&this._differs(t.badgeClass,t.badgeClass=function badgeClass(e){var t=e.badge;return"badge-".concat(t||"default")}(t))&&(e.badgeClass=!0)};var Cr=Badge_svelte;n("./core/navigation/components/home-notification-panel.svelte.svelte.css");function home_notification_panel_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y=t.translations.alerts,w=t.showWidget&&home_notification_panel_svelte_create_if_block_1(e,t),k=new ua({root:e.root,store:e.store,data:{homeWidget:!0,isNewHome:!0}});return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.i)("span"),r=Object($t.i)("span"),l=Object($t.k)(y),u=Object($t.k)("\n\n        "),f=Object($t.i)("div"),w&&w.c(),_=Object($t.k)("\n\n          "),b=Object($t.i)("a"),v=Object($t.k)("\n\n      "),g=Object($t.i)("div"),O=Object($t.i)("div"),k._fragment.c(),r.className="section-link-name",b.className="alerts-gear-icon icon-font-chess circle-gearwheel svelte-ta679",b.href=h=t.routes.settings,b.target="_self",f.className="home-alerts-buttons-wrapper svelte-ta679",s.className="section-link-component alerts-section-link section-link-component-v5 svelte-ta679",O.className="notification-container notifications",g.id="home-alerts-wrapper",a.className="section-container-component home-section-container-component",n.id="home-sb-notifications",n.className=j="home-alerts-section-content "+(t.$isFetching?"":"home-alerts-loaded")+" home-alerts-v5 svelte-ta679"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a),Object($t.d)(a,s),Object($t.d)(s,r),Object($t.d)(r,l),Object($t.d)(s,u),Object($t.d)(s,f),w&&w.m(f,null),Object($t.d)(f,_),Object($t.d)(f,b),Object($t.d)(a,v),Object($t.d)(a,g),Object($t.d)(g,O),k._mount(O,null)},p:function p(t,a){t.translations&&y!==(y=a.translations.alerts)&&Object($t.F)(l,y),a.showWidget?w?w.p(t,a):((w=home_notification_panel_svelte_create_if_block_1(e,a)).c(),w.m(f,_)):w&&(w.d(1),w=null),t.routes&&h!==(h=a.routes.settings)&&(b.href=h),t.$isFetching&&j!==(j="home-alerts-section-content "+(a.$isFetching?"":"home-alerts-loaded")+" home-alerts-v5 svelte-ta679")&&(n.className=j)},d:function d(e){e&&Object($t.q)(n),w&&w.d(),k.destroy()}}}function home_notification_panel_svelte_create_if_block_1(e,t){var n,a,s=t.translations.clearAll;function click_handler(t){e.clearAll(t)}return{c:function c(){n=Object($t.i)("div"),a=Object($t.k)(s),Object($t.c)(n,"click",click_handler),n.className="clear-button svelte-ta679"},m:function m(e,t){Object($t.w)(e,n,t),Object($t.d)(n,a)},p:function p(e,t){e.translations&&s!==(s=t.translations.clearAll)&&Object($t.F)(a,s)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function Home_notification_panel_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)(this.store._init(["notifications","isFetching"]),function home_notification_panel_svelte_data(){return{routes:Ge,translations:Ut.a}}()),e.data),this.store._add(this,["notifications","isFetching"]),this._recompute({$notifications:1,$isFetching:1},this._state),this._intro=!0,this._handlers.destroy=[$t.C],this._fragment=function home_notification_panel_svelte_create_main_fragment(e,t){var n,a=t.showWidget&&home_notification_panel_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.showWidget?a?a.p(t,s):((a=home_notification_panel_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Home_notification_panel_svelte.prototype,$t.z),Object($t.e)(Home_notification_panel_svelte.prototype,{clearAll:function clearAll(e){e.stopPropagation(),this.store.ignoreAll()}}),Home_notification_panel_svelte.prototype._recompute=function _recompute(e,t){(e.$notifications||e.$isFetching)&&this._differs(t.showWidget,t.showWidget=function showWidget(e){var t=e.$notifications;return e.$isFetching||t.length>0}(t))&&(e.showWidget=!0)};var Sr=Home_notification_panel_svelte;n("./core/navigation/components/offline-challenge-toaster.svelte.svelte.css");function offline_challenge_toaster_svelte_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function offline_challenge_toaster_svelte_offlineChallenge(e){var t=e.$notifications;if(t.length>0&&t[0].type.id===He.offlineChallenge){var n=Tt(t[0].notifications[0]);return function offline_challenge_toaster_svelte_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?offline_challenge_toaster_svelte_ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):offline_challenge_toaster_svelte_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({icon:"icon-main ".concat(Xs(n.gameType))},n)}return null}var Ar={accept:function accept(e,t){e.preventDefault(),window.location=Ge.live(t.id)},decline:function decline(e,t){e.preventDefault(),this.store.declineRequest(t)},showUserPopup:function showUserPopup(e){e.preventDefault();var t=this.get().offlineChallenge;window.postMessage({key:W.SHOW_USER_POPOVER,target:e.currentTarget.id,username:t.from},window.location.origin)}};function offline_challenge_toaster_svelte_ondestroy(){this.refs.component&&this.refs.component.querySelector("strong").removeEventListener("click",this.get().clickListenerEvent)}function onupdate(){if(this.refs.component&&!this.get().clickListenerEvent){var e=this.showUserPopup.bind(this);this.refs.component.querySelector("strong").addEventListener("click",e),this.set({clickListenerEvent:e})}}function offline_challenge_toaster_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h,v,g,O,j,y,w,k,E,T,N=t.offlineChallenge.content,C=t.translations.decline,S=t.translations.accept;function click_handler(n){e.decline(n,t.offlineChallenge)}function click_handler_1(n){e.accept(n,t.offlineChallenge)}return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),r=Object($t.k)("\n  "),l=Object($t.i)("img"),_=Object($t.k)("\n  "),b=Object($t.i)("div"),h=Object($t.i)("noscript"),v=Object($t.k)("\n    "),g=Object($t.i)("a"),O=Object($t.k)(C),j=Object($t.k)("\n    |\n    "),y=Object($t.i)("a"),w=Object($t.k)(S),k=Object($t.k)("\n  "),E=Object($t.i)("a"),a.className=s=t.offlineChallenge.icon+" svelte-1c78fjn",l.alt="user_avatar",l.className="challenge-avatar svelte-1c78fjn",l.src=u=t.offlineChallenge.image,l.srcset=f=t.offlineChallenge.srcset,l.height="70",l.width="70",Object($t.c)(g,"click",click_handler),g.href="#",Object($t.c)(y,"click",click_handler_1),y.href="#",b.className="content",E.className="icon-settings icon-font icon-font-chess circle-gearwheel",E.href=T=t.routes.liveSettings,n.className="offline-challenge-toaster"},m:function m(t,s){Object($t.w)(t,n,s),Object($t.d)(n,a),Object($t.d)(n,r),Object($t.d)(n,l),Object($t.d)(n,_),Object($t.d)(n,b),Object($t.d)(b,h),h.insertAdjacentHTML("beforebegin",N),Object($t.d)(b,v),Object($t.d)(b,g),Object($t.d)(g,O),Object($t.d)(b,j),Object($t.d)(b,y),Object($t.d)(y,w),Object($t.d)(n,k),Object($t.d)(n,E),e.refs.component=n},p:function p(e,n){t=n,e.offlineChallenge&&s!==(s=t.offlineChallenge.icon+" svelte-1c78fjn")&&(a.className=s),e.offlineChallenge&&u!==(u=t.offlineChallenge.image)&&(l.src=u),e.offlineChallenge&&f!==(f=t.offlineChallenge.srcset)&&(l.srcset=f),e.offlineChallenge&&N!==(N=t.offlineChallenge.content)&&(Object($t.o)(h),h.insertAdjacentHTML("beforebegin",N)),e.translations&&C!==(C=t.translations.decline)&&Object($t.F)(O,C),e.translations&&S!==(S=t.translations.accept)&&Object($t.F)(w,S),e.routes&&T!==(T=t.routes.liveSettings)&&(E.href=T)},d:function d(t){t&&Object($t.q)(n),Object($t.D)(g,"click",click_handler),Object($t.D)(y,"click",click_handler_1),e.refs.component===n&&(e.refs.component=null)}}}function Offline_challenge_toaster_svelte(e){var t=this;Object($t.v)(this,e),this.refs={},this._state=Object($t.e)(Object($t.e)(this.store._init(["notifications"]),function offline_challenge_toaster_svelte_data(){return{routes:Ge,translations:Ut.a,clickListenerEvent:null}}()),e.data),this.store._add(this,["notifications"]),this._recompute({$notifications:1},this._state),this._intro=!0,this._handlers.update=[onupdate],this._handlers.destroy=[offline_challenge_toaster_svelte_ondestroy,$t.C],this._fragment=function offline_challenge_toaster_svelte_create_main_fragment(e,t){var n,a=t.offlineChallenge&&offline_challenge_toaster_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.offlineChallenge?a?a.p(t,s):((a=offline_challenge_toaster_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),this.root._oncreate.push((function(){t.fire("update",{changed:Object($t.f)({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Offline_challenge_toaster_svelte.prototype,$t.z),Object($t.e)(Offline_challenge_toaster_svelte.prototype,Ar),Offline_challenge_toaster_svelte.prototype._recompute=function _recompute(e,t){e.$notifications&&this._differs(t.offlineChallenge,t.offlineChallenge=offline_challenge_toaster_svelte_offlineChallenge(t))&&(e.offlineChallenge=!0)};var Lr=Offline_challenge_toaster_svelte,Pr=(n("./core/navigation/components/notification-toaster.svelte.svelte.css"),200),Mr=500,Ir=100;var xr={clicked:function clicked(e){var clicked=this.get().toaster.clicked;clicked instanceof Function&&clicked(e)},clickLink:function clickLink(e){e()},setTimeout:function(e){function setTimeout(t,n){return e.apply(this,arguments)}return setTimeout.toString=function(){return e.toString()},setTimeout}((function(e,t){var n=setTimeout(e.bind(this),t),a=this.get().timeouts;a.push(n),this.set({timeouts:a})})),showDuration:function showDuration(e){e&&(this.setTimeout(this.close,e+Pr+Mr),this.setTimeout(this.initiateFadeout,e+Pr))},initiateFadeout:function initiateFadeout(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mr;this.set({opacity:0,transition:"".concat(e/1e3,"s")})},close:function close(e){var t=this;this.initiateFadeout(Ir),this.setTimeout((function(){t.fire("close")}),Ir),e&&e.stopPropagation()},settings:function settings(e){var settings=this.get().toaster.settings;settings instanceof Function&&settings(e)}};function notification_toaster_svelte_oncreate(){var e=this,t=this.get().toaster,n=t.created,a=t.duration;this.showDuration(a),n instanceof Function&&n(),this.setTimeout((function(){e.set({opacity:1})}))}function notification_toaster_svelte_ondestroy(){var e=this.get(),t=e.toaster.destroyed;e.timeouts.forEach(clearTimeout),t instanceof Function&&t()}function notification_toaster_svelte_click_handler(e){var t=this._svelte,n=t.component,a=t.ctx;n.clickLink(a.link.onClick)}function notification_toaster_svelte_get_each_context(e,t,n){var a=Object.create(e);return a.link=t[n],a.index=n,a}function notification_toaster_svelte_create_if_block_6(e,t){var n;function click_handler(t){e.close(t)}return{c:function c(){n=Object($t.i)("span"),Object($t.c)(n,"click",click_handler),n.className="icon-font-chess x close svelte-14z9nre"},m:function m(e,t){Object($t.w)(e,n,t)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function notification_toaster_svelte_create_if_block_5(e,t){var n;function click_handler(t){e.settings(t)}return{c:function c(){n=Object($t.i)("span"),Object($t.c)(n,"click",click_handler),n.className="icon-font-chess circle-gearwheel settings svelte-14z9nre"},m:function m(e,t){Object($t.w)(e,n,t)},d:function d(e){e&&Object($t.q)(n),Object($t.D)(n,"click",click_handler)}}}function notification_toaster_svelte_create_if_block_4(e,t){var n,a,s;return{c:function c(){(n=Object($t.i)("span")).className=a="icon-font-chess icon "+t.toaster.icon+" svelte-14z9nre",n.style.cssText=s=t.toaster.iconBackgroundColor?"background-color: ".concat(t.toaster.iconBackgroundColor):""},m:function m(e,t){Object($t.w)(e,n,t)},p:function p(e,t){e.toaster&&a!==(a="icon-font-chess icon "+t.toaster.icon+" svelte-14z9nre")&&(n.className=a),e.toaster&&s!==(s=t.toaster.iconBackgroundColor?"background-color: ".concat(t.toaster.iconBackgroundColor):"")&&(n.style.cssText=s)},d:function d(e){e&&Object($t.q)(n)}}}function notification_toaster_svelte_create_if_block_3(e,t){var n,a,s;return{c:function c(){(n=Object($t.i)("img")).alt="user_avatar",n.className=a="avatar "+(t.toaster.icon?"with-icon":"")+" svelte-14z9nre",n.src=s=t.toaster.avatarUrl,n.height="60",n.width="60"},m:function m(e,t){Object($t.w)(e,n,t)},p:function p(e,t){e.toaster&&a!==(a="avatar "+(t.toaster.icon?"with-icon":"")+" svelte-14z9nre")&&(n.className=a),e.toaster&&s!==(s=t.toaster.avatarUrl)&&(n.src=s)},d:function d(e){e&&Object($t.q)(n)}}}function notification_toaster_svelte_create_if_block_2(e,t){var n,a,s;return{c:function c(){(n=Object($t.i)("img")).className=a="achievement "+(t.toaster.icon?"with-icon":"")+" svelte-14z9nre",n.src=s=t.toaster.achievementUrl,n.height="60",n.width="60"},m:function m(e,t){Object($t.w)(e,n,t)},p:function p(e,t){e.toaster&&a!==(a="achievement "+(t.toaster.icon?"with-icon":"")+" svelte-14z9nre")&&(n.className=a),e.toaster&&s!==(s=t.toaster.achievementUrl)&&(n.src=s)},d:function d(e){e&&Object($t.q)(n)}}}function notification_toaster_svelte_create_if_block(e,t){for(var n,a=t.toaster.links,s=[],r=0;r<a.length;r+=1)s[r]=notification_toaster_svelte_create_each_block(e,notification_toaster_svelte_get_each_context(t,a,r));return{c:function c(){for(var e=0;e<s.length;e+=1)s[e].c();n=Object($t.h)()},m:function m(e,t){for(var a=0;a<s.length;a+=1)s[a].m(e,t);Object($t.w)(e,n,t)},p:function p(t,r){if(t.toaster){a=r.toaster.links;for(var l=0;l<a.length;l+=1){var u=notification_toaster_svelte_get_each_context(r,a,l);s[l]?s[l].p(t,u):(s[l]=notification_toaster_svelte_create_each_block(e,u),s[l].c(),s[l].m(n.parentNode,n))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d:function d(e){Object($t.m)(s,e),e&&Object($t.q)(n)}}}function notification_toaster_svelte_create_if_block_1(e,t){var n;return{c:function c(){n=Object($t.k)("|")},m:function m(e,t){Object($t.w)(e,n,t)},d:function d(e){e&&Object($t.q)(n)}}}function notification_toaster_svelte_create_each_block(e,t){var n,a,s,r,l=t.link.label,u=0!==t.index&&notification_toaster_svelte_create_if_block_1();return{c:function c(){u&&u.c(),n=Object($t.k)("\n\n          "),a=Object($t.i)("a"),s=Object($t.k)(l),r=Object($t.k)("\n          "),a._svelte={component:e,ctx:t},Object($t.c)(a,"click",notification_toaster_svelte_click_handler),a.className="link svelte-14z9nre"},m:function m(e,t){u&&u.m(e,t),Object($t.w)(e,n,t),Object($t.w)(e,a,t),Object($t.d)(a,s),Object($t.d)(a,r)},p:function p(e,r){0!==(t=r).index?u||((u=notification_toaster_svelte_create_if_block_1()).c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null),e.toaster&&l!==(l=t.link.label)&&Object($t.F)(s,l),a._svelte.ctx=t},d:function d(e){u&&u.d(e),e&&(Object($t.q)(n),Object($t.q)(a)),Object($t.D)(a,"click",notification_toaster_svelte_click_handler)}}}function Notification_toaster_svelte(e){var t=this;Object($t.v)(this,e),this.refs={},this._state=Object($t.e)(function notification_toaster_svelte_data(){return{timeouts:[],opacity:0,transition:"".concat(Pr/1e3,"s")}}(),e.data),this._recompute({toaster:1,opacity:1,transition:1},this._state),this._intro=!0,this._handlers.destroy=[notification_toaster_svelte_ondestroy],this._fragment=function notification_toaster_svelte_create_main_fragment(e,t){var n,a,s,r,l,u,f,_,b,h,v,g=t.toaster.content,O=t.toaster.closable&&notification_toaster_svelte_create_if_block_6(e),j=t.toaster.settings&&notification_toaster_svelte_create_if_block_5(e),y=t.toaster.icon&&notification_toaster_svelte_create_if_block_4(0,t),w=t.toaster.avatarUrl&&notification_toaster_svelte_create_if_block_3(0,t),k=t.toaster.achievementUrl&&notification_toaster_svelte_create_if_block_2(0,t),E=t.toaster.links&&notification_toaster_svelte_create_if_block(e,t);function click_handler_1(t){e.clicked(t)}return{c:function c(){n=Object($t.i)("div"),O&&O.c(),a=Object($t.k)("\n\n  "),j&&j.c(),s=Object($t.k)("\n\n  "),y&&y.c(),r=Object($t.k)("\n\n  "),w&&w.c(),l=Object($t.k)("\n\n  "),k&&k.c(),u=Object($t.k)("\n\n  "),f=Object($t.i)("div"),_=Object($t.i)("div"),b=Object($t.i)("noscript"),h=Object($t.k)("\n\n      "),E&&E.c(),f.className="content svelte-14z9nre",Object($t.c)(n,"click",click_handler_1),n.className=v="toaster "+(t.clickable?"clickable":"")+" svelte-14z9nre",n.style.cssText=t.style},m:function m(t,v){Object($t.w)(t,n,v),O&&O.m(n,null),Object($t.d)(n,a),j&&j.m(n,null),Object($t.d)(n,s),y&&y.m(n,null),Object($t.d)(n,r),w&&w.m(n,null),Object($t.d)(n,l),k&&k.m(n,null),Object($t.d)(n,u),Object($t.d)(n,f),Object($t.d)(f,_),Object($t.d)(_,b),b.insertAdjacentHTML("beforebegin",g),Object($t.d)(_,h),E&&E.m(_,null),e.refs.component=n},p:function p(t,f){f.toaster.closable?O||((O=notification_toaster_svelte_create_if_block_6(e)).c(),O.m(n,a)):O&&(O.d(1),O=null),f.toaster.settings?j||((j=notification_toaster_svelte_create_if_block_5(e)).c(),j.m(n,s)):j&&(j.d(1),j=null),f.toaster.icon?y?y.p(t,f):((y=notification_toaster_svelte_create_if_block_4(0,f)).c(),y.m(n,r)):y&&(y.d(1),y=null),f.toaster.avatarUrl?w?w.p(t,f):((w=notification_toaster_svelte_create_if_block_3(0,f)).c(),w.m(n,l)):w&&(w.d(1),w=null),f.toaster.achievementUrl?k?k.p(t,f):((k=notification_toaster_svelte_create_if_block_2(0,f)).c(),k.m(n,u)):k&&(k.d(1),k=null),t.toaster&&g!==(g=f.toaster.content)&&(Object($t.o)(b),b.insertAdjacentHTML("beforebegin",g)),f.toaster.links?E?E.p(t,f):((E=notification_toaster_svelte_create_if_block(e,f)).c(),E.m(_,null)):E&&(E.d(1),E=null),t.clickable&&v!==(v="toaster "+(f.clickable?"clickable":"")+" svelte-14z9nre")&&(n.className=v),t.style&&(n.style.cssText=f.style)},d:function d(t){t&&Object($t.q)(n),O&&O.d(),j&&j.d(),y&&y.d(),w&&w.d(),k&&k.d(),E&&E.d(),Object($t.D)(n,"click",click_handler_1),e.refs.component===n&&(e.refs.component=null)}}}(this,this._state),this.root._oncreate.push((function(){notification_toaster_svelte_oncreate.call(t),t.fire("update",{changed:Object($t.f)({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Notification_toaster_svelte.prototype,$t.z),Object($t.e)(Notification_toaster_svelte.prototype,xr),Notification_toaster_svelte.prototype._recompute=function _recompute(e,t){e.toaster&&this._differs(t.clickable,t.clickable=function clickable(e){return e.toaster.clicked instanceof Function}(t))&&(e.clickable=!0),(e.opacity||e.transition)&&this._differs(t.style,t.style=function style(e){var t=e.opacity,n=e.transition;return"opacity:".concat(t,";transition:").concat(n)}(t))&&(e.style=!0)};var Dr=Notification_toaster_svelte;n("./core/navigation/components/notification-toasters.svelte.svelte.css");function notification_toasters_svelte_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function notification_toasters_svelte_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?notification_toasters_svelte_ownKeys(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):notification_toasters_svelte_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rr={add:function add(e){var t=this.get().toasters,n=e.id||+new Date;return t[n]=notification_toasters_svelte_objectSpread(notification_toasters_svelte_objectSpread({closable:!0},e),{},{id:n}),this.set({toasters:t}),n},remove:function remove(e){var t=this.get().toasters;delete t[e],this.set({toasters:t})}};function notification_toasters_svelte_get_each_context(e,t,n){var a=Object.create(e);return a.id=t[n][0],a.toaster=t[n][1],a}function notification_toasters_svelte_create_each_block(e,t,n){var a,s={toaster:n.toaster},r=new Dr({root:e.root,store:e.store,data:s});return r.on("close",(function(t){e.remove(n.id)})),{key:t,first:null,c:function c(){a=Object($t.h)(),r._fragment.c(),this.first=a},m:function m(e,t){Object($t.w)(e,a,t),r._mount(e,t)},p:function p(e,t){n=t;var a={};(e.Object||e.toasters)&&(a.toaster=n.toaster),r._set(a)},d:function d(e){e&&Object($t.q)(a),r.destroy(e)}}}function Notification_toasters_svelte(e){Object($t.v)(this,e),this._state=Object($t.e)(Object($t.e)({Object:Object},{toasters:{}}),e.data),this._intro=!0,this._fragment=function notification_toasters_svelte_create_main_fragment(e,t){for(var n,a,s=[],r=Object($t.g)(),l=t.Object.entries(t.toasters),u=function get_key(e){return e.id},f=0;f<l.length;f+=1){var _=notification_toasters_svelte_get_each_context(t,l,f),b=u(_);s[f]=r[b]=notification_toasters_svelte_create_each_block(e,b,_)}return{c:function c(){for(n=Object($t.i)("div"),a=Object($t.i)("div"),f=0;f<s.length;f+=1)s[f].c();a.className="toasters-list svelte-62ipgl",n.className="toasters-container svelte-62ipgl"},m:function m(e,t){for(Object($t.w)(e,n,t),Object($t.d)(n,a),f=0;f<s.length;f+=1)s[f].m(a,null)},p:function p(t,n){var l=n.Object.entries(n.toasters);s=Object($t.H)(s,e,t,u,1,n,l,r,a,$t.l,notification_toasters_svelte_create_each_block,"m",null,notification_toasters_svelte_get_each_context)},d:function d(e){for(e&&Object($t.q)(n),f=0;f<s.length;f+=1)s[f].d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Notification_toasters_svelte.prototype,$t.z),Object($t.e)(Notification_toasters_svelte.prototype,Rr);var Ur=Notification_toasters_svelte;n("./core/navigation/components/puzzle-battle-challenge-toaster.svelte.svelte.css");var zr={accept:function accept(e){this.store.acceptChallenge(e)},decline:function decline(e){this.store.declineChallenge(e)},showUserPopover:function showUserPopover(e){e.preventDefault();var t=this.get().challenge;window.postMessage({key:W.SHOW_USER_POPOVER,target:E,username:t.from.username},window.location.origin)},removeClickListener:function removeClickListener(){var e=this.get(),t=e.showUserPopoverListener,n=e.usernameEl;n&&(n.removeEventListener("click",t),this.set({showUserPopoverListener:null,usernameEl:null}))}};function puzzle_battle_challenge_toaster_svelte_ondestroy(){this.removeClickListener()}function puzzle_battle_challenge_toaster_svelte_onupdate(){if(this.removeClickListener(),this.refs.component){var e=this.showUserPopover.bind(this),t=this.refs.component.querySelector("strong");t&&(t.addEventListener("click",e),this.set({showUserPopoverListener:e,usernameEl:t}))}}function puzzle_battle_challenge_toaster_svelte_create_if_block(e,t){var n,a,s,r,l,u,f,_,b,h,v;function click_handler(n){e.decline(t.challenge)}function click_handler_1(n){e.accept(t.challenge)}return{c:function c(){n=Object($t.i)("div"),a=Object($t.i)("div"),s=Object($t.i)("img"),l=Object($t.k)("\n    "),u=Object($t.i)("div"),f=Object($t.i)("span"),_=Object($t.k)("\n      "),(b=Object($t.i)("button")).innerHTML='<span class="icon icon-font-chess x svelte-15y6efx"></span>',h=Object($t.k)("\n      "),(v=Object($t.i)("button")).innerHTML='<span class="icon icon-font-chess checkmark svelte-15y6efx"></span>',s.alt="user_avatar",s.className="challenge-avatar svelte-15y6efx",s.src=r=t.challenge.from.avatarUrl,s.height="60",s.width="60",Object($t.c)(b,"click",click_handler),b.className="button decline svelte-15y6efx",Object($t.c)(v,"click",click_handler_1),v.className="button accept svelte-15y6efx",u.className="content svelte-15y6efx",a.className="puzzle-battle-challenge-toaster svelte-15y6efx",n.className="puzzle-battle-challenge-toaster-wrapper svelte-15y6efx"},m:function m(r,g){Object($t.w)(r,n,g),Object($t.d)(n,a),Object($t.d)(a,s),Object($t.d)(a,l),Object($t.d)(a,u),Object($t.d)(u,f),f.innerHTML=t.message,Object($t.d)(u,_),Object($t.d)(u,b),Object($t.d)(u,h),Object($t.d)(u,v),e.refs.component=a},p:function p(e,n){t=n,e.challenge&&r!==(r=t.challenge.from.avatarUrl)&&(s.src=r),e.message&&(f.innerHTML=t.message)},d:function d(t){t&&Object($t.q)(n),Object($t.D)(b,"click",click_handler),Object($t.D)(v,"click",click_handler_1),e.refs.component===a&&(e.refs.component=null)}}}function Puzzle_battle_challenge_toaster_svelte(e){var t=this;Object($t.v)(this,e),this.refs={},this._state=Object($t.e)(Object($t.e)(this.store._init(["challenges"]),{showUserPopoverListener:null,usernameEl:null}),e.data),this.store._add(this,["challenges"]),this._recompute({$challenges:1,challenge:1},this._state),this._intro=!0,this._handlers.update=[puzzle_battle_challenge_toaster_svelte_onupdate],this._handlers.destroy=[puzzle_battle_challenge_toaster_svelte_ondestroy,$t.C],this._fragment=function puzzle_battle_challenge_toaster_svelte_create_main_fragment(e,t){var n,a=t.challenge&&puzzle_battle_challenge_toaster_svelte_create_if_block(e,t);return{c:function c(){a&&a.c(),n=Object($t.h)()},m:function m(e,t){a&&a.m(e,t),Object($t.w)(e,n,t)},p:function p(t,s){s.challenge?a?a.p(t,s):((a=puzzle_battle_challenge_toaster_svelte_create_if_block(e,s)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d:function d(e){a&&a.d(e),e&&Object($t.q)(n)}}}(this,this._state),this.root._oncreate.push((function(){t.fire("update",{changed:Object($t.f)({},t._state),current:t._state})})),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),Object($t.s)(this))}Object($t.e)(Puzzle_battle_challenge_toaster_svelte.prototype,$t.z),Object($t.e)(Puzzle_battle_challenge_toaster_svelte.prototype,zr),Puzzle_battle_challenge_toaster_svelte.prototype._recompute=function _recompute(e,t){e.$challenges&&this._differs(t.challenge,t.challenge=function puzzle_battle_challenge_toaster_svelte_challenge(e){var t=e.$challenges;return 0===t.length?null:t[0]}(t))&&(e.challenge=!0),e.challenge&&this._differs(t.message,t.message=function puzzle_battle_challenge_toaster_svelte_message(e){var t=e.challenge;return t?Ut.a.puzzleBattleChallengeMessage(t.from.username,t.from.rating,E):""}(t))&&(e.message=!0)};var Fr,$r=Puzzle_battle_challenge_toaster_svelte,Hr=n("./web/core/api/content/config.js"),Gr=n("./utils/iterable/service.js"),qr=document.querySelector(R.n.MAIN_NAV_LOGIN_LINK),Br=document.querySelectorAll(R.n.MAIN_NAV_REGISTER_LINK),Wr=document.querySelector(R.n.MAIN_NAV),Vr="returnUrl";!function addPageLoadTimestampToLog(){!function log(e){var t=e.key,n=e.value;Ys(),window.chesscom.logData[t]=n,Object(Ks.setSentryContext)(r()({},t,n))}({key:"pageLoad",value:(new Date).getTime()})}(),window.addEventListener("message",(function(e){var t=e.data;gr(),t&&t.event===W.SHOW_MESSAGE_MODAL&&Dn.default.stores.message.set(Object.assign({},t.user,{show:!0}))})),window.addEventListener("message",(function(e){var t=e.data;t&&t.key===R.g.SHOW_UPGRADE_MODAL&&(Nr(),Tr.show(t.payload))})),function(){var e=document.getElementById(P);if(e&&e.getAttribute(y)&&"true"===e.getAttribute(j)){var t=document.getElementById(L);null==sr&&(sr=new ar({target:t})),sr.show({shortUuid:e.getAttribute(y),shareLink:e.getAttribute(w)})}else window.addEventListener("message",(function(e){var t=e.data;t&&(t.event===R.g.OPEN_SHAREABLE_URL_MODAL?function createShareableChallenge(e){return Js.a.post(tt.createShareableChallengeUrl,e).then((function(e){return e.data}))}(er(t.challenge)).then((function(e){var t=e.gameSeek,n=document.getElementById(L);null==sr&&(sr=new ar({target:n})),sr.show({id:t.id,shortUuid:t.shortUuid,shareLink:t.playInviteUrl,liveGameSeekTtl:t.liveGameSeekTtl})})).catch((function(e){Object(Rt.a)({event:R.g.OPEN_SHAREABLE_URL_MODAL_FAILED,data:e.response.data})})):t.event===R.g.CLOSE_SHAREABLE_URL_MODAL&&sr&&sr.hide())}))}(),Fr=new rr({target:or,store:Dn.default}),window.addEventListener("message",(function(e){var t=e.data;t&&t.event===W.LOGIN_OR_REGISTER_MODAL&&Fr.show({icon:t.icon,title:t.title})})),lr&&lr.addEventListener("click",ur),Object(Dt.a)(M).map((function(e){var t=e.getAttribute(O),n=e.getAttribute(v),a=null!=n?parseInt(n,10):0;return Dn.default.stores.notifications.setBadgeCount({type:t,count:a}),Object(Pe.i)(Cr,{target:e,store:Dn.default.stores.notifications,data:{badge:e.getAttribute(O),text:e.getAttribute(g)}})})),function(){var e=document.getElementById(T);if(e){Dn.default.stores.notifications.fetch();window.addEventListener("message",(function viewBootedEvent(t){if("HOME_MOUNTED"===t.data){var n={store:Dn.default.stores.notifications,target:e};Object(Pe.i)(Sr,n),window.removeEventListener("message",viewBootedEvent)}}))}}(),function(){var e=document.getElementById(C);if(e){var t=e.getAttribute(O),n=e.getAttribute(v),a=null!=n?parseInt(n,10):0;return Dn.default.stores.notifications.setBadgeCount({type:t,count:a}),a>0&&Dn.default.stores.notifications.fetch(),new Lr({store:Dn.default.stores.notifications,target:e})}}(),function renderScrollbars(){var e=Zs({height:"50px",overflow:"auto",width:"30px"});e.appendChild(Zs({height:"60px",width:"100%"})),document.body.appendChild(e),30!==e.firstChild.clientWidth&&document.body.classList.add("scrollbar-obtrusive"),document.body.removeChild(e)}(),function(){(function shouldCacheCurrentUrl(){return![Xn.b.login,Xn.b.register].find((function(e){return window.location.href.indexOf(e)>=0}))&&!document.body.classList.contains(R.f.NO_REDIRECT)})()&&Kt.a.set(Vr,window.location.href);var e=Kt.a.get(Vr);if(e){var t=new URLSearchParams;t.set("returnUrl",e);var n=function getMainNav(){return null==Wr&&(Wr=document.querySelector(R.n.MAIN_NAV)),Wr}(),a=Xn.b.loginAndGoRoute(e),s=Xn.b.registerRoute(e);n&&(a="".concat(n.getAttribute(R.b.loginAndGoRoute),"?").concat(t.toString()),s="".concat(n.getAttribute(R.b.registerRoute),"?").concat(t.toString())),qr&&qr.setAttribute("href",a),fe()(Br).forEach((function(e){e.setAttribute("href",s)}))}}(),Object(Dt.a)(".".concat(Hr.a.AMPLITUDE_LOGGER)).forEach((function(e){var t=e.dataset.eventName,n=JSON.parse(e.dataset.eventProps||null),a=JSON.parse(e.dataset.userProps||null),s=JSON.parse(e.dataset.incUserProps||null);xt.a.logEvent(t,n,a,s),Object(Gr.a)(t,n),a&&Object(Gr.b)(a)}));var Kr=function(){var e=document.getElementById(A);if(e)return new Ur({target:e})}();window.toaster=function createToastersApi(e){return{add:function add(t){return null==e?void 0:e.add(t)},remove:function remove(t){return null==e?void 0:e.remove(t)}}}(Kr),function(){var e=document.getElementById(k);if(e)new $r({store:Dn.default.stores.puzzleBattle,target:e})}()},"./core/navigation/styles/form.scss":function(e,t,n){e.exports={input:"form-input",label:"form-label",select:"form-select",switch:"form-switch"}},"./core/navigation/styles/navigation.scss":function(e,t,n){},"./core/navigation/styles/new-game.scss":function(e,t,n){},"./core/pubsub/events/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CONNECT:"connect",DISCONNECT:"disconnect",FAILURE:"failure",MESSAGE:"message",RECONNECT:"reconnect",SUBSCRIBE:"subscribe",SUBSCRIBE_FAIL:"subscribe_fail",UNSUBSCRIBE:"unsubscribe"}},"./core/store/index.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./core/store/index.js")},"./core/store/store.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./core/store/store.js")},"./core/styles/modal.scss":function(e,t,n){},"./core/styles/scrollbars.scss":function(e,t,n){},"./core/utils/dom/has-touch.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||/firefox/i.test(window.navigator.userAgent)&&"TouchEvent"in window},"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){e.exports=function _arrayWithHoles(e){if(Array.isArray(e))return e}},"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(e,t){e.exports=function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":function(e,t){function asyncGeneratorStep(e,t,n,a,s,r,l){try{var u=e[r](l),f=u.value}catch(_){return void n(_)}u.done?t(f):Promise.resolve(f).then(a,s)}e.exports=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function _next(e){asyncGeneratorStep(r,a,s,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(r,a,s,_next,_throw,"throw",e)}_next(void 0)}))}}},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./node_modules/@babel/runtime/helpers/classCallCheck.js")},"./node_modules/@babel/runtime/helpers/createClass.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./node_modules/@babel/runtime/helpers/createClass.js")},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./node_modules/@babel/runtime/helpers/defineProperty.js")},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":function(e,t){function _getPrototypeOf(t){return e.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(t)}e.exports=_getPrototypeOf},"./node_modules/@babel/runtime/helpers/inherits.js":function(e,t,n){var a=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");e.exports=function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){e.exports=function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,s=!1,r=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(f){s=!0,r=f}finally{try{a||null==u.return||u.return()}finally{if(s)throw r}}return n}}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){e.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":function(e,t,n){var a=n("./node_modules/@babel/runtime/helpers/typeof.js"),s=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js");e.exports=function _possibleConstructorReturn(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?s(e):t}},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(e,t){function _setPrototypeOf(t,n){return e.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(t,n)}e.exports=_setPrototypeOf},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,n){var a=n("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),s=n("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),r=n("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),l=n("./node_modules/@babel/runtime/helpers/nonIterableRest.js");e.exports=function _slicedToArray(e,t){return a(e)||s(e,t)||r(e,t)||l()}},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./node_modules/@babel/runtime/helpers/toConsumableArray.js")},"./node_modules/@babel/runtime/helpers/typeof.js":function(e,t){function _typeof(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=_typeof=function _typeof(e){return typeof e}:e.exports=_typeof=function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}e.exports=_typeof},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js")},"./node_modules/@babel/runtime/regenerator/index.js":function(e,t,n){e.exports=n("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/amplitude-js/amplitude.js":function(e,t,n){e.exports=n("dll-reference amplitudeDLL")("./node_modules/amplitude-js/amplitude.js")},"./node_modules/autosize/dist/autosize.js":function(e,t,n){var a,s,r;s=[e,t],void 0===(r="function"==typeof(a=function(e,t){"use strict";var n,a,s="function"==typeof Map?new Map:(n=[],a=[],{has:function has(e){return n.indexOf(e)>-1},get:function get(e){return a[n.indexOf(e)]},set:function set(e,t){-1===n.indexOf(e)&&(n.push(e),a.push(t))},delete:function _delete(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),a.splice(t,1))}}),r=function createEvent(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(u){r=function createEvent(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function assign(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!s.has(e)){var t=null,n=null,a=null,l=function pageResize(){e.clientWidth!==n&&update()},u=function(t){window.removeEventListener("resize",l,!1),e.removeEventListener("input",update,!1),e.removeEventListener("keyup",update,!1),e.removeEventListener("autosize:destroy",u,!1),e.removeEventListener("autosize:update",update,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),s.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",u,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",update,!1),window.addEventListener("resize",l,!1),e.addEventListener("input",update,!1),e.addEventListener("autosize:update",update,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",s.set(e,{destroy:u,update:update}),init()}function init(){var n=window.getComputedStyle(e,null);"vertical"===n.resize?e.style.resize="none":"both"===n.resize&&(e.style.resize="horizontal"),t="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(t)&&(t=0),update()}function changeOverflow(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function getParentOverflows(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function resize(){if(0!==e.scrollHeight){var a=getParentOverflows(e),s=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,a.forEach((function(e){e.node.scrollTop=e.scrollTop})),s&&(document.documentElement.scrollTop=s)}}function update(){resize();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),s="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(s!==t?"hidden"===n.overflowY&&(changeOverflow("scroll"),resize(),s="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(changeOverflow("hidden"),resize(),s="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==s){a=s;var l=r("autosize:resized");try{e.dispatchEvent(l)}catch(u){}}}}function destroy(e){var t=s.get(e);t&&t.destroy()}function update(e){var t=s.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function autosize(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function autosize(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return assign(e,t)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],destroy),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],update),e}),t.default=l,e.exports=t.default})?a.apply(t,s):a)||(e.exports=r)},"./node_modules/axios/index.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./node_modules/axios/index.js")},"./node_modules/charenc/charenc.js":function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},"./node_modules/classlist-polyfill/src/index.js":function(e,t){"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n=e.Element.prototype,a=Object,s=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},DOMEx=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},checkTokenAndGetIndex=function(e,t){if(""===t)throw new DOMEx("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new DOMEx("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(e,t)},ClassList=function(e){for(var t=s.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],a=0,r=n.length;a<r;a++)this.push(n[a]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=ClassList.prototype=[],classListGetter=function(){return new ClassList(this)};if(DOMEx.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==checkTokenAndGetIndex(this,e+="")},l.add=function(){var e,t=arguments,n=0,a=t.length,s=!1;do{e=t[n]+"",-1===checkTokenAndGetIndex(this,e)&&(this.push(e),s=!0)}while(++n<a);s&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,a=0,s=n.length,r=!1;do{for(e=n[a]+"",t=checkTokenAndGetIndex(this,e);-1!==t;)this.splice(t,1),r=!0,t=checkTokenAndGetIndex(this,e)}while(++a<s);r&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),a=n?!0!==t&&"remove":!1!==t&&"add";return a&&this[a](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},a.defineProperty){var u={get:classListGetter,enumerable:!0,configurable:!0};try{a.defineProperty(n,t,u)}catch(f){void 0!==f.number&&-2146823252!==f.number||(u.enumerable=!1,a.defineProperty(n,t,u))}}else a.prototype.__defineGetter__&&n.__defineGetter__(t,classListGetter)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var createMethod=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,a=arguments.length;for(n=0;n<a;n++)e=arguments[n],t.call(this,e)}};createMethod("add"),createMethod("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,n){return 1 in arguments&&!this.contains(e)==!n?n:t.call(this,e)}}e=null}())},"./node_modules/crypt/crypt.js":function(e,t){var n,a;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&a.rotl(e,8)|4278255360&a.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=a.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,a=0;n<e.length;n++,a+=8)t[a>>>5]|=e[n]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],a=0;a<e.length;a+=3)for(var s=e[a]<<16|e[a+1]<<8|e[a+2],r=0;r<4;r++)8*a+6*r<=8*e.length?t.push(n.charAt(s>>>6*(3-r)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],a=0,s=0;a<e.length;s=++a%4)0!=s&&t.push((n.indexOf(e.charAt(a-1))&Math.pow(2,-2*s+8)-1)<<2*s|n.indexOf(e.charAt(a))>>>6-2*s);return t}},e.exports=a},"./node_modules/is-buffer/index.js":function(e,t){function isBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(isBuffer(e)||function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isBuffer(e.slice(0,0))}(e)||!!e._isBuffer)}},"./node_modules/lodash-es/_Symbol.js":function(e,t,n){"use strict";var a=n("./node_modules/lodash-es/_root.js").a.Symbol;t.a=a},"./node_modules/lodash-es/_baseGetTag.js":function(e,t,n){"use strict";var a=n("./node_modules/lodash-es/_Symbol.js"),s=Object.prototype,r=s.hasOwnProperty,l=s.toString,u=a.a?a.a.toStringTag:void 0;var f=function getRawTag(e){var t=r.call(e,u),n=e[u];try{e[u]=void 0;var a=!0}catch(f){}var s=l.call(e);return a&&(t?e[u]=n:delete e[u]),s},_=Object.prototype.toString;var b=function objectToString(e){return _.call(e)},h=a.a?a.a.toStringTag:void 0;t.a=function baseGetTag(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":h&&h in Object(e)?f(e):b(e)}},"./node_modules/lodash-es/_basePropertyOf.js":function(e,t,n){"use strict";t.a=function basePropertyOf(e){return function(t){return null==e?void 0:e[t]}}},"./node_modules/lodash-es/_freeGlobal.js":function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash-es/_nodeUtil.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/lodash-es/_freeGlobal.js"),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=s&&"object"==typeof e&&e&&!e.nodeType&&e,l=r&&r.exports===s&&a.a.process,u=function(){try{var e=r&&r.require&&r.require("util").types;return e||l&&l.binding&&l.binding("util")}catch(t){}}();t.a=u}).call(this,n("./node_modules/webpack/buildin/harmony-module.js")(e))},"./node_modules/lodash-es/_root.js":function(e,t,n){"use strict";var a=n("./node_modules/lodash-es/_freeGlobal.js"),s="object"==typeof self&&self&&self.Object===Object&&self,r=a.a||s||Function("return this")();t.a=r},"./node_modules/lodash-es/debounce.js":function(e,t,n){"use strict";var a=n("./node_modules/lodash-es/isObject.js"),s=n("./node_modules/lodash-es/_root.js"),lodash_es_now=function(){return s.a.Date.now()},r=n("./node_modules/lodash-es/isSymbol.js"),l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,_=/^0o[0-7]+$/i,b=parseInt;var h=function toNumber(e){if("number"==typeof e)return e;if(Object(r.a)(e))return NaN;if(Object(a.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(a.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=f.test(e);return n||_.test(e)?b(e.slice(2),n?2:8):u.test(e)?NaN:+e},v=Math.max,g=Math.min;t.a=function debounce(e,t,n){var s,r,l,u,f,_,b=0,O=!1,j=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function invokeFunc(t){var n=s,a=r;return s=r=void 0,b=t,u=e.apply(a,n)}function leadingEdge(e){return b=e,f=setTimeout(timerExpired,t),O?invokeFunc(e):u}function shouldInvoke(e){var n=e-_;return void 0===_||n>=t||n<0||j&&e-b>=l}function timerExpired(){var e=lodash_es_now();if(shouldInvoke(e))return trailingEdge(e);f=setTimeout(timerExpired,function remainingWait(e){var n=t-(e-_);return j?g(n,l-(e-b)):n}(e))}function trailingEdge(e){return f=void 0,y&&s?invokeFunc(e):(s=r=void 0,u)}function debounced(){var e=lodash_es_now(),n=shouldInvoke(e);if(s=arguments,r=this,_=e,n){if(void 0===f)return leadingEdge(_);if(j)return clearTimeout(f),f=setTimeout(timerExpired,t),invokeFunc(_)}return void 0===f&&(f=setTimeout(timerExpired,t)),u}return t=h(t)||0,Object(a.a)(n)&&(O=!!n.leading,l=(j="maxWait"in n)?v(h(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),debounced.cancel=function cancel(){void 0!==f&&clearTimeout(f),b=0,s=_=r=f=void 0},debounced.flush=function flush(){return void 0===f?u:trailingEdge(lodash_es_now())},debounced}},"./node_modules/lodash-es/isArray.js":function(e,t,n){"use strict";var a=Array.isArray;t.a=a},"./node_modules/lodash-es/isBuffer.js":function(e,t,n){"use strict";(function(e){var a=n("./node_modules/lodash-es/_root.js"),s=n("./node_modules/lodash-es/stubFalse.js"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,l=r&&"object"==typeof e&&e&&!e.nodeType&&e,u=l&&l.exports===r?a.a.Buffer:void 0,f=(u?u.isBuffer:void 0)||s.a;t.a=f}).call(this,n("./node_modules/webpack/buildin/harmony-module.js")(e))},"./node_modules/lodash-es/isObject.js":function(e,t,n){"use strict";t.a=function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"./node_modules/lodash-es/isObjectLike.js":function(e,t,n){"use strict";t.a=function isObjectLike(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash-es/isSymbol.js":function(e,t,n){"use strict";var a=n("./node_modules/lodash-es/_baseGetTag.js"),s=n("./node_modules/lodash-es/isObjectLike.js");t.a=function isSymbol(e){return"symbol"==typeof e||Object(s.a)(e)&&"[object Symbol]"==Object(a.a)(e)}},"./node_modules/lodash-es/stubFalse.js":function(e,t,n){"use strict";t.a=function stubFalse(){return!1}},"./node_modules/lodash-es/toString.js":function(e,t,n){"use strict";var a=n("./node_modules/lodash-es/_Symbol.js");var s=function arrayMap(e,t){for(var n=-1,a=null==e?0:e.length,s=Array(a);++n<a;)s[n]=t(e[n],n,e);return s},r=n("./node_modules/lodash-es/isArray.js"),l=n("./node_modules/lodash-es/isSymbol.js"),u=a.a?a.a.prototype:void 0,f=u?u.toString:void 0;var _=function baseToString(e){if("string"==typeof e)return e;if(Object(r.a)(e))return s(e,baseToString)+"";if(Object(l.a)(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};t.a=function toString_toString(e){return null==e?"":_(e)}},"./node_modules/md5/md5.js":function(e,t,n){var a,s,r,l,u;a=n("./node_modules/crypt/crypt.js"),s=n("./node_modules/charenc/charenc.js").utf8,r=n("./node_modules/is-buffer/index.js"),l=n("./node_modules/charenc/charenc.js").bin,(u=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?l.stringToBytes(e):s.stringToBytes(e):r(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=a.bytesToWords(e),f=8*e.length,_=1732584193,b=-271733879,h=-1732584194,v=271733878,g=0;g<n.length;g++)n[g]=16711935&(n[g]<<8|n[g]>>>24)|4278255360&(n[g]<<24|n[g]>>>8);n[f>>>5]|=128<<f%32,n[14+(f+64>>>9<<4)]=f;var O=u._ff,j=u._gg,y=u._hh,w=u._ii;for(g=0;g<n.length;g+=16){var k=_,E=b,T=h,N=v;_=O(_,b,h,v,n[g+0],7,-680876936),v=O(v,_,b,h,n[g+1],12,-389564586),h=O(h,v,_,b,n[g+2],17,606105819),b=O(b,h,v,_,n[g+3],22,-1044525330),_=O(_,b,h,v,n[g+4],7,-176418897),v=O(v,_,b,h,n[g+5],12,1200080426),h=O(h,v,_,b,n[g+6],17,-1473231341),b=O(b,h,v,_,n[g+7],22,-45705983),_=O(_,b,h,v,n[g+8],7,1770035416),v=O(v,_,b,h,n[g+9],12,-1958414417),h=O(h,v,_,b,n[g+10],17,-42063),b=O(b,h,v,_,n[g+11],22,-1990404162),_=O(_,b,h,v,n[g+12],7,1804603682),v=O(v,_,b,h,n[g+13],12,-40341101),h=O(h,v,_,b,n[g+14],17,-1502002290),_=j(_,b=O(b,h,v,_,n[g+15],22,1236535329),h,v,n[g+1],5,-165796510),v=j(v,_,b,h,n[g+6],9,-1069501632),h=j(h,v,_,b,n[g+11],14,643717713),b=j(b,h,v,_,n[g+0],20,-373897302),_=j(_,b,h,v,n[g+5],5,-701558691),v=j(v,_,b,h,n[g+10],9,38016083),h=j(h,v,_,b,n[g+15],14,-660478335),b=j(b,h,v,_,n[g+4],20,-405537848),_=j(_,b,h,v,n[g+9],5,568446438),v=j(v,_,b,h,n[g+14],9,-1019803690),h=j(h,v,_,b,n[g+3],14,-187363961),b=j(b,h,v,_,n[g+8],20,1163531501),_=j(_,b,h,v,n[g+13],5,-1444681467),v=j(v,_,b,h,n[g+2],9,-51403784),h=j(h,v,_,b,n[g+7],14,1735328473),_=y(_,b=j(b,h,v,_,n[g+12],20,-1926607734),h,v,n[g+5],4,-378558),v=y(v,_,b,h,n[g+8],11,-2022574463),h=y(h,v,_,b,n[g+11],16,1839030562),b=y(b,h,v,_,n[g+14],23,-35309556),_=y(_,b,h,v,n[g+1],4,-1530992060),v=y(v,_,b,h,n[g+4],11,1272893353),h=y(h,v,_,b,n[g+7],16,-155497632),b=y(b,h,v,_,n[g+10],23,-1094730640),_=y(_,b,h,v,n[g+13],4,681279174),v=y(v,_,b,h,n[g+0],11,-358537222),h=y(h,v,_,b,n[g+3],16,-722521979),b=y(b,h,v,_,n[g+6],23,76029189),_=y(_,b,h,v,n[g+9],4,-640364487),v=y(v,_,b,h,n[g+12],11,-421815835),h=y(h,v,_,b,n[g+15],16,530742520),_=w(_,b=y(b,h,v,_,n[g+2],23,-995338651),h,v,n[g+0],6,-198630844),v=w(v,_,b,h,n[g+7],10,1126891415),h=w(h,v,_,b,n[g+14],15,-1416354905),b=w(b,h,v,_,n[g+5],21,-57434055),_=w(_,b,h,v,n[g+12],6,1700485571),v=w(v,_,b,h,n[g+3],10,-1894986606),h=w(h,v,_,b,n[g+10],15,-1051523),b=w(b,h,v,_,n[g+1],21,-2054922799),_=w(_,b,h,v,n[g+8],6,1873313359),v=w(v,_,b,h,n[g+15],10,-30611744),h=w(h,v,_,b,n[g+6],15,-1560198380),b=w(b,h,v,_,n[g+13],21,1309151649),_=w(_,b,h,v,n[g+4],6,-145523070),v=w(v,_,b,h,n[g+11],10,-1120210379),h=w(h,v,_,b,n[g+2],15,718787259),b=w(b,h,v,_,n[g+9],21,-343485551),_=_+k>>>0,b=b+E>>>0,h=h+T>>>0,v=v+N>>>0}return a.endian([_,b,h,v])})._ff=function(e,t,n,a,s,r,l){var u=e+(t&n|~t&a)+(s>>>0)+l;return(u<<r|u>>>32-r)+t},u._gg=function(e,t,n,a,s,r,l){var u=e+(t&a|n&~a)+(s>>>0)+l;return(u<<r|u>>>32-r)+t},u._hh=function(e,t,n,a,s,r,l){var u=e+(t^n^a)+(s>>>0)+l;return(u<<r|u>>>32-r)+t},u._ii=function(e,t,n,a,s,r,l){var u=e+(n^(t|~a))+(s>>>0)+l;return(u<<r|u>>>32-r)+t},u._blocksize=16,u._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=a.wordsToBytes(u(e,t));return t&&t.asBytes?n:t&&t.asString?l.bytesToString(n):a.bytesToHex(n)}},"./node_modules/regenerator-runtime/runtime.js":function(e,t,n){var a=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},r=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(w){define=function(e,t,n){return e[t]=n}}function wrap(e,t,n,a){var s=t&&t.prototype instanceof Generator?t:Generator,r=Object.create(s.prototype),l=new Context(a||[]);return r._invoke=function makeInvokeMethod(e,t,n){var a=f;return function invoke(s,r){if(a===b)throw new Error("Generator is already running");if(a===h){if("throw"===s)throw r;return doneResult()}for(n.method=s,n.arg=r;;){var l=n.delegate;if(l){var u=maybeInvokeDelegate(l,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=b;var g=tryCatch(e,t,n);if("normal"===g.type){if(a=n.done?h:_,g.arg===v)continue;return{value:g.arg,done:n.done}}"throw"===g.type&&(a=h,n.method="throw",n.arg=g.arg)}}}(e,n,l),r}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(w){return{type:"throw",arg:w}}}e.wrap=wrap;var f="suspendedStart",_="suspendedYield",b="executing",h="completed",v={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var g={};g[r]=function(){return this};var O=Object.getPrototypeOf,j=O&&O(O(values([])));j&&j!==n&&a.call(j,r)&&(g=j);var y=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(g);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,s,r,l){var u=tryCatch(e[n],e,s);if("throw"!==u.type){var f=u.arg,_=f.value;return _&&"object"==typeof _&&a.call(_,"__await")?t.resolve(_.__await).then((function(e){invoke("next",e,r,l)}),(function(e){invoke("throw",e,r,l)})):t.resolve(_).then((function(e){f.value=e,r(f)}),(function(e){return invoke("throw",e,r,l)}))}l(u.arg)}var n;this._invoke=function enqueue(e,a){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,a,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,maybeInvokeDelegate(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var s=tryCatch(a,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,v;var r=s.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,l=function next(){for(;++s<e.length;)if(a.call(e,s))return next.value=e[s],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}return{next:doneResult}}function doneResult(){return{value:t,done:!0}}return GeneratorFunction.prototype=y.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,u,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[l]=function(){return this},e.AsyncIterator=AsyncIterator,e.async=function(t,n,a,s,r){void 0===r&&(r=Promise);var l=new AsyncIterator(wrap(t,n,a,s),r);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},defineIteratorMethods(y),define(y,u,"Generator"),y[r]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function next(){for(;t.length;){var n=t.pop();if(n in e)return next.value=n,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function handle(a,s){return l.type="throw",l.arg=e,n.next=a,s&&(n.method="next",n.arg=t),!!s}for(var s=this.tryEntries.length-1;s>=0;--s){var r=this.tryEntries[s],l=r.completion;if("root"===r.tryLoc)return handle("end");if(r.tryLoc<=this.prev){var u=a.call(r,"catchLoc"),f=a.call(r,"finallyLoc");if(u&&f){if(this.prev<r.catchLoc)return handle(r.catchLoc,!0);if(this.prev<r.finallyLoc)return handle(r.finallyLoc)}else if(u){if(this.prev<r.catchLoc)return handle(r.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return handle(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&a.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var l=r?r.completion:{};return l.type=e,l.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var s=a.arg;resetTryEntry(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:values(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=a}catch(s){Function("r","regeneratorRuntime = r")(a)}},"./node_modules/svelte/shared.js":function(e,t,n){"use strict";n.d(t,"g",(function(){return blankObject})),n.d(t,"a",(function(){return _differs})),n.d(t,"b",(function(){return _differsImmutable})),n.d(t,"r",(function(){return fire})),n.d(t,"s",(function(){return flush})),n.d(t,"t",(function(){return get})),n.d(t,"v",(function(){return init})),n.d(t,"y",(function(){return on})),n.d(t,"C",(function(){return removeFromStore})),n.d(t,"z",(function(){return u})),n.d(t,"d",(function(){return append})),n.d(t,"w",(function(){return insert})),n.d(t,"q",(function(){return detachNode})),n.d(t,"p",(function(){return detachBetween})),n.d(t,"o",(function(){return detachBefore})),n.d(t,"n",(function(){return detachAfter})),n.d(t,"A",(function(){return reinsertAfter})),n.d(t,"B",(function(){return reinsertBefore})),n.d(t,"m",(function(){return destroyEach})),n.d(t,"j",(function(){return createFragment})),n.d(t,"i",(function(){return createElement})),n.d(t,"k",(function(){return createText})),n.d(t,"h",(function(){return createComment})),n.d(t,"c",(function(){return addListener})),n.d(t,"D",(function(){return removeListener})),n.d(t,"E",(function(){return setAttribute})),n.d(t,"F",(function(){return setData})),n.d(t,"G",(function(){return setStyle})),n.d(t,"l",(function(){return destroyBlock})),n.d(t,"H",(function(){return updateKeyedEach})),n.d(t,"I",(function(){return wrapTransition})),n.d(t,"u",(function(){return groupOutros})),n.d(t,"x",(function(){return noop})),n.d(t,"e",(function(){return assign})),n.d(t,"f",(function(){return assignTrue}));var a=n("./node_modules/@babel/runtime/helpers/typeof.js"),s=n.n(a);n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),n("./node_modules/@babel/runtime/helpers/defineProperty.js");function noop(){}function assign(e,t){for(var n in t)e[n]=t[n];return e}function assignTrue(e,t){for(var n in t)e[n]=1;return e}function run(e){e()}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n)}function detachNode(e){e.parentNode.removeChild(e)}function detachBetween(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function detachBefore(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}function detachAfter(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function reinsertAfter(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}function reinsertBefore(e,t){for(var n=e.parentNode;n.firstChild!==e;)t.appendChild(n.firstChild)}function destroyEach(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function createFragment(){return document.createDocumentFragment()}function createElement(e){return document.createElement(e)}function createText(e){return document.createTextNode(e)}function createComment(){return document.createComment("")}function addListener(e,t,n,a){e.addEventListener(t,n,a)}function removeListener(e,t,n,a){e.removeEventListener(t,n,a)}function setAttribute(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function setData(e,t){e.data=""+t}function setStyle(e,t,n){e.style.setProperty(t,n)}function linear(e){return e}function generateRule(e,t,n){for(var a=e.a,s=e.b,r=e.delta,l=16.666/e.duration,u="{\n",f=0;f<=1;f+=l){var _=a+r*t(f);u+=100*f+"%{".concat(n(_,1-_),"}\n")}return u+"100% {".concat(n(s,1-s),"}\n}")}function hash(e){for(var t=5381,n=e.length;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function wrapTransition(e,t,n,a,s){var u,f,_,b=n.call(e,t,a),h=!1;return{t:s?0:1,running:!1,program:null,pending:null,run:function run(e,t){var n=this;"function"==typeof b?l.wait().then((function(){b=b(),n._run(e,t)})):this._run(e,t)},_run:function _run(e,n){u=b.duration||300,f=b.easing||linear;var a={start:window.performance.now()+(b.delay||0),b:e,callback:n||noop};s&&!h&&(b.css&&b.delay&&(_=t.style.cssText,t.style.cssText+=b.css(0,1)),b.tick&&b.tick(0,1),h=!0),e||(a.group=r.current,r.current.remaining+=1),b.delay?this.pending=a:this.start(a),this.running||(this.running=!0,l.add(this))},start:function start(n){if(e.fire("".concat(n.b?"intro":"outro",".start"),{node:t}),n.a=this.t,n.delta=n.b-n.a,n.duration=u*Math.abs(n.b-n.a),n.end=n.start+n.duration,b.css){b.delay&&(t.style.cssText=_);var a=generateRule(n,f,b.css);l.addRule(a,n.name="__svelte_"+hash(a)),t.style.animation=(t.style.animation||"").split(", ").filter((function(e){return e&&(n.delta<0||!/__svelte/.test(e))})).concat("".concat(n.name," ").concat(n.duration,"ms linear 1 forwards")).join(", ")}this.program=n,this.pending=null},update:function update(e){var t=this.program;if(t){var n=e-t.start;this.t=t.a+t.delta*f(n/t.duration),b.tick&&b.tick(this.t,1-this.t)}},done:function done(){var n=this.program;this.t=n.b,b.tick&&b.tick(this.t,1-this.t),e.fire("".concat(n.b?"intro":"outro",".end"),{node:t}),n.b||n.invalidated?b.css&&l.deleteRule(t,n.name):(n.group.callbacks.push((function(){n.callback(),b.css&&l.deleteRule(t,n.name)})),0==--n.group.remaining&&n.group.callbacks.forEach(run)),this.running=!!this.pending},abort:function abort(e){this.program&&(e&&b.tick&&b.tick(1,0),b.css&&l.deleteRule(t,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate:function invalidate(){this.program&&(this.program.invalidated=!0)}}}var r={};function groupOutros(){r.current={remaining:0,callbacks:[]}}var l={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add:function add(e){this.transitions.push(e),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function addRule(e,t){if(!this.stylesheet){var n=createElement("style");document.head.appendChild(n),l.stylesheet=n.sheet}this.activeRules[t]||(this.activeRules[t]=!0,this.stylesheet.insertRule("@keyframes ".concat(t," ").concat(e),this.stylesheet.cssRules.length))},next:function next(){this.running=!1;for(var e=window.performance.now(),t=this.transitions.length;t--;){var n=this.transitions[t];n.program&&e>=n.program.end&&n.done(),n.pending&&e>=n.pending.start&&n.start(n.pending),n.running?(n.update(e),this.running=!0):n.pending||this.transitions.splice(t,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(var a=this.stylesheet.cssRules.length;a--;)this.stylesheet.deleteRule(a);this.activeRules={}}},deleteRule:function deleteRule(e,t){e.style.animation=e.style.animation.split(", ").filter((function(e){return e&&-1===e.indexOf(t)})).join(", ")},wait:function wait(){return l.promise||(l.promise=Promise.resolve(),l.promise.then((function(){l.promise=null}))),l.promise}};function destroyBlock(e,t){e.d(1),t[e.key]=null}function updateKeyedEach(e,t,n,a,s,r,l,u,f,_,b,h,v,g){for(var O=e.length,j=l.length,y=O,w={};y--;)w[e[y].key]=y;var k=[],E={},T={};for(y=j;y--;){var N=g(r,l,y),C=a(N),S=u[C];S?s&&S.p(n,N):(S=b(t,C,N)).c(),k[y]=E[C]=S,C in w&&(T[C]=Math.abs(y-w[C]))}var A={},L={};function insert(e){e[h](f,v),u[e.key]=e,v=e.first,j--}for(;O&&j;){var P=k[j-1],M=e[O-1],I=P.key,x=M.key;P===M?(v=P.first,O--,j--):E[x]?!u[I]||A[I]?insert(P):L[x]?O--:T[I]>T[x]?(L[I]=!0,insert(P)):(A[x]=!0,O--):(_(M,u),O--)}for(;O--;){E[(M=e[O]).key]||_(M,u)}for(;j;)insert(k[j-1]);return k}function blankObject(){return Object.create(null)}function destroy(e){this.destroy=noop,this.fire("destroy"),this.set=noop,this._fragment.d(!1!==e),this._fragment=null,this._state={}}function _differs(e,t){return e!=e?t==t:e!==t||e&&"object"===s()(e)||"function"==typeof e}function _differsImmutable(e,t){return e!=e?t==t:e!==t}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var a=0;a<n.length;a+=1){var s=n[a];if(!s.__calling)try{s.__calling=!0,s.call(this,t)}finally{s.__calling=!1}}}function flush(e){e._lock=!0,callAll(e._beforecreate),callAll(e._oncreate),callAll(e._aftercreate),e._lock=!1}function get(){return this._state}function init(e,t){e._handlers=blankObject(),e._slots=blankObject(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function on(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function cancel(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function set(e){this._set(assign({},e)),this.root._lock||flush(this.root)}function _set(e){var t=this._state,n={},a=!1;for(var s in e=assign(this._staged,e),this._staged={},e)this._differs(e[s],t[s])&&(n[s]=a=!0);a&&(this._state=assign(assign({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))}function _stage(e){assign(this._staged,e)}function callAll(e){for(;e&&e.length;)e.shift()()}function _mount(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)}function removeFromStore(){this.store._remove(this)}var u={destroy:destroy,get:get,fire:fire,on:on,set:set,_recompute:noop,_set:_set,_stage:_stage,_mount:_mount,_differs:_differs}},"./node_modules/svelte/store.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Store}));var a=n("./node_modules/svelte/shared.js");function Store(e,t){this._handlers={},this._dependents=[],this._computed=Object(a.g)(),this._sortedComputedProperties=[],this._state=Object(a.e)({},e),this._differs=t&&t.immutable?a.b:a.a}Object(a.e)(Store.prototype,{_add:function _add(e,t){this._dependents.push({component:e,props:t})},_init:function _init(e){for(var t={},n=0;n<e.length;n+=1){var a=e[n];t["$"+a]=this._state[a]}return t},_remove:function _remove(e){for(var t=this._dependents.length;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set:function _set(e,t){var n=this,s=this._state;this._state=Object(a.e)(Object(a.e)({},s),e);for(var r=0;r<this._sortedComputedProperties.length;r+=1)this._sortedComputedProperties[r].update(this._state,t);this.fire("state",{changed:t,previous:s,current:this._state}),this._dependents.filter((function(e){for(var a={},s=!1,r=0;r<e.props.length;r+=1){var l=e.props[r];l in t&&(a["$"+l]=n._state[l],s=!0)}if(s)return e.component._stage(a),!0})).forEach((function(e){e.component.set({})})),this.fire("update",{changed:t,previous:s,current:this._state})},_sortComputedProperties:function _sortComputedProperties(){var e,t=this._computed,n=this._sortedComputedProperties=[],s=Object(a.g)();function visit(a){var r=t[a];r&&(r.deps.forEach((function(t){if(t===e)throw new Error("Cyclical dependency detected between ".concat(t," <-> ").concat(a));visit(t)})),s[a]||(s[a]=!0,n.push(r)))}for(var r in this._computed)visit(e=r)},compute:function compute(e,t,n){var s,r=this,l={deps:t,update:function update(a,l,u){var f=t.map((function(e){return e in l&&(u=!0),a[e]}));if(u){var _=n.apply(null,f);r._differs(_,s)&&(s=_,l[e]=!0,a[e]=s)}}};this._computed[e]=l,this._sortComputedProperties();var u=Object(a.e)({},this._state),f={};l.update(u,f,!0),this._set(u,f)},fire:a.r,get:a.t,on:a.y,set:function set(e){var t=this._state,n=this._changed={},a=!1;for(var s in e){if(this._computed[s])throw new Error("'".concat(s,"' is a read-only computed property"));this._differs(e[s],t[s])&&(n[s]=a=!0)}a&&this._set(e,n)}})},"./node_modules/url-search-params-polyfill/index.js":function(e,t,n){(function(e){!function(e){"use strict";var t,n=e.URLSearchParams?e.URLSearchParams:null,a=n&&"a=1"===new n({a:1}).toString(),s=n&&"+"===new n("s=%2B").get("s"),r=!n||((t=new n).append("s"," &"),"s=+%26"===t.toString()),l=URLSearchParamsPolyfill.prototype,u=!(!e.Symbol||!e.Symbol.iterator);if(!(n&&a&&s&&r)){l.append=function(e,t){appendTo(this.__URLSearchParams__,e,t)},l.delete=function(e){delete this.__URLSearchParams__[e]},l.get=function(e){var t=this.__URLSearchParams__;return e in t?t[e][0]:null},l.getAll=function(e){var t=this.__URLSearchParams__;return e in t?t[e].slice(0):[]},l.has=function(e){return e in this.__URLSearchParams__},l.set=function set(e,t){this.__URLSearchParams__[e]=[""+t]},l.toString=function(){var e,t,n,a,s=this.__URLSearchParams__,r=[];for(t in s)for(n=encode(t),e=0,a=s[t];e<a.length;e++)r.push(n+"="+encode(a[e]));return r.join("&")};var f=!!s&&n&&!a&&e.Proxy;e.URLSearchParams=f?new Proxy(n,{construct:function(e,t){return new e(new URLSearchParamsPolyfill(t[0]).toString())}}):URLSearchParamsPolyfill;var _=e.URLSearchParams.prototype;_.polyfill=!0,_.forEach=_.forEach||function(e,t){var n=parseToDict(this.toString());Object.getOwnPropertyNames(n).forEach((function(a){n[a].forEach((function(n){e.call(t,n,a,this)}),this)}),this)},_.sort=_.sort||function(){var e,t,n,a=parseToDict(this.toString()),s=[];for(e in a)s.push(e);for(s.sort(),t=0;t<s.length;t++)this.delete(s[t]);for(t=0;t<s.length;t++){var r=s[t],l=a[r];for(n=0;n<l.length;n++)this.append(r,l[n])}},_.keys=_.keys||function(){var e=[];return this.forEach((function(t,n){e.push(n)})),makeIterator(e)},_.values=_.values||function(){var e=[];return this.forEach((function(t){e.push(t)})),makeIterator(e)},_.entries=_.entries||function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),makeIterator(e)},u&&(_[e.Symbol.iterator]=_[e.Symbol.iterator]||_.entries)}function URLSearchParamsPolyfill(e){((e=e||"")instanceof URLSearchParams||e instanceof URLSearchParamsPolyfill)&&(e=e.toString()),this.__URLSearchParams__=parseToDict(e)}function encode(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function decode(e){return decodeURIComponent(e.replace(/\+/g," "))}function makeIterator(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return u&&(n[e.Symbol.iterator]=function(){return n}),n}function parseToDict(e){var t={};if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&appendTo(t,n,e[n]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var a=e.split("&"),s=0;s<a.length;s++){var r=a[s],l=r.indexOf("=");-1<l?appendTo(t,decode(r.slice(0,l)),decode(r.slice(l+1))):r&&appendTo(t,decode(r),"")}}return t}function appendTo(e,t,n){var a="string"==typeof n?n:null!=n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);t in e?e[t].push(a):e[t]=[a]}}(void 0!==e?e:"undefined"!=typeof window?window:this)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(e,t,n){e.exports=n("dll-reference amplitudeDLL")("./node_modules/webpack/buildin/global.js")},"./node_modules/webpack/buildin/harmony-module.js":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"./utils/amplitude/logger.js":function(e,t,n){"use strict";var a=n("./utils/iterable/service.js"),s=n("./node_modules/amplitude-js/amplitude.js"),r=n.n(s);var l=function createBaseFor(e){return function(t,n,a){for(var s=-1,r=Object(t),l=a(t),u=l.length;u--;){var f=l[e?u:++s];if(!1===n(r[f],f,r))break}return t}}();var u=function baseTimes(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a},f=n("./node_modules/lodash-es/_baseGetTag.js"),_=n("./node_modules/lodash-es/isObjectLike.js");var b=function baseIsArguments(e){return Object(_.a)(e)&&"[object Arguments]"==Object(f.a)(e)},h=Object.prototype,v=h.hasOwnProperty,g=h.propertyIsEnumerable,O=b(function(){return arguments}())?b:function(e){return Object(_.a)(e)&&v.call(e,"callee")&&!g.call(e,"callee")},j=n("./node_modules/lodash-es/isArray.js"),y=n("./node_modules/lodash-es/isBuffer.js"),w=/^(?:0|[1-9]\d*)$/;var k=function isIndex(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&w.test(e))&&e>-1&&e%1==0&&e<t};var E=function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object Boolean]"]=T["[object DataView]"]=T["[object Date]"]=T["[object Error]"]=T["[object Function]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object WeakMap]"]=!1;var N=function baseIsTypedArray(e){return Object(_.a)(e)&&E(e.length)&&!!T[Object(f.a)(e)]};var C=function baseUnary(e){return function(t){return e(t)}},S=n("./node_modules/lodash-es/_nodeUtil.js"),A=S.a&&S.a.isTypedArray,L=A?C(A):N,P=Object.prototype.hasOwnProperty;var M=function arrayLikeKeys(e,t){var n=Object(j.a)(e),a=!n&&O(e),s=!n&&!a&&Object(y.a)(e),r=!n&&!a&&!s&&L(e),l=n||a||s||r,f=l?u(e.length,String):[],_=f.length;for(var b in e)!t&&!P.call(e,b)||l&&("length"==b||s&&("offset"==b||"parent"==b)||r&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||k(b,_))||f.push(b);return f},I=Object.prototype;var x=function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||I)};var D=function overArg(e,t){return function(n){return e(t(n))}}(Object.keys,Object),R=Object.prototype.hasOwnProperty;var U=function baseKeys(e){if(!x(e))return D(e);var t=[];for(var n in Object(e))R.call(e,n)&&"constructor"!=n&&t.push(n);return t},z=n("./node_modules/lodash-es/isObject.js");var F=function isFunction(e){if(!Object(z.a)(e))return!1;var t=Object(f.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var $=function isArrayLike(e){return null!=e&&E(e.length)&&!F(e)};var H=function keys(e){return $(e)?M(e):U(e)};var G=function baseForOwn(e,t){return e&&l(e,t,H)};var q=function identity(e){return e};var B=function castFunction(e){return"function"==typeof e?e:q};var W=function forOwn(e,t){return e&&G(e,B(t))},V={init:function init(){if(V.initialized)return!0;var e=window.context||{};return r.a.getInstance().init(e.amplitudeKey,null,{includeUtm:!0,includeReferrer:!0,includeGclid:!0}),null!=e&&null!=e.user&&r.a.getInstance().setUserId(e.user.id),V.initialized=!0,!0},logEvent:function logEvent(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;V.init()?(V.setUserProperties(n),V.incrementUserProperties(a),r.a.getInstance().logEvent(e,t||{})):s<3&&setTimeout((function(){V.logEvent(e,t,n,a,s+1)}),1e3)},setUserProperties:function setUserProperties(e){V.init()&&null!=e&&r.a.getInstance().setUserProperties(e)},incrementUserProperties:function incrementUserProperties(e){if(V.init()&&null!=e){var t=new r.a.Identify;W(e,(function(e,n){t.add(n,e)})),r.a.getInstance().identify(t)}},logSocialShare:function logSocialShare(){V.logEvent("Social - SocialShare",null,null,{numSocialShares:1})},logOnboardChangeAvatar:function logOnboardChangeAvatar(e){V.logEvent("Onboard - Avatar",null,{hasAvatar:e})},logOnboardChangeTheme:function logOnboardChangeTheme(e){V.logEvent("Onboard - Theme",null,{themeName:e})},logAccountClose:function logAccountClose(e){V.logEvent("User - AccountClose",e)},logStartCheckout:function logStartCheckout(e){var t="Upgrade - Checkout";V.logEvent(t,e),Object(a.a)(t,e)},logSubmitPayment:function logSubmitPayment(e){V.logEvent("Upgrade - SubmitPayment",{auth:e})},logAccountDowngrade:function logAccountDowngrade(e,t){var n="Upgrade - Cancel";V.logEvent(n,e,t),Object(a.a)(n,e)},logAccountDowngradeTrial:function logAccountDowngradeTrial(e,t){var n="Upgrade - CancelTrial";V.logEvent(n,e,t),Object(a.a)(n,e)},logVideoComplete:function logVideoComplete(e,t,n,a){V.logEvent("Videos - Complete",{skillLevels:e,category:t,title:n,author:a})},logVideoStart:function logVideoStart(e,t,n,a){V.logEvent("Videos - Start",{skillLevels:e,category:t,title:n,author:a},null,{numVideos:1})}};t.a=V},"./utils/browser.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return b}));window.location.pathname,function getWindowTitle(){encodeURIComponent(window.document.title)}(),function getWindowLocation(){encodeURIComponent(window.location.href)}();window.chessBrowserChecker={};var a={chrome:"Chrome",edge:"edge",firefox:"Firefox",ie:"IE",safari:"Safari",waterfox:"Waterfox"},s={chrome:74,edge:79,firefox:60,ie:12,safari:12,waterfox:56},r=function sendEmail(e,t){window.location.href="mailto:?".concat(e,"&").concat(t)},l=function version(e,t){return t.appVersion.indexOf(e)>-1},u=function isEdge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return null!==e.match(/Edg/)},f=function getBrowser(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(u(t)){var s=t.indexOf("Edg"),r=4;t.match("Edge/")&&(r=5);var l=s+r,f=parseInt(t.substring(l,t.indexOf(".",l)),10);return{name:"Edge",version:parseInt(f,10)}}if(/trident/i.test(n[1]))return e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:parseInt(e[1]||-1,10)};if(n[1]===a.chrome&&null!=(e=t.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:parseInt(e[1],10)};if(n[1]===a.firefox){var _=t.match(/(waterfox(?=\/))\/?\s*(\d+)/i)||[];if(_[1]===a.waterfox)return{name:_[1],version:parseInt(_[2],10)}}return(n=n[2]?[n[1],n[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"])[0]===a.safari&&null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),"MSIE"===n[0]?{name:a.ie,version:parseInt(n[1],10)}:{name:n[0],version:parseInt(n[1],10)}},_=function getWindowsVersion(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator;return l("NT",e)?l("Windows NT 5.1",e)||l("Windows NT 6.0",e)?6:l("Windows NT 6.1",e)?7:l("Windows NT 6.2",e)||l("Windows NT 6.3",e)?8:10:-1},b=function isOldBrowser(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,t=f(e);return null!=t.name&&0!==t.name.length&&Object.keys(a).some((function(e){return t.name.toLowerCase()===a[e].toLowerCase()&&t.version<s[e]}))}},"./utils/cache/service.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(a),r=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(r);var u=function(){function CacheProvider(){s()(this,CacheProvider),this.enabled=function localStorageWorks(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}()}return l()(CacheProvider,[{key:"get",value:function get(e){return JSON.parse(localStorage.getItem(e))}},{key:"set",value:function set(e,t){localStorage.setItem(e,JSON.stringify(t))}}]),CacheProvider}(),f=function(){function CacheService(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,CacheService),this.cache=new u,this.cacheKey=e,this.memory=t}return l()(CacheService,[{key:"get",value:function get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.memory[e]?this.memory[e]:this.ready?(this.pull(),void 0!==this.memory[e]?this.memory[e]:t):t}},{key:"pull",value:function pull(){return this.memory=this.cache.get(this.cacheKey)||{},this}},{key:"push",value:function push(){return this.cache.set(this.cacheKey,this.memory),this}},{key:"remove",value:function remove(e){return this.ready?(this.pull(),void 0===this.memory[e]?this:(delete this.memory[e],this.push())):this}},{key:"set",value:function set(e,t){return this.ready?(this.pull(),this.memory[e]=t,this.push()):this}},{key:"ready",get:function get(){return!1!==this.cache.enabled}}]),CacheService}();t.a=new f("json_settings")},"./utils/common/debounce.js":function(e,t,n){"use strict";var a=n("./node_modules/lodash-es/debounce.js");t.a=a.a},"./utils/dark-mode.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var a="dark-mode",s=function getIsDarkMode(){return document.body.classList.contains(a)},r=(s(),function setDarkMode(e){return e?document.body.classList.add(a):document.body.classList.remove(a)})},"./utils/dom/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(a),r=(n("./web/core/api/content/config.js"),"icon-background"),l="icon-component",u="icon-component-shadow",f="icon-shadow",_='\n  <path class="'.concat(f,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(r,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path d="M9 3.72a.48.48 0 0 0-.44.3L7.24 7.46l-3.68.19a.48.48 0 0 0-.27.84l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56 2.86-2.32a.48.48 0 0 0-.27-.84l-3.68-.19L9.44 4A.48.48 0 0 0 9 3.72z" opacity=".1"/>\n  <path d="M9 3.22a.48.48 0 0 0-.44.3L7.24 7l-3.68.19a.48.48 0 0 0-.27.81l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56L14.71 8a.48.48 0 0 0-.27-.84L10.76 7 9.44 3.52a.48.48 0 0 0-.44-.3z" fill="#fff"/>\n'),b='\n  <path class="'.concat(f,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(r,'" fill="#a88865" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(u,'" opacity=".3" d="M8.4,6c-1-.75-2.52-1.09-4.83-1.09H2.49v8.71H3.57A8.13,8.13,0,0,1,8.4,14.76Z"/>\n  <path class="').concat(u,'" opacity=".3" d="M9.49,14.76a8.14,8.14,0,0,1,4.84-1.17h1.08V4.88H14.33C12,4.88,10.52,5.22,9.49,6Z"/>\n  <path class="').concat(l,'" fill="#fff" d="M8.4,5.47c-1-.75-2.52-1.09-4.83-1.09H3v8.71h.58A8.13,8.13,0,0,1,8.4,14.26Z"/>\n  <path class="').concat(l,'" fill="#fff" d="M9.49,14.26a8.14,8.14,0,0,1,4.84-1.17h.58V4.38h-.58c-2.32,0-3.81.34-4.84,1.09Z"/>\n'),h='\n  <path class="'.concat(f,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(r,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <g class="').concat(u,'" opacity=".2">\n    <path d="M14.68 5.48a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.19 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.66a.45.45 0 0 0 .19 0l.11-.09a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .42-.23 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .65-.64A4.62 4.62 0 0 0 14 9a5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1 2.76 2.76 0 0 0-.31-1.19zM12.3 12.72h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.06zM6.68 12.72H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.06zM8.28 4.56A3.63 3.63 0 0 0 7.19 4 3.86 3.86 0 0 0 6 3.81 3.78 3.78 0 0 0 4.79 4a6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41l1 1.21a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.09a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.52.53 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7 8.22 8.22 0 0 1 .66-.64A5.68 5.68 0 0 0 8.36 9a7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.11z"/>\n  </g>\n  <path class="').concat(l,'" fill="#fff" d="M14.68 5a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.17 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.16a.45.45 0 0 0 .19 0l.09-.16a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .44-.16 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .62-.66 4.62 4.62 0 0 0 .54-.46 5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1A2.76 2.76 0 0 0 14.68 5zM12.3 12.22h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.09zM6.68 12.22H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.09zM8.28 4.06a3.63 3.63 0 0 0-1.09-.56A3.86 3.86 0 0 0 6 3.31a3.78 3.78 0 0 0-1.2.17 6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41L4.09 6a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.07a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.48.57 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7A8.22 8.22 0 0 1 7.84 9a5.68 5.68 0 0 0 .52-.48 7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.13z"/>\n'),v='\n  <path class="'.concat(f,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(r,'" fill="#1baca6" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(u,'" opacity=".2" d="M12.57,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,4.15A.42.42,0,0,1,10,3.91a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="').concat(l,'" fill="#fff" d="M12.57,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,3.65A.42.42,0,0,1,10,3.41a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="').concat(u,'" opacity=".2" d="M8.07,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.92a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,4.15a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="').concat(l,'" fill="#fff" d="M8.07,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.42a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,3.65a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n'),g='\n  <path class="'.concat(f,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(r,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path class="').concat(u,'" d="M15.11 6.81l-5.66 5.66-1.66 1.65a.38.38 0 0 1-.55 0L2.89 9.78a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0l2.69 2.69 5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .55z" opacity=".2"/>\n  <path class="').concat(l,'" d="M15.11 6.31L9.45 12l-1.66 1.62a.38.38 0 0 1-.55 0L2.89 9.28a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0L7.52 10l5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .58z" fill="#fff"/>\n'),O='\n  <path class="'.concat(f,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(r,'" fill="#5a9ac0" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(u,'" opacity=".2" d="M15,6.8,7.81,14a.38.38,0,0,1-.55,0L3,9.73a.41.41,0,0,1,0-.55L4.36,7.81a.4.4,0,0,1,.54,0l2.63,2.64L13.1,4.9a.38.38,0,0,1,.55,0L15,6.25A.38.38,0,0,1,15,6.8Z"/>\n  <path class="').concat(l,'" fill="#ffffff" d="M15,6.3,7.81,13.49a.38.38,0,0,1-.55,0L3,9.23a.41.41,0,0,1,0-.55L4.36,7.31a.4.4,0,0,1,.54,0L7.53,10,13.1,4.4a.38.38,0,0,1,.55,0L15,5.75A.38.38,0,0,1,15,6.3Z"/>\n'),j='\n  <path class="'.concat(f,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z" />\n  <path class="').concat(r,'" fill="#95bb4a" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z" />\n  <path class="').concat(u,'" opacity=".1"\n    d="M4.44,5.41v7.68a1,1,0,0,0,1,1h7.68a1,1,0,0,0,1-1V5.41a1,1,0,0,0-1-1H5.41A1,1,0,0,0,4.44,5.41ZM12,12H6.53V6.53H12Z" />\n  <path class="').concat(l,'" fill="#ffffff"\n    d="M4.19,5.16v7.68a1,1,0,0,0,1,1h7.68a1,1,0,0,0,1-1V5.16a1,1,0,0,0-1-1H5.16A1,1,0,0,0,4.19,5.16Zm7.53,6.56H6.28V6.28h5.44Z" />\n'),y='\n  <path class="'.concat(f,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(r,'" fill="#a09f9e" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(l,'" fill="#fff" d="M9,2.5A6.5,6.5,0,1,0,15.5,9,6.5,6.5,0,0,0,9,2.5Z"/>\n  <path class="').concat(r,'" fill="#a09f9e" d="M9,5a4,4,0,1,0,4,4A4,4,0,0,0,9,5Z"/>\n  <path class="').concat(l,'" fill="#fff" d="M9,7.5A1.5,1.5,0,1,0,10.5,9,1.5,1.5,0,0,0,9,7.5Z"/>\n'),w='\n  <path class="'.concat(f,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(r,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#f0c15c"/>\n  <path class="').concat(u,'" opacity=".3" d="M13.51 14.85a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24V13a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="').concat(l,'" fill="#fff" d="M13.51 14.35a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24v-1.9a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="').concat(u,'" opacity=".3" d="M7.5 14.87a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.48 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.67a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.13l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38A6.65 6.65 0 0 1 5.29 4a3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.17 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.06 2.19 3.1 3.1 0 0 1-.13.96z"/>\n  <path class="').concat(l,'" fill="#fff" d="M7.5 14.37a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.46 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.17a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.31.16l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.15l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38 6.65 6.65 0 0 1 .9-.37 3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.19 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.1 2.23 3.1 3.1 0 0 1-.13.96z"/>\n'),k='\n  <path class="'.concat(f,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(r,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <path class="').concat(u,'" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="').concat(l,'" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'),E='\n  <path class="'.concat(f,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(r,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#dd5357"/>\n  <path class="').concat(u,'" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="').concat(l,'" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'),T='\n  <path class="'.concat(f,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(r,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#e6912c"/>\n  <path class="').concat(u,'" d="M9.82 14.87a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.71a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.53.53 0 0 1-.24.06c-.12 0-.19-.07-.21-.13l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38A5.72 5.72 0 0 1 7.61 4a3.68 3.68 0 0 1 1.19-.19A3.86 3.86 0 0 1 10 4a3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" opacity=".2"/>\n  <path class="').concat(l,'" d="M9.82 14.37a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.21a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.16l-.1.09a.53.53 0 0 1-.24.06C7 6.14 6.93 6.1 6.91 6l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38 5.72 5.72 0 0 1 .9-.37 3.68 3.68 0 0 1 1.22-.13 3.86 3.86 0 0 1 1.2.19 3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" fill="#fff"/>\n'),N='\n    <path class="'.concat(f,'" d="M6.33,16.85l-6-12A3,3,0,0,1,3,.5H15a3,3,0,0,1,2.67,4.33l-6,12A3,3,0,0,1,6.33,16.85Z" opacity=".3"/>\n    <path class="').concat(r,'" d="M6.33,16.35l-6-12A3,3,0,0,1,3,0H15a3,3,0,0,1,2.67,4.33l-6,12A3,3,0,0,1,6.33,16.35Z" fill="#c93430"/>\n    <path class="').concat(u,'" d="M8.92,2,5.9,9.3A.14.14,0,0,0,6,9.48h2.6a.14.14,0,0,1,.14.14l0,5.4c0,.12.18.19.23.08l3.7-7.92A.13.13,0,0,0,12.53,7H9.64a.14.14,0,0,1-.14-.13L9.15,2.05C9.15,1.93,9,1.87,8.92,2Z" opacity=".2"/>\n    <path class="').concat(l,'" d="M8.92,1.48,5.9,8.8A.14.14,0,0,0,6,9h2.6a.14.14,0,0,1,.14.14l0,5.4c0,.12.18.19.23.08l3.7-7.92a.13.13,0,0,0-.13-.18H9.64a.14.14,0,0,1-.14-.13L9.15,1.55C9.15,1.43,9,1.37,8.92,1.48Z" fill="#fff"/>\n'),C=('\n  <path\n    class="'.concat(f,'"\n    d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"\n    opacity=".3"></path>\n\n  <path\n    class="').concat(r,'"\n    d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"\n    fill="#8a8886"></path>\n\n  <path\n    d="M3.59,10.23a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,13.31,3.58,3.58,0,0,0,10.47,13a3.94,3.94,0,0,0,1.22-.81A4.09,4.09,0,0,0,12.5,11a3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2A3.94,3.94,0,0,0,10.47,6,3.65,3.65,0,0,0,9,5.69a3.61,3.61,0,0,0-1.23.21,3.23,3.23,0,0,0-1.09.6L7.77,7.59c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,8a.52.52,0,0,1-.17-.38V4.45c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,5.34a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,4.05a5.3,5.3,0,0,1,2.12.44,5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,7.38a5.23,5.23,0,0,1,.44,2.12A5.16,5.16,0,0,1,14,11.62a5.59,5.59,0,0,1-1.16,1.73,5.32,5.32,0,0,1-1.73,1.18A5.64,5.64,0,0,1,9,15a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,12.1,5.1,5.1,0,0,1,3.59,10.23Z"\n    class="').concat(u,'"\n    opacity=".3"></path>\n\n  <path\n    d="M3.59,9.73a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,12.81a3.58,3.58,0,0,0,1.47-.31,3.94,3.94,0,0,0,1.22-.81,4.09,4.09,0,0,0,.81-1.2,3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2,3.94,3.94,0,0,0-1.22-.81A3.65,3.65,0,0,0,9,5.19a3.61,3.61,0,0,0-1.23.21A3.23,3.23,0,0,0,6.68,6L7.77,7.09c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,7.49a.52.52,0,0,1-.17-.38V4c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,4.84a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,3.55,5.3,5.3,0,0,1,11.12,4a5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,6.88,5.23,5.23,0,0,1,14.45,9,5.16,5.16,0,0,1,14,11.12a5.59,5.59,0,0,1-1.16,1.73A5.32,5.32,0,0,1,11.12,14,5.64,5.64,0,0,1,9,14.45a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,11.6,5.1,5.1,0,0,1,3.59,9.73Z"\n    class="').concat(l,'"\n    fill="#ffffff"></path>\n'),n("./utils/object.js")),S={$1:"!",$2:"?",$3:"!!",$4:"??",$5:"!?",$6:"?!",$10:"=",$11:"=",$12:"=",$13:"∞",$14:"⩲",$15:"⩱",$16:"±",$17:"∓",$18:"+-",$19:"-+",$22:"⨀",$23:"⨀",$32:"⟳",$33:"⟳",$36:"→",$37:"→",$40:"↑",$41:"↑",$44:"∞/=",$45:"=/∞",$132:"⇆",$133:"⇆",$146:"N"},A=(Object(C.a)(S),n("./utils/translation/translation.helper.js")),L="//images.chesscomfiles.com",P=(Object(A.trans)("Best Move"),Object(A.trans)("is best"),Object(A.trans)("Blunder"),Object(A.trans)("is a blunder"),Object(A.trans)("Book"),Object(A.trans)("is a book move"),Object(A.trans)("Brilliant"),Object(A.trans)("is brilliant"),Object(A.trans)("Correct"),Object(A.trans)("Critical"),Object(A.trans)("Excellent"),Object(A.trans)("is excellent"),Object(A.trans)("Forced"),Object(A.trans)("is forced"),Object(A.trans)("Good"),Object(A.trans)("is good"),Object(A.trans)("Inaccuracy"),Object(A.trans)("is an inaccuracy"),Object(A.trans)("Incorrect"),Object(A.trans)("Missed Win"),Object(A.trans)("is a missed win"),Object(A.trans)("Mistake"),Object(A.trans)("is a mistake"),Object(A.trans)("Threat"),Object(A.trans)("is threat"),"inside"),M=null,I="outside",x=("".concat(L,"/chess-themes/boards"),"".concat(L,"/chess-themes/pieces"),"".concat(L,"/chess-themes/sounds"),Object(A.trans)("None"),Object(A.trans)("Inside"),Object(A.trans)("Outside"),function getArrayOfElements(e){return s()(document.querySelectorAll(e))})},"./utils/http/index.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./utils/http/index.js")},"./utils/i18n.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(a),r=n("./web/core/api/content/config.js"),l=n("./utils/translator.js");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function getLocale(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n=e||(Object.prototype.hasOwnProperty.call(window,"context")?window.context.i18n.locale:"en-US");return n.replace("_",t)}var u={year:{milliseconds:31536e6,str:"{1} 1 year|]1,Inf] %1$s% years",strAgo:"{1} 1 year ago|]1,Inf] %1$s% years ago"},month:{milliseconds:function getMsInThisMonth(){var e=864e5;switch((new Date).getMonth()){case 3:case 5:case 8:case 10:return 30*e;case 1:return(new Date).getFullYear()%4==0?29*e:28*e;default:return 31*e}}(),str:"{1} 1 month|]1,Inf] %1$s% months",strAgo:"{1} 1 month ago|]1,Inf] %1$s% months ago"},day:{milliseconds:864e5,str:"{1} 1 day|]1,Inf] %1$s% days",strAgo:"{1} 1 day ago|]1,Inf] %1$s% days ago"},hour:{milliseconds:36e5,str:"{1} 1 hour|]1,Inf] %1$s% hours",strAgo:"{1} 1 hour ago|]1,Inf] %1$s% hours ago"},minute:{milliseconds:6e4,str:"{1} 1 minute|]1,Inf] %1$s% minutes",strAgo:"{1} 1 minute ago|]1,Inf] %1$s% minutes ago"}},f={hoursMinute:function hoursMinute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_objectSpread({abbreviateHours:!1,abbreviateMinutes:!0,asObject:!1,includeDays:!1},t),a=86400,s=3600,r=60,u="{0} 0 days|{1} 1 day|]1,Inf] %1$s% days",f="{0} 0 hours|{1} 1 hour|]1,Inf] %1$s% hours",_="{0} 0 min|{1} 1 min|]1,Inf] %1$s% min";n.abbreviateHours&&(f="{0} 0 hrs|{1} 1 hr|]1,Inf] %1$s% hrs"),n.abbreviateMinutes||(_="{1} 1 minute|]1,Inf] %1$s% minutes");var b=[],h=0,v=0,g=0,O=e;!0===n.includeDays&&(O-=(h=Math.floor(O/a))*a),O-=(v=Math.floor(O/s))*s,g=Math.floor(O/r);var j=l.default.transChoice(u,h,{"%1$s%":h}),y=l.default.transChoice(f,v,{"%1$s%":v}),w=l.default.transChoice(_,g,{"%1$s%":g});return h>0&&b.push(j),v>0&&b.push(y),(g>0||0===b.length)&&b.push(w),n.asObject?{days:j,hours:y,minutes:w}:b.join(" ")},long:function long(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{year:"numeric",month:"short",day:"numeric"},n=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat(getLocale(),t).format(n)},full:function full(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e instanceof Date?e:new Date(e),a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"};return new Intl.DateTimeFormat(getLocale(),_objectSpread(_objectSpread({},a),t)).format(n)},numeric:function numeric(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e instanceof Date?e:new Date(e);if(window.Intl){var n=getLocale(),a={day:"2-digit",month:"2-digit",year:"numeric"};return new Intl.DateTimeFormat(n,a).format(t)}var s="0".concat(t.getMonth()+1).slice(-2),r="0".concat(t.getDate()).slice(-2);return"".concat(s,"/").concat(r,"/").concat(t.getFullYear())},relative:function relative(e){var t,n,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=Date.now(),_=e instanceof Date?e:new Date(e),b=_.getTime(),h=r?b-f:f-b;if(Math.abs(h)>u.month.milliseconds&&a){var v={year:"numeric",month:"short",day:"numeric"};return new Intl.DateTimeFormat(getLocale(),v).format(b)}if(h>=u.year.milliseconds)n=u.year,t=Math.abs(Math.floor(h/u.year.milliseconds));else if(h>=u.month.milliseconds)n=u.month,t=Math.abs(Math.floor(h/u.month.milliseconds));else if(h>=u.day.milliseconds)n=u.day,t=Math.abs(Math.floor(h/u.day.milliseconds));else if(h>=u.hour.milliseconds)n=u.hour,t=Math.abs(Math.floor(h/u.hour.milliseconds));else{if(!(h>=u.minute.milliseconds))return l.default.trans(r?"Right now":"Just now");n=u.minute,t=Math.abs(Math.floor(h/u.minute.milliseconds))}var g=Math.abs(h)===h;return l.default.transChoice(g&&s?n.strAgo:n.str,t,{"%1$s%":t})},customNumericDate:function customNumericDate(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m/d/y",a=e instanceof Date?e:new Date(e),s={d:"0".concat(a.getDate()).slice(-2),m:"0".concat(a.getMonth()+1).slice(-2),y:"".concat(a.getFullYear())},r=["m","d","y"].every((function(e){return n.split("/").includes(e)}));return r?n.split("/").reduce((function(e,t){return e.push(s[t]),e}),[]).join(t):"".concat(s.m).concat(t).concat(s.d).concat(t).concat(s.y)},userDate:function userDate(e){var t=window.context.user?new Date(1e3*e).toLocaleString("en-US",{timeZone:window.context.user.timezone}):new Date(1e3*e),n=new Date(t).setMilliseconds(0),a=new Date(n),s=r.b.daysOfWeek[a.getDay()],l=a.getDate(),u=r.b.months[a.getMonth()],f=a.toLocaleTimeString(getLocale()),_=f.split(" ").length>1?f.split(" ")[1]:"",b=f.split(" ")[0].split(":");return b.pop(),b=b.join(":"),"".concat(s,", ").concat(u," ").concat(l,", ").concat(b).concat(_)}}},"./utils/is-2fa.js":function(e,t,n){"use strict";var a=n("./utils/router.js");t.a=function(){return-1!==window.location.href.indexOf(a.default.generate("web_2fa_login"))}},"./utils/iterable/service.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var a=window.context?window.context.iterableKey:"",s={ITERABLE_API_TRACK_URL:"https://api.iterable.com/api/events/track?apiKey=".concat(a),ITERABLE_API_UPDATE_URL:"https://api.iterable.com/api/users/update?apiKey=".concat(a)},r=n("./utils/http/index.js"),l=window.context||{},u=l.user,f=l.iterableMuteApiCallsFeature,_=u?String(u.id):"",b=u&&!u.isGuest&&!f,h=function track(e,t){if(b)return r.default.post(s.ITERABLE_API_TRACK_URL,{userId:_,eventName:e,createdAt:Date.now(),dataFields:t||{}})},v=function update(e){if(b)return r.default.post(s.ITERABLE_API_UPDATE_URL,{userId:_,dataFields:e||{}})}},"./utils/object.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return me})),n.d(t,"c",(function(){return pe})),n.d(t,"b",(function(){return ve}));n("./node_modules/@babel/runtime/helpers/slicedToArray.js");var a=n("./node_modules/@babel/runtime/helpers/typeof.js"),s=n.n(a),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(r),u=n("./node_modules/lodash-es/toString.js");var f=function baseSlice(e,t,n){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(s);++a<s;)r[a]=e[a+t];return r};var _=function castSlice(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:f(e,t,n)},b=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var h=function hasUnicode(e){return b.test(e)};var v=function asciiToArray(e){return e.split("")},g="[\\ud800-\\udfff]",O="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",j="\\ud83c[\\udffb-\\udfff]",y="[^\\ud800-\\udfff]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",E="(?:"+O+"|"+j+")"+"?",T="[\\ufe0e\\ufe0f]?",N=T+E+("(?:\\u200d(?:"+[y,w,k].join("|")+")"+T+E+")*"),C="(?:"+[y+O+"?",O,w,k,g].join("|")+")",S=RegExp(j+"(?="+j+")|"+C+N,"g");var A=function unicodeToArray(e){return e.match(S)||[]};var L=function stringToArray(e){return h(e)?A(e):v(e)};var P=function createCaseFirst(e){return function(t){t=Object(u.a)(t);var n=h(t)?L(t):void 0,a=n?n[0]:t.charAt(0),s=n?_(n,1).join(""):t.slice(1);return a[e]()+s}}("toUpperCase");var M=function capitalize(e){return P(Object(u.a)(e).toLowerCase())};var I=function arrayReduce(e,t,n,a){var s=-1,r=null==e?0:e.length;for(a&&r&&(n=e[++s]);++s<r;)n=t(n,e[s],s,e);return n},x=n("./node_modules/lodash-es/_basePropertyOf.js"),D=Object(x.a)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),R=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,U=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var z=function deburr(e){return(e=Object(u.a)(e))&&e.replace(R,D).replace(U,"")},F=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var $=function asciiWords(e){return e.match(F)||[]},H=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var G=function hasUnicodeWord(e){return H.test(e)},q="\\u2700-\\u27bf",B="a-z\\xdf-\\xf6\\xf8-\\xff",W="A-Z\\xc0-\\xd6\\xd8-\\xde",V="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",K="["+V+"]",Y="\\d+",Z="[\\u2700-\\u27bf]",Q="["+B+"]",J="[^\\ud800-\\udfff"+V+Y+q+B+W+"]",X="(?:\\ud83c[\\udde6-\\uddff]){2}",ee="[\\ud800-\\udbff][\\udc00-\\udfff]",te="["+W+"]",ne="(?:"+Q+"|"+J+")",ae="(?:"+te+"|"+J+")",se="(?:['’](?:d|ll|m|re|s|t|ve))?",re="(?:['’](?:D|LL|M|RE|S|T|VE))?",oe="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ce="[\\ufe0e\\ufe0f]?",ie=ce+oe+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",X,ee].join("|")+")"+ce+oe+")*"),le="(?:"+[Z,X,ee].join("|")+")"+ie,ue=RegExp([te+"?"+Q+"+"+se+"(?="+[K,te,"$"].join("|")+")",ae+"+"+re+"(?="+[K,te+ne,"$"].join("|")+")",te+"?"+ne+"+"+se,te+"+"+re,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Y,le].join("|"),"g");var de=function unicodeWords(e){return e.match(ue)||[]};var fe=function words(e,t,n){return e=Object(u.a)(e),void 0===(t=n?void 0:t)?G(e)?de(e):$(e):e.match(t)||[]},_e=RegExp("['’]","g");var be=function createCompounder(e){return function(t){return I(fe(z(t).replace(_e,"")),e,"")}}((function(e,t,n){return t=t.toLowerCase(),e+(n?M(t):t)}));function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function objectHasProp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.prototype.hasOwnProperty.call(e,t)},me=function invertObject(e){return Object.keys(e).reduce((function(t,n){return _objectSpread(_objectSpread({},t),{},l()({},e[n],n))}),{})},pe=function transformObjectBooleansToBinaryString(e){return Object.keys(e).reduce((function(t,n){var a=e[n];return"boolean"==typeof a&&(a=a?"1":"0"),t[n]=a,t}),{})},ve=function propsToCamelCase(e){var t={};for(var n in e)if(he(e,n)){var a="object"===s()(e[n])?propsToCamelCase(e[n]):e[n];t[be(n)]=a}return t}},"./utils/polyfill/horrific-safari-array-reverse-bug.js":function(e,t){!function(){if(function buggy(){var e=[1,2];return String(e)===String(e.reverse())}()){var e=Array.prototype.reverse;Array.prototype.reverse=function reverse(){return Array.isArray(this)&&(this.length=this.length),e.call(this)}}}()},"./utils/polyfill/nodelist-foreach.js":function(e,t){!NodeList.prototype.forEach&&Array.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError("this is null or not defined");var a=Object(this),s=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),n=0;n<s;){var r;n in a&&(r=a[n],e.call(t,r,n,a)),n++}})},"./utils/polyfill/polyfill.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/url-search-params-polyfill/index.js"),n("./node_modules/classlist-polyfill/src/index.js"),n("./utils/polyfill/nodelist-foreach.js"),n("./utils/polyfill/remove-element.js"),n("./utils/polyfill/horrific-safari-array-reverse-bug.js")},"./utils/polyfill/remove-element.js":function(e,t){[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function remove(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}))},"./utils/router.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./utils/router.js")},"./utils/sentry/capture-exception.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./utils/sentry/capture-exception.js")},"./utils/sentry/set-sentry-context.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./utils/sentry/set-sentry-context.js")},"./utils/translation/translation.helper.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./utils/translation/translation.helper.js")},"./utils/translator.js":function(e,t,n){e.exports=n("dll-reference coreDLL")("./utils/translator.js")},"./utils/window/post-message.ts":function(e,t,n){"use strict";function postMessage(e){window.postMessage(e,window.location.origin)}n.d(t,"a",(function(){return postMessage}))},"./web/core/api/board/helper/make-resize-event.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function makeResizeEvent(){var e;return"function"==typeof Event?e=new Event("resize"):(e=document.createEvent("Event")).initEvent("resize",!1,!0),e}},"./web/core/api/content/config.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f}));var a,s,r=n("./utils/router.js"),l=n("./utils/translator.js"),u=(null===(a=window.context)||void 0===a||null===(s=a.csrf)||void 0===s||s.token,window.context&&window.context.locale,window.context&&window.context.user,window.context&&window.context.user&&window.context.user.username,{category:function category(e){return l.default.trans(e,{},"dynamic")},daysOfWeek:[l.default.trans("Sunday"),l.default.trans("Monday"),l.default.trans("Tuesday"),l.default.trans("Wednesday"),l.default.trans("Thursday"),l.default.trans("Friday"),l.default.trans("Saturday")],loading:l.default.trans("Loading..."),months:[l.default.trans("January"),l.default.trans("February"),l.default.trans("March"),l.default.trans("April"),l.default.trans("May"),l.default.trans("June"),l.default.trans("July"),l.default.trans("August"),l.default.trans("September"),l.default.trans("October"),l.default.trans("November"),l.default.trans("December")],noResult:l.default.trans("No results found."),showMore:l.default.trans("More"),showLess:l.default.trans("Less")}),f={AMPLITUDE_LOGGER:"amplitude-logger",BOARD_POPOVER:"v-board-popover",CAPTCHA:"captcha",COLLAPSE:"v-toggle-collapse",COLLAPSED:"toggle-collapsed",CONTENT_AD:"content-ad",CONTENT_CATEGORY_SELECT:"content-category-select",CONTENT_LANGUAGE_SELECT:"content-language-select",CONFIRM_OPEN:"confirm-open",CONFIRM_POPOVER:"v-confirm-popover",CONFIRM_POPOVER_INLINE:"confirm-popover-inline",DONATE_MODAL:"donate-modal",FEATURE_SIDEBAR_LINK:"post-category-link-feature",FILTERS:"page-filters",FOLLOW_UNFOLLOW_AUTHOR:"follow-unfollow-author",FORM_DATEPICKER:"v-datepicker",FORM_DROPDOWN:"form-dropdown",GAME_PREVIEW:"game-preview",GIFT_MEMBERSHIP_MODAL:"gift-membership-modal",HEADLINE_SIDEBAR_LINK:"post-category-link-headline",HIDDEN:"toggle-hidden",LANGUAGE_DROPDOWN:"post-view-languages",MESSAGE_PARENT:"vue-message",NAVIGATION_FOOTER:"navigation-footer",NEW_GAME:"new-game",PAGINATION_BOTTOM:"pagination-bottom",PAGINATION_TOP:"pagination-top",PAGINATION_SCROLL_TOP:".pagination-top",POST_AUTHOR_FOLLOW:"post-author-follow",POST_CAN_EDIT_URL:"post-can-edit-url",POST_EDIT_URL:"post-edit-url",POST_EDIT_URL_FIELD:"post-edit-url-field",POST_IMAGE_BUTTON:"image-upload-button",POST_IMAGE_THUMBNAIL:"image-upload-thumbnail",SCROLL_TOP_ANCHOR:"scroll-top-anchor",SHORT_SIDEBAR_AD_BOTTOM:"short-sidebar-ad-bottom",SHORT_SIDEBAR_AD_TOP:"short-sidebar-ad-top",SIDEBAR_STATS:"sidebar-stats",SIDEBAR_SURVEY:"sidebar-survey",SIDEBAR_TOGGLE_BUTTON_TEXT:"toggle-content-button-text",SIDEBAR_TOGGLE_ICON:"toggle-content-icon",SIDEBAR_USER_ITEMS:"sidebar-users-grid-toggle-item",SIDEBAR_USERS_TOGGLE_BUTTON:"toggle-content-button",STAT_CHART:"stat-chart",TABS_BUTTON:"v5-tabs-button",TABS_PANEL:"v5-tabs-panel",TIMEZONES:"page-timezones",TOOLTIP:"v-tooltip",TOOLTIP_CLASS:"tooltip",TOOLTIP_TOP:"top",USER_POPOVER:"v-user-popover",USER_POPOVER_TOOLTIP:"v-user-popover-tooltip",USER_TAGLINE:"post-view-meta-user",VERSION_DROPDOWN:"version-dropdown"};r.default.generate("web_security_login_and_go")},"./web/core/api/position/is-rtl.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function isRtl(){return"rtl"===document.querySelector("html").getAttribute("dir")}},"./web/core/api/user/config.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return h}));var a,s,r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(r),u=(n("./utils/router.js"),n("./utils/translator.js"));u.default.trans("Membership Icons"),u.default.trans("Emoji"),u.default.trans("Chess"),u.default.trans("Holiday"),u.default.trans("Hosts"),u.default.trans("Computer Chess"),u.default.trans("PRO Chess League");var f={category:"membership_icons",code:"nothing",description:u.default.trans("Nothing"),id:206,imageCode:"nothing",membershipLevelCode:"staff",name:u.default.trans("Nothing"),status:""},_=(u.default.trans("Accept Friend Request"),u.default.trans("Add Friend"),u.default.trans("Block"),u.default.trans("Are you sure you want to block this user?"),u.default.trans("Cancel"),u.default.trans("Cancel Friend Request"),u.default.trans("Challenge"),u.default.trans("Follow"),u.default.trans("Game Archive"),u.default.trans("Gift Membership"),u.default.trans("Give Award"),u.default.trans("Moderator"),u.default.trans("Online Now"),u.default.trans("In Live"),u.default.trans("Remove Friend"),u.default.trans("Are you sure you want to remove this friend from your list?"),u.default.trans("Report"),u.default.trans("Send Message"),u.default.trans("Show your flair!"),u.default.trans("Staff"),u.default.trans("Unblock"),u.default.trans("Unfollow"),u.default.trans("Tell us more..."),{cheater:5,abuser:6,voluntarilyClosed:7,unspecifiedClosed:8,basic:10,silver:20,gold:30,platinum:40,diamond:50,moderator:80,staff:90}),b=(a={},l()(a,_.diamond,"diamond"),l()(a,_.abuser,"abuser"),l()(a,_.cheater,"cheater"),l()(a,_.voluntarilyClosed,"inactive"),l()(a,_.unspecifiedClosed,"cheater"),l()(a,_.gold,"gold"),l()(a,_.moderator,"pawn-blue"),l()(a,_.platinum,"platinum"),l()(a,_.staff,"pawn-green"),s={},l()(s,_.basic,u.default.trans("Basic Membership")),l()(s,_.diamond,u.default.trans("Diamond Membership")),l()(s,_.cheater,u.default.trans("Closed: Fair Play")),l()(s,_.abuser,u.default.trans("Closed: Abuse")),l()(s,_.voluntarilyClosed,u.default.trans("Closed: Inactive")),l()(s,_.unspecifiedClosed,u.default.trans("Account Closed")),l()(s,_.gold,u.default.trans("Gold Membership")),l()(s,_.moderator,u.default.trans("Moderator Account")),l()(s,_.platinum,u.default.trans("Platinum Membership")),l()(s,_.silver,u.default.trans("Silver Membership")),l()(s,_.staff,u.default.trans("Staff Account")),s),h={GM:u.default.trans("Grandmaster"),WGM:u.default.trans("Woman Grandmaster"),IM:u.default.trans("International Master"),WIM:u.default.trans("Woman International Master"),FM:u.default.trans("FIDE Master"),WFM:u.default.trans("Woman FIDE Master"),NM:u.default.trans("National Master"),CM:u.default.trans("FIDE Candidate Master"),WCM:u.default.trans("FIDE Woman Candidate Master"),WNM:u.default.trans("Woman National Master")}},"./web/core/api/user/helper.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h}));var a=n("./utils/is-2fa.js"),s=(n("./utils/router.js"),n("./utils/dark-mode.ts")),r=n("./web/core/api/user/config.js"),l=window.context,u=function isLoggedIn(){return!(!l||!l.user||Object(a.a)())},f=function isGuest(){var e;return null==l||null===(e=l.user)||void 0===e?void 0:e.isGuest},_=function checkUserStatus(e){if(!u())return!1;var t=!1;switch(e){case"isActivated":t=l.user.isActivated;break;case"isStaff":t=l.user.membershipLevel>=r.c.staff;break;case"isStaffOnly":t=l.user.membershipLevel===r.c.staff;break;case"isModerator":t=l.user.membershipLevel>=r.c.moderator;break;case"isModeratorOnly":t=l.user.membershipLevel===r.c.moderator;break;case"isDiamond":t=l.user.membershipLevel>=r.c.diamond;break;case"isDiamondOnly":t=l.user.membershipLevel===r.c.diamond;break;case"isPlatinum":t=l.user.membershipLevel>=r.c.platinum;break;case"isPlatinumOnly":t=l.user.membershipLevel===r.c.platinum;break;case"isSilver":t=l.user.membershipLevel>=r.c.silver;break;case"isSilverOnly":t=l.user.membershipLevel===r.c.silver;break;case"isGold":t=l.user.membershipLevel>=r.c.gold;break;case"isGoldOnly":t=l.user.membershipLevel===r.c.gold;break;case"isPremium":t=l.user.membershipLevel>=r.c.silver;break;case"isBasic":t=l.user.membershipLevel===r.c.basic;break;case"isNewlyRegistered":t=l.user.isNewlyRegistered;break;case"isGuest":t=l.user.isGuest;break;case"chessTitle":t=l.user.chessTitle;break;default:t=!1}return t},b=function getAdditionalUserInfo(e){var t=!1;if(!u()){switch(e){case"diagramSettings":t={};break;case"isDarkMode":t=Object(s.a)();break;default:t=null}return t}switch(e){case"cohort":t=l.user.cohort;break;case"flairCode":t=l.user.flairCode;break;case"getUserId":t=l.user.id;break;case"getUsername":t=l.user.username;break;case"getAvatarUrl":t=l.user.avatarUrl;break;case"getAvatarLargeUrl":t=l.user.avatarLargeUrl;break;case"getSettingsAvatarUrl":t=l.user.settingsAvatarUrl;break;case"getLastLoginDate":t=l.user.lastLoginDate;break;case"registerDate":t=l.user.registerDate;break;case"getBrowserTimezone":t=window.jstz.determine().name();break;case"getTimezone":t=l.user.timezone;break;case"getDiagramSettings":t=l.diagramSettings;break;case"language":t=l.i18n.locale;break;case"contentLanguage":t=l.i18n.contentLanguage;break;case"speaksEnglish":t="en_US"===l.i18n.locale;break;case"eligibleFirstTrial":t=l.user.eligibleFirstTrial;break;case"fairPlayAgree":t=l.user.fairPlayAgree;break;case"getArchiveView":t=l.user.archiveView?l.user.archiveView:"grid";break;case"homeContentType":t="following";break;case"showAlertsOnHome":t=l.user.showAlertsOnHome;break;case"getMembershipLevel":t=l.user.membershipLevel;break;case"isClassicTheme":t=l.user.isClassicTheme;break;case"isContentHidden":t=l.user.isContentHidden;break;case"isDarkMode":t=Object(s.a)();break;case"safeMode":t=l.user.safeMode;break;case"uuid":t=l.user.uuid;break;default:t=!1}return t},h=function getMembershipName(e){return Object.keys(r.c).filter((function(t){return r.c[t]===e||t===e}))[0]}},4:function(e,t,n){n("./utils/polyfill/polyfill.js"),n("./core/navigation/index.js"),n("./core/styles/scrollbars.scss"),n("./core/navigation/styles/form.scss"),n("./core/navigation/styles/navigation.scss"),n("./core/navigation/styles/new-game.scss"),e.exports=n("./core/styles/modal.scss")},"dll-reference amplitudeDLL":function(e,t){e.exports=amplitudeDLL},"dll-reference coreDLL":function(e,t){e.exports=coreDLL}});